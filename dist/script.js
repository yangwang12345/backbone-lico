/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.15 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/**
 * @license RequireJS text 2.0.13 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!
 * jQuery JavaScript Library v2.1.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-18T15:11Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

/**
 * @license
 * lodash 3.0.0 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v2.3.1
//
// Copyright (c)2015 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/**
 * @license RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */

/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */

/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*
 * © Copyright Lenovo 2015.
 *
 * LIMITED AND RESTRICTED RIGHTS NOTICE:
 *
 * If data or software is delivered pursuant a General Services Administration
 * "GSA" contract, use, reproduction, or disclosure is subject to
 * restrictions set forth in Contract No. GS-35F-05925.
*/

/*! jQuery UI - v1.11.4 - 2015-06-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */

/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */

/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */

/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */

/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */

/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */

/*!
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */

/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */

/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */

/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */

/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */

/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */

/*!
 * jQuery UI Progressbar 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 */

/*!
 * jQuery UI Selectmenu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */

/*!
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */

/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */

/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */

/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */

/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */

/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */

/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */

/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */

/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */

/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */

/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */

/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */

/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */

/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */

/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */

/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */

/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */

/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */

/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */

/*!
 * elFinder - file manager for web
 * Version 2.x (Nightly: e7423bf) (2015-05-12)
 * http://elfinder.org
 * 
 * Copyright 2009-2015, Studio 42
 * Licensed under a 3 clauses BSD license
 */

/*
					 * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license
					 * Author: Jim Palmer (based on chunking idea from Dave Koelle)
					 * http://opensource.org/licenses/mit-license.php
					 */

/*! DataTables 1.10.5
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.10.5
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2008-2014 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*! DataTables Bootstrap 3 integration
 * ©2011-2014 SpryMedia Ltd - datatables.net/license
 */

/*! TableTools 2.2.4
 * 2009-2015 SpryMedia Ltd - datatables.net/license
 *
 * ZeroClipboard 1.0.4
 * Author: Joseph Huckaby - MIT licensed
 */

/**
 * @summary     TableTools
 * @description Tools and buttons for DataTables
 * @version     2.2.4
 * @file        dataTables.tableTools.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2009-2015 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/* TableTools
 * 2009-2015 SpryMedia Ltd - datatables.net/license
 */

/**
 * Bootstrap Multiselect (https://github.com/davidstutz/bootstrap-multiselect)
 * 
 * Apache License, Version 2.0:
 * Copyright (c) 2012 - 2015 David Stutz
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a
 * copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 * 
 * BSD 3-Clause License:
 * Copyright (c) 2012 - 2015 David Stutz
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *    - Redistributions of source code must retain the above copyright notice,
 *      this list of conditions and the following disclaimer.
 *    - Redistributions in binary form must reproduce the above copyright notice,
 *      this list of conditions and the following disclaimer in the documentation
 *      and/or other materials provided with the distribution.
 *    - Neither the name of David Stutz nor the names of its contributors may be
 *      used to endorse or promote products derived from this software without
 *      specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/**
 * jQuery JSON plugin v2.5.1
 * https://github.com/Krinkle/jquery-json
 *
 * @author Brantley Harris, 2009-2011
 * @author Timo Tijhof, 2011-2014
 * @source This plugin is heavily influenced by MochiKit's serializeJSON, which is
 *         copyrighted 2005 by Bob Ippolito.
 * @source Brantley Harris wrote this plugin. It is based somewhat on the JSON.org
 *         website's http://www.json.org/json2.js, which proclaims:
 *         "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.", a sentiment that
 *         I uphold.
 * @license MIT License <http://opensource.org/licenses/MIT>
 */

// ┌────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.1.4 - JavaScript Vector Library                          │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license.│ \\
// └────────────────────────────────────────────────────────────────────┘ \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ┌────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.4.2 - JavaScript Events Library                      │ \\
// ├────────────────────────────────────────────────────────────┤ \\
// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\
// └────────────────────────────────────────────────────────────┘ \\

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ "Raphaël 2.1.2" - JavaScript Vector Library                         │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël - JavaScript Vector Library                                 │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ SVG Module                                                          │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël - JavaScript Vector Library                                 │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ VML Module                                                          │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\

/* @license
morris.js v0.5.0
Copyright 2014 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/

/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */

function drawAQueue(e,t,n,i){var r=2;r=e*i,(2>r||1/0==i)&&(r=2);var s="<div><div>"+e+"</div><div><svg width='12' height='"+r+"'><rect x='0' y='0' width='12' height='"+r+"'style='fill:"+t+";stroke-width:0;stroke:"+t+"' /> Sorry, your browser does not support inline SVG.</svg></div><div>"+n+"</div></div>";return s}function drawAnIOBar(e,t,n,i){var r=2,s=function(e){var t={data:0,unit:"MB/s"};return 1024>e?(t.data=Number(e).toFixed(0),t.unit="B/s"):e>=1024&&1048576>e?(t.data=(e/1024).toFixed(0),t.unit="KB/s"):e>=1048576&&1073741824>e?(t.data=(e/1048576).toFixed(0),t.unit="MB/s"):e>=1073741824&&(t.data=(e/1073741824).toFixed(0),t.unit="GB/s"),t};r=e*i,(2>r||1/0==i)&&(r=2);var o=s(e),a="<div><div>"+o.data+o.unit+"</div><div><svg width='12' height='"+r+"'><rect x='0' y='0' width='12' height='"+r+"'style='fill:"+t+";stroke-width:0;stroke:"+t+"' /> Sorry, your browser does not support inline SVG.</svg></div><div>"+n+"</div></div>";return a}var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1==t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,s,o,a,l,c,d,u,h,p,f,m,g=n&&n.split("/"),v=C.map,b=v&&v["*"];if(e&&(e=e.split("/"),d=e.length-1,C.nodeIdCompat&&jsSuffixRegExp.test(e[d])&&(e[d]=e[d].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),i&&v&&(g||b)){o=e.split("/");e:for(a=o.length;a>0;a-=1){if(c=o.slice(0,a).join("/"),g)for(l=g.length;l>0;l-=1)if(s=getOwn(v,g.slice(0,l).join("/")),s&&(s=getOwn(s,c))){u=s,h=a;break e}!p&&b&&getOwn(b,c)&&(p=getOwn(b,c),f=a)}!u&&p&&(u=p,h=f),u&&(o.splice(0,h,u),e=o.join("/"))}return r=getOwn(C.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(C.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,i,r){var o,a,l,c,d=null,u=t?t.name:null,h=e,p=!0,f="";return e||(p=!1,e="_@r"+(E+=1)),c=s(e),d=c[0],e=c[1],d&&(d=n(d,u,r),a=getOwn(D,d)),e&&(d?f=a&&a.normalize?a.normalize(e,function(e){return n(e,u,r)}):-1===e.indexOf("!")?n(e,u,r):e:(f=n(e,u,r),c=s(f),d=c[0],f=c[1],i=!0,o=w.nameToUrl(f))),l=!d||a||i?"":"_unnormalized"+(P+=1),{prefix:d,name:f,parentMap:t,unnormalized:!!l,url:o,originalName:h,isDefine:p,id:(d?d+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new w.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(k,i);!hasProp(D,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(D[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function d(){globalDefQueue.length&&(apsp.apply(I,[I.length,0].concat(globalDefQueue)),globalDefQueue=[])}function u(e){delete k[e],delete T[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var s=i.id,o=getOwn(k,s);!o||e.depMatched[r]||n[s]||(getOwn(t,s)?(e.defineDep(r,D[s]),e.check()):h(o,t,n))}),n[i]=!0)}function p(){var e,t,n=1e3*C.waitSeconds,s=n&&w.startTime+n<(new Date).getTime(),o=[],a=[],l=!1,d=!0;if(!b){if(b=!0,eachProp(T,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&s)r(c)?(t=!0,l=!0):(o.push(c),i(c));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return d=!1}),s&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=w.contextName,c(e);d&&each(a,function(e){h(e,{},{})}),s&&!t||!l||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,p()},50)),b=!1}}function f(e){hasProp(D,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(d();I.length;){if(e=I.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var b,y,w,x,_,C={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},T={},S={},I=[],D={},M={},A={},E=1,P=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?D[e.map.id]=e.exports:e.exports=D[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(C.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(C.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=w.execCb(n,s,i,r)}catch(o){e=o}else r=w.execCb(n,s,i,r);if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=s;this.exports=r,this.map.isDefine&&!this.ignore&&(D[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),u(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=o(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,s,d,h=getOwn(A,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,f,!0)})||""),s=o(e.prefix+"!"+p,this.map.parentMap),l(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),d=getOwn(k,s.id),void(d&&(this.depMaps.push(s),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):h?(this.map.url=w.nameToUrl(h),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&u(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var s=e.name,l=o(s),d=useInteractive;i&&(n=i),d&&(useInteractive=!1),a(l),hasProp(C.config,t)&&(C.config[s]=C.config[t]);try{req.exec(n)}catch(u){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+u,u,[t]))}d&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(s),m([s],r)}),void i.load(e.name,m,r,C))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){T[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,i=k[n],hasProp(x,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:C,contextName:e,registry:k,defined:D,urlFetched:M,defQueue:I,Module:y,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=C.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(C[t]||(C[t]={}),mixin(C[t],e,!0,!0)):C[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),t[n]=e}),C.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(C.paths[n]=e.location),C.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function s(n,i,l){var d,u,h;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](k[t.id]):req.get?req.get(w,n,t,s):(u=o(n,t,!1,!0),d=u.id,hasProp(D,d)?D[d]:c(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),h=a(o(null,t)),h.skipMap=r.skipMap,h.init(n,i,l,{enabled:!0}),p()}),s)}return r=r||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),s=e.split("/")[0],o="."===s||".."===s;return-1!==r&&(!o||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),w.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(D,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(D,e)||hasProp(k,e)}}),t||(s.undef=function(e){d();var n=o(e,t,!0),r=getOwn(k,e);i(e),delete D[e],delete M[n.url],delete S[e],eachReverse(I,function(t,n){t[0]===e&&I.splice(n,1)}),r&&(r.events.defined&&(S[e]=r.events),u(e))}),s},enable:function(e){var t=getOwn(k,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(C.shim,e)||{},o=s.exports;for(d();I.length;){if(n=I.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(i=getOwn(k,e),!t&&!hasProp(D,e)&&i&&!i.inited){if(!(!C.enforceDefine||o&&getGlobal(o)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,s.deps||[],s.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,s,o,a,l,c,d=getOwn(C.pkgs,e);if(d&&(e=d),c=getOwn(A,e))return w.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(i=C.paths,r=e.split("/"),s=r.length;s>0;s-=1)if(o=r.slice(0,s).join("/"),l=getOwn(i,o)){isArray(l)&&(l=l[0]),r.splice(0,s,l);break}a=r.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+a}return C.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+C.urlArgs):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.15",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,s,o=defContextName;return isArray(e)||"string"==typeof e||(s=e,isArray(t)?(e=t,t=n,n=i):e=[]),s&&s.context&&(o=s.context),r=getOwn(contexts,o),r||(r=contexts[o]=req.s.newContext(o)),s&&r.configure(s),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),define("text",["module"],function(e){var t,n,i,r,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,d=c&&location.protocol&&location.protocol.replace(/\:/,""),u=c&&location.hostname,h=c&&(location.port||void 0),p={},f=e.config&&e.config()||{};return t={version:"2.0.13",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(i){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,s=e.lastIndexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,i=n||t,s=i.indexOf("!"),-1!==s&&(r="strip"===i.substring(s+1),i=i.substring(0,s),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var s,o,a,l=t.xdRegExp.exec(e);return l?(s=l[2],o=l[3],o=o.split(":"),a=o[1],o=o[0],!(s&&s!==n||o&&o.toLowerCase()!==i.toLowerCase()||(a||o)&&a!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,f.isBuild&&(p[e]=i),r(i)},load:function(e,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();f.isBuild=r&&r.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),a=n.toUrl(o),l=f.useXhr||t.useXhr;return 0===a.indexOf("empty:")?void i():void(!c||l(a,d,u,h)?t.get(a,function(n){t.finishLoad(e,s.strip,n,i)},function(e){i.error&&i.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)}))},write:function(e,n,i){if(p.hasOwnProperty(n)){var r=t.jsEscape(p[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,r,s){var o=t.parseName(n),a=o.ext?"."+o.ext:"",l=o.moduleName+a,c=i.toUrl(o.moduleName+a)+".js";t.load(l,i,function(){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},t.write(e,l,n,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");"﻿"===r[0]&&(r=r.substring(1)),t(r)}catch(s){i&&i(s)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,i,r){var s,o=t.createXhr();if(o.open("GET",e,!0),r)for(s in r)r.hasOwnProperty(s)&&o.setRequestHeader(s.toLowerCase(),r[s]);f.onXhr&&f.onXhr(o,e),o.onreadystatechange=function(){var t,r;4===o.readyState&&(t=o.status||0,t>399&&600>t?(r=new Error(e+" HTTP status: "+t),r.xhr=o,i&&i(r)):n(o.responseText),f.onXhrComplete&&f.onXhrComplete(o,e))},o.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),r)),l="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=a.readLine());)n.append(o),n.append(i);l=String(n.toString())}finally{a.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,o,a,l={};s&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(a,1,0,!1),o=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),o.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),l),o.close(),n.close(),t(l.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),t}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return W.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=ft[e]={};return Z.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function o(){K.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(wt,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:yt.test(n)?Z.parseJSON(n):n}catch(r){}bt.set(e,t,n)}else n=void 0;return n}function c(){return!0}function d(){return!1}function u(){try{return K.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=$t.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function g(e,t){var n,i,r,s,o,a,l,c;if(1===t.nodeType){if(vt.hasData(e)&&(s=vt.access(e),o=vt.set(t,s),c=s.events)){delete o.handle,o.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)Z.event.add(t,r,c[r][n])}bt.hasData(e)&&(a=bt.access(e),l=Z.extend({},a),bt.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&kt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,r=Z(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),s}function w(e){var t=K,n=Lt[e];return n||(n=y(e,t),"none"!==n&&n||(zt=(zt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=zt[0].contentDocument,t.write(),t.close(),n=y(e,t),zt.detach()),Lt[e]=n),n}function x(e,t,n){var i,r,s,o,a=e.style;return n=n||Ut(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),Ht.test(o)&&Bt.test(t)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Jt.length;r--;)if(t=Jt[r]+n,t in e)return t;return i}function k(e,t,n){var i=Gt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=Z.css(e,n+_t[s],!0,r)),i?("content"===n&&(o-=Z.css(e,"padding"+_t[s],!0,r)),"margin"!==n&&(o-=Z.css(e,"border"+_t[s]+"Width",!0,r))):(o+=Z.css(e,"padding"+_t[s],!0,r),"padding"!==n&&(o+=Z.css(e,"border"+_t[s]+"Width",!0,r)));return o}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Ut(e),o="border-box"===Z.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=x(e,t,s),(0>r||null==r)&&(r=e.style[t]),Ht.test(r))return r;i=o&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(o?"border":"content"),i,s)+"px"}function I(e,t){for(var n,i,r,s=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(s[o]=vt.get(i,"olddisplay"),n=i.style.display,t?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ct(i)&&(s[o]=vt.access(i,"olddisplay",w(i.nodeName)))):(r=Ct(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(o=0;a>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function D(e,t,n,i,r){return new D.prototype.init(e,t,n,i,r)}function M(){return setTimeout(function(){Xt=void 0}),Xt=Z.now()}function A(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=_t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function E(e,t,n){for(var i,r=(nn[t]||[]).concat(nn["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,t,e))return i}function P(e,t,n){var i,r,s,o,a,l,c,d,u=this,h={},p=e.style,f=e.nodeType&&Ct(e),m=vt.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Z.css(e,"display"),d="none"===c?vt.get(e,"olddisplay")||w(e.nodeName):c,"inline"===d&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qt.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(h))"inline"===("none"===c?w(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=vt.access(e,"fxshow",{}),s&&(m.hidden=!f),f?Z(e).show():u.done(function(){Z(e).hide()}),u.done(function(){var t;vt.remove(e,"fxshow");for(t in h)Z.style(e,t,h[t])});for(i in h)o=E(f?m[i]:0,i,u),i in m||(m[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,r,s,o;for(n in e)if(i=Z.camelCase(n),r=t[i],s=e[n],Z.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),o=Z.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,s=0,o=tn.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xt||M(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return a.notifyWith(e,[c,s,n]),1>s&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),d=c.props;for(R(d,c.opts.specialEasing);o>s;s++)if(i=tn[s].call(c,e,d,c.opts))return i;return Z.map(d,E,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(pt)||[];if(Z.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function r(a){var l;return s[a]=!0,Z.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=e===wn;return r(t.dataTypes[0])||!s["*"]&&r("*")}function N(e,t){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function O(e,t,n){for(var i,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function z(e,t,n,i){var r,s,o,a,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=d.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(s=a[0],d.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function L(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||Tn.test(e)?i(e,r):L(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)L(e+"["+r+"]",t[r],n,i)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var H=[],U=H.slice,q=H.concat,G=H.push,W=H.indexOf,V={},Y=V.toString,J=V.hasOwnProperty,X={},K=e.document,Q="2.1.3",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,it=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)
},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:H.sort,splice:H.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||Z.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=o[t],i=e[t],o!==i&&(c&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,s=n&&Z.isArray(n)?n:[]):s=n&&Z.isPlainObject(n)?n:{},o[t]=Z.extend(c,s,i)):void 0!==i&&(o[t]=i));return o},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!J.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,it)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,o=e.length,a=n(e);if(i){if(a)for(;o>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(a)for(;o>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):G.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],s=0,o=e.length,a=!n;o>s;s++)i=!t(e[s],s),i!==a&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,o=e.length,a=n(e),l=[];if(a)for(;o>s;s++)r=t(e[s],s,i),null!=r&&l.push(r);else for(s in e)r=t(e[s],s,i),null!=r&&l.push(r);return q.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=U.call(arguments,2),r=function(){return e.apply(t||this,i.concat(U.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:X}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var rt=function(e){function t(e,t,n,i){var r,s,o,a,l,c,u,p,f,m;if((t?t.ownerDocument||t:L)!==P&&E(t),t=t||P,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&F){if(11!==a&&(r=bt.exec(e)))if(o=r[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&O(t,s)&&s.id===o)return n.push(s),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&x.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&(!j||!j.test(e))){if(p=u=z,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?p=u.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=yt.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return I(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[z]=!0,e}function r(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,s=e([],n.length,t),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=H++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,o){var a,l,c=[B,s];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[z]||(t[z]={}),(a=l[i])&&a[0]===B&&a[1]===s)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,s=n.length;s>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var s,o=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!n||n(s,i,r))&&(o.push(s),c&&t.push(a));return o}function v(e,t,n,r,s,o){return r&&!r[z]&&(r=v(r)),s&&!s[z]&&(s=v(s,o)),i(function(i,o,a,l){var c,d,u,h=[],p=[],f=o.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!i&&t?v:g(v,h,e,a,l),y=n?s||(i?e:f||r)?[]:o:b;if(n&&n(b,y,a,l),r)for(c=g(y,p),r(c,[],a,l),d=c.length;d--;)(u=c[d])&&(y[p[d]]=!(b[p[d]]=u));if(i){if(s||e){if(s){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(b[d]=u);s(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=s?et(i,u):h[d])>-1&&(i[c]=!(o[c]=u))}}else y=g(y===o?y.splice(f,y.length):y),s?s(null,o,y,l):Q.apply(o,y)})}function b(e){for(var t,n,i,r=e.length,s=_.relative[e[0].type],o=s||_.relative[" "],a=s?1:0,l=p(function(e){return e===t},o,!0),c=p(function(e){return et(t,e)>-1},o,!0),d=[function(e,n,i){var r=!s&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>a;a++)if(n=_.relative[e[a].type])d=[p(f(d),n)];else{if(n=_.filter[e[a].type].apply(null,e[a].matches),n[z]){for(i=++a;r>i&&!_.relative[e[i].type];i++);return v(a>1&&f(d),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&b(e.slice(a,i)),r>i&&b(e=e.slice(i)),r>i&&h(e))}d.push(n)}return f(d)}function y(e,n){var r=n.length>0,s=e.length>0,o=function(i,o,a,l,c){var d,u,h,p=0,f="0",m=i&&[],v=[],b=D,y=i||s&&_.find.TAG("*",c),w=B+=null==b?1:Math.random()||.1,x=y.length;for(c&&(D=o!==P&&o);f!==x&&null!=(d=y[f]);f++){if(s&&d){for(u=0;h=e[u++];)if(h(d,o,a)){l.push(d);break}c&&(B=w)}r&&((d=!h&&d)&&p--,i&&m.push(d))}if(p+=f,r&&f!==p){for(u=0;h=n[u++];)h(m,v,o,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(B=w,D=b),m};return r?i(o):o}var w,x,_,C,k,T,S,I,D,M,A,E,P,R,F,j,$,N,O,z="sizzle"+1*new Date,L=e.document,B=0,H=0,U=n(),q=n(),G=n(),W=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,J=[],X=J.pop,K=J.push,Q=J.push,Z=J.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),st="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),dt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){E()};try{Q.apply(J=Z.call(L.childNodes),L.childNodes),J[L.childNodes.length].nodeType}catch(kt){Q={apply:J.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:L;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,R=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),F=!k(i),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName),x.getById=r(function(e){return R.appendChild(e).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xt,_t);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xt,_t);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},_.find.CLASS=x.getElementsByClassName&&function(e,t){return F?t.getElementsByClassName(e):void 0},$=[],j=[],(x.qsa=vt.test(i.querySelectorAll))&&(r(function(e){R.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+z+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||j.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(x.matchesSelector=vt.test(N=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){x.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),$.push("!=",ot)}),j=j.length&&new RegExp(j.join("|")),$=$.length&&new RegExp($.join("|")),t=vt.test(R.compareDocumentPosition),O=t||vt.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===L&&O(L,e)?-1:t===i||t.ownerDocument===L&&O(L,t)?1:M?et(M,e)-et(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,s=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!s||!a)return e===i?-1:t===i?1:s?-1:a?1:M?et(M,e)-et(M,t):0;if(s===a)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===L?-1:c[r]===L?1:0},i):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&E(e),n=n.replace(ut,"='$1']"),!(!x.matchesSelector||!F||$&&$.test(n)||j&&j.test(n)))try{var i=N.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&E(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&E(e);var n=_.attrHandle[t.toLowerCase()],i=n&&Y.call(_.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==i?i:x.attributes||!F?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!x.detectDuplicates,M=!x.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return M=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},_=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,_t),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,_t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var s=t.attr(r,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(at," ")+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(s){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&b){for(d=g[z]||(g[z]={}),c=d[e]||[],p=c[0]===B&&c[1],h=c[0]===B&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[B,p,h];break}}else if(b&&(c=(t[z]||(t[z]={}))[e])&&c[0]===B)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(b&&((u[z]||(u[z]={}))[e]=[B,h]),u!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,s=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[z]?s(n):s.length>1?(r=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=s(e,n),o=r.length;o--;)i=et(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(lt,"$1"));return r[z]?i(function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xt,_t),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,_t).toLowerCase(),function(t){var n;do if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,T=t.tokenize=function(e,n){var i,r,s,o,a,l,c,d=q[e+" "];if(d)return n?0:d.slice(0);for(a=e,l=[],c=_.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=dt.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(o in _.filter)!(r=ft[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):q(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],s=G[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=b(t[n]),s[z]?i.push(s):r.push(s);s=G(e,y(r,i)),s.selector=e}return s},I=t.select=function(e,t,n,i){var r,s,o,a,l,c="function"==typeof e&&e,u=!i&&T(e=c.selector||e);if(n=n||[],1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===t.nodeType&&F&&_.relative[s[1].type]){if(t=(_.find.ID(o.matches[0].replace(xt,_t),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=ft.needsContext.test(e)?0:s.length;r--&&(o=s[r],!_.relative[a=o.type]);)if((l=_.find[a])&&(i=l(o.matches[0].replace(xt,_t),yt.test(s[0].type)&&d(t.parentNode)||t))){if(s.splice(r,1),e=i.length&&h(s),!e)return Q.apply(n,i),n;break}}return(c||S(e,u))(i,t,!F,n,yt.test(e)&&d(t.parentNode)||t),n},x.sortStable=z.split("").sort(W).join("")===z,x.detectDuplicates=!!A,E(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var st=Z.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(r[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,r[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&st.test(e)?Z(e):e||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,dt=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ct.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),ot.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=K.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};dt.prototype=Z.fn,lt=Z(K);var ut=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,s=[],o=st.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(e){return e?"string"==typeof e?W.call(Z(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(ht[e]||Z.unique(r),ut.test(e)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||s(e):Z.extend({},e);var t,n,i,r,o,a,l=[],c=!e.once&&[],d=function(s){for(t=e.memory&&s,n=!0,a=r||0,r=0,o=l.length,i=!0;l&&o>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&d(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function s(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=l.length:t&&(r=n,d(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):d(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,s){var o=Z.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=U.call(arguments),o=s.length,a=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===a?e:Z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?U.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&Z.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,s),l.promise()}});var mt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(mt.resolveWith(K,[Z]),Z.fn.triggerHandler&&(Z(K).triggerHandler("ready"),Z(K).off("ready"))))}}),Z.ready.promise=function(t){return mt||(mt=Z.Deferred(),"complete"===K.readyState?setTimeout(Z.ready):(K.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),mt.promise(t)},Z.ready.promise();var gt=Z.access=function(e,t,n,i,r,s,o){var a=0,l=e.length,c=null==n;if("object"===Z.type(n)){r=!0;for(a in n)Z.access(e,t,a,n[a],!0,s,o)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>a;a++)t(e[a],n,o?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):s};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=n;else if(Z.isEmptyObject(s))Z.extend(this.cache[r],t);else for(i in t)s[i]=t[i];return s},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,bt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Z.extend({hasData:function(e){return bt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return bt.access(e,t,n)},removeData:function(e,t){bt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=bt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(s,i,r[i])));vt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){bt.set(this,e)}):gt(this,function(t){var n,i=Z.camelCase(e);if(s&&void 0===t){if(n=bt.get(s,e),void 0!==n)return n;if(n=bt.get(s,i),void 0!==n)return n;if(n=l(s,i,void 0),void 0!==n)return n}else this.each(function(){var n=bt.get(this,i);bt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&bt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){bt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=vt.get(e,t),n&&(!i||Z.isArray(n)?i=vt.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),s=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)
})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Z.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=vt.get(s[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},kt=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";X.focusinBubbles="onfocusin"in e;var St=/^key/,It=/^(?:mouse|pointer|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,r){var s,o,a,l,c,d,u,h,p,f,m,g=vt.get(e);if(g)for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=Z.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return typeof Z!==Tt&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],c=t.length;c--;)a=Mt.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(u=Z.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=Z.event.special[p]||{},d=Z.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},s),(h=l[p])||(h=l[p]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,f,o)!==!1||e.addEventListener&&e.addEventListener(p,o,!1)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),Z.event.global[p]=!0)},remove:function(e,t,n,i,r){var s,o,a,l,c,d,u,h,p,f,m,g=vt.hasData(e)&&vt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(a=Mt.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=Z.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)d=h[s],!r&&m!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(s,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));o&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||Z.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Z.event.remove(e,p+t[c],n,i,!0);Z.isEmptyObject(l)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(t,n,i,r){var s,o,a,l,c,d,u,h=[i||K],p=J.call(t,"type")?t.type:t,f=J.call(t,"namespace")?t.namespace.split("."):[];if(o=a=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),u=Z.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!Z.isWindow(i)){for(l=u.delegateType||p,Dt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(i.ownerDocument||K)&&h.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=h[s++])&&!t.isPropagationStopped();)t.type=s>1?l:u.bindType||p,d=(vt.get(o,"events")||{})[t.type]&&vt.get(o,"handle"),d&&d.apply(o,n),d=c&&o[c],d&&d.apply&&Z.acceptData(o)&&(t.result=d.apply(o,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||u._default&&u._default.apply(h.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[p])&&!Z.isWindow(i)&&(a=i[c],a&&(i[c]=null),Z.event.triggered=p,i[p](),Z.event.triggered=void 0,a&&(i[c]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,r,s,o=[],a=U.call(arguments),l=(vt.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((Z.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)s=t[n],r=s.selector+" ",void 0===i[r]&&(i[r]=s.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),i[r]&&i.push(s);i.length&&o.push({elem:l,handlers:i})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=It.test(r)?this.mouseHooks:St.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new Z.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:d):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,t);r||i.addEventListener(e,n,!0),vt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,t)-1;r?vt.access(i,t,r):(i.removeEventListener(e,n,!0),vt.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,r){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=d;else if(!i)return this;return 1===r&&(s=i,i=function(e){return Z().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=d),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Et=/<([\w:]+)/,Pt=/<|&#?\w+;/,Rt=/<(?:script|style|link)/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ot.optgroup=Ot.option,Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td,Z.extend({clone:function(e,t,n){var i,r,s,o,a=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=v(a),s=v(e),i=0,r=s.length;r>i;i++)b(s[i],o[i]);if(t)if(n)for(s=s||v(e),o=o||v(a),i=0,r=s.length;r>i;i++)g(s[i],o[i]);else g(e,a);return o=v(a,"script"),o.length>0&&m(o,!l&&v(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,s,o,a,l,c,d=t.createDocumentFragment(),u=[],h=0,p=e.length;p>h;h++)if(r=e[h],r||0===r)if("object"===Z.type(r))Z.merge(u,r.nodeType?[r]:r);else if(Pt.test(r)){for(s=s||d.appendChild(t.createElement("div")),o=(Et.exec(r)||["",""])[1].toLowerCase(),a=Ot[o]||Ot._default,s.innerHTML=a[1]+r.replace(At,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;Z.merge(u,s.childNodes),s=d.firstChild,s.textContent=""}else u.push(t.createTextNode(r));for(d.textContent="",h=0;r=u[h++];)if((!i||-1===Z.inArray(r,i))&&(l=Z.contains(r.ownerDocument,r),s=v(d.appendChild(r),"script"),l&&m(s),n))for(c=0;r=s[c++];)jt.test(r.type||"")&&n.push(r);return d},cleanData:function(e){for(var t,n,i,r,s=Z.event.special,o=0;void 0!==(n=e[o]);o++){if(Z.acceptData(n)&&(r=n[vt.expando],r&&(t=vt.cache[r]))){if(t.events)for(i in t.events)s[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);vt.cache[r]&&delete vt.cache[r]}delete bt.cache[n[bt.expando]]}}}),Z.fn.extend({text:function(e){return gt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return gt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Rt.test(e)&&!Ot[(Et.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,i,r,s,o,a,l=0,c=this.length,d=this,u=c-1,h=e[0],m=Z.isFunction(h);if(m||c>1&&"string"==typeof h&&!X.checkClone&&Ft.test(h))return this.each(function(n){var i=d.eq(n);m&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),p),s=r.length;c>l;l++)o=n,l!==u&&(o=Z.clone(o,!0,!0),s&&Z.merge(r,v(o,"script"))),t.call(this[l],o,l);if(s)for(a=r[r.length-1].ownerDocument,Z.map(r,f),l=0;s>l;l++)o=r[l],jt.test(o.type||"")&&!vt.access(o,"globalEval")&&Z.contains(a,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Nt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],r=Z(e),s=r.length-1,o=0;s>=o;o++)n=o===s?this:this.clone(!0),Z(r[o])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var zt,Lt={},Bt=/^margin/,Ht=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Ut=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(s);var t=e.getComputedStyle(o,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(s)}var n,i,r=K.documentElement,s=K.createElement("div"),o=K.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(o),e.getComputedStyle&&Z.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=o.appendChild(K.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(s),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(s),o.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=o[s];return r};var qt=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+xt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+xt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Jt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=Z.camelCase(t),l=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(l,a)),o=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t]:(s=typeof n,"string"===s&&(r=Wt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||Z.cssNumber[a]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,s,o,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),o=Z.cssHooks[t]||Z.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Yt&&(r=Yt[t]),""===n||n?(s=parseFloat(r),n===!0||Z.isNumeric(s)?s||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?qt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Vt,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&Ut(e);return k(e,n,i?T(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=_(X.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+_t[i]+t]=s[i]||s[i-2]||s[0];return r}},Bt.test(e)||(Z.cssHooks[e+t].set=k)}),Z.fn.extend({css:function(e,t){return gt(this,function(e,t,n){var i,r,s={},o=0;if(Z.isArray(t)){for(i=Ut(e),r=t.length;r>o;o++)s[t[o]]=Z.css(e,t[o],!1,i);return s}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Xt,Kt,Qt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[P],nn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Zt.exec(t),s=r&&r[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==s&&+i)&&Zt.exec(Z.css(n.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+i||1;do a=a||".5",o/=a,Z.style(n.elem,e,o+s);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(F,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),s=Z.speed(t,n,i),o=function(){var t=F(this,Z.extend({},e),s);(r||vt.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=Z.timers,o=vt.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&en.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=Z.timers,o=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,i,r)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Xt=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Xt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Kt||(Kt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Kt),Kt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var rn,sn,on=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return gt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Tt?Z.prop(e,t,n):(1===s&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?sn:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(pt);if(s&&1===e.nodeType)for(;n=s[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),sn={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=on[t]||Z.find.attr;on[t]=function(e,t,i){var r,s;return i||(s=on[t],on[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,on[t]=s),r}});var an=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return gt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(e),s&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,r,s,o,a="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=Z.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?Z.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=Z(this),s=e.match(pt)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(t)>=0)return!0;return!1}});var cn=/\r/g;Z.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:i.length,l=0>r?a:s?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=Z.makeArray(t),o=r.length;o--;)i=r[o],(i.selected=Z.inArray(i.value,s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},X.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var dn=Z.now(),un=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var hn=/#.*$/,pn=/([?&])_=[^&]*/,fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,vn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yn={},wn={},xn="*/".concat("*"),_n=e.location.href,Cn=bn.exec(_n.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_n,type:"GET",isLocal:mn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,Z.ajaxSettings),t):N(Z.ajaxSettings,e)},ajaxPrefilter:j(yn),ajaxTransport:j(wn),ajax:function(e,t){function n(e,t,n,o){var l,d,v,b,w,_=t;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,s=o||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=O(u,x,n)),b=z(u,b,x,l),l?(u.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(Z.etag[r]=w)),204===e||"HEAD"===u.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,v=b.error,l=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(t||_)+"",l?f.resolveWith(h,[d,_,x]):f.rejectWith(h,[x,_,v]),x.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,u,l?d:v]),m.fireWith(h,[x,_]),c&&(p.trigger("ajaxComplete",[x,u]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,o,a,l,c,d,u=Z.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?Z(h):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=fn.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];
else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||_n)+"").replace(hn,"").replace(vn,Cn[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=Z.trim(u.dataType||"*").toLowerCase().match(pt)||[""],null==u.crossDomain&&(l=bn.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===Cn[1]&&l[2]===Cn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=Z.param(u.data,u.traditional)),$(yn,u,t,x),2===y)return x;c=Z.event&&u.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!gn.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(un.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=pn.test(r)?r.replace(pn,"$1_="+dn++):r+(un.test(r)?"&":"?")+"_="+dn++)),u.ifModified&&(Z.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&x.setRequestHeader("If-None-Match",Z.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+xn+"; q=0.01":""):u.accepts["*"]);for(d in u.headers)x.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(u.beforeSend.call(h,x,u)===!1||2===y))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](u[d]);if(i=$(wn,u,t,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},u.timeout));try{y=1,i.send(v,n)}catch(_){if(!(2>y))throw _;n(-1,_)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var kn=/%20/g,Tn=/\[\]$/,Sn=/\r?\n/g,In=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)L(n,e[n],t,r);return i.join("&").replace(kn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Dn.test(this.nodeName)&&!In.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mn=0,An={},En={0:200,1223:204},Pn=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in An)An[e]()}),X.cors=!!Pn&&"withCredentials"in Pn,X.ajax=Pn=!!Pn,Z.ajaxTransport(function(e){var t;return X.cors||Pn&&!e.crossDomain?{send:function(n,i){var r,s=e.xhr(),o=++Mn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)s.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete An[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status,s.statusText):i(En[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=An[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rn=[],Fn=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||Z.expando+"_"+dn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,o,a=t.jsonp!==!1&&(Fn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Fn,"$1"+r):t.jsonp!==!1&&(t.url+=(un.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||Z.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},i.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,Rn.push(r)),o&&Z.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var i=ot.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var jn=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&jn)return jn.apply(this,arguments);var i,r,s,o=this,a=e.indexOf(" ");return a>=0&&(i=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,o.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var $n=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,r,s,o,a,l,c,d=Z.css(e,"position"),u=Z(e),h={};"static"===d&&(e.style.position="relative"),a=u.offset(),s=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(s+l).indexOf("auto")>-1,c?(i=u.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Tt&&(r=i.getBoundingClientRect()),n=B(s),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$n;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||$n})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(r){return gt(this,function(t,r,s){var o=B(t);return void 0===s?o?o[n]:t[r]:void(o?o.scrollTo(i?e.pageXOffset:s,i?s:e.pageYOffset):t[r]=s)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=_(X.pixelPosition,function(e,n){return n?(n=x(e,t),Ht.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return gt(this,function(t,n,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Z.css(t,n,o):Z.style(t,n,i,o)},t,s?i:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Nn=e.jQuery,On=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=On),t&&e.jQuery===Z&&(e.jQuery=Nn),Z},typeof t===Tt&&(e.jQuery=e.$=Z),Z}),function(){function e(e,t){if(e!==t){var n=e===e,i=t===t;if(e>t||!n||"undefined"==typeof e&&i)return 1;if(t>e||!i||"undefined"==typeof t&&n)return-1}return 0}function t(e,t,n){if(t!==t)return h(e,n);for(var i=(n||0)-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function i(e){return"string"==typeof e?e:null==e?"":e+""}function r(e){return e.charCodeAt(0)}function s(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function o(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function a(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n){for(var i=-1,r=t.criteria,s=n.criteria,o=r.length;++i<o;){var a=e(r[i],s[i]);if(a)return a}return t.index-n.index}function c(e){return Ot[e]}function d(e){return zt[e]}function u(e){return"\\"+Ht[e]}function h(e,t,n){for(var i=e.length,r=n?t||i:(t||0)-1;n?r--:++r<i;){var s=e[r];if(s!==s)return r}return-1}function p(e){return e&&"object"==typeof e||!1}function f(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,i=e.length,r=-1,s=[];++n<i;)e[n]===t&&(e[n]=L,s[++r]=n);return s}function g(e,t){for(var n,i=-1,r=e.length,s=-1,o=[];++i<r;){var a=e[i],l=t?t(a,i,e):a;i&&n===l||(n=l,o[++s]=a)}return o}function v(e){for(var t=-1,n=e.length;++t<n&&f(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&f(e.charCodeAt(t)););return t}function y(e){return Lt[e]}function w(f){function V(e){if(p(e)&&!Ha(e)){if(e instanceof K)return e;if(Wo.call(e,"__wrapped__"))return new K(e.__wrapped__,e.__chain__,Kt(e.__actions__))}return new K(e)}function K(e,t,n){this.__actions__=n||[],this.__chain__=!!t,this.__wrapped__=e}function Z(e){this.actions=null,this.dir=1,this.dropCount=0,this.filtered=!1,this.iteratees=null,this.takeCount=_a,this.views=null,this.wrapped=e}function Ot(){var e=this.actions,t=this.iteratees,n=this.views,i=new Z(this.wrapped);return i.actions=e?Kt(e):null,i.dir=this.dir,i.dropCount=this.dropCount,i.filtered=this.filtered,i.iteratees=t?Kt(t):null,i.takeCount=this.takeCount,i.views=n?Kt(n):null,i}function zt(){var e=this.filtered,t=e?new Z(this):this.clone();return t.dir=-1*this.dir,t.filtered=e,t}function Lt(){var e=this.wrapped.value();if(!Ha(e))return Vn(e,this.actions);var t=this.dir,n=0>t,i=e.length,r=gi(0,i,this.views),s=r.start,o=r.end,a=this.dropCount,l=ga(o-s,this.takeCount-a),c=n?o:s-1,d=this.iteratees,u=d?d.length:0,h=0,p=[];e:for(;i--&&l>h;){c+=t;for(var f=-1,m=e[c];++f<u;){var g=d[f],v=g.iteratee,b=v(m,c,e),y=g.type;if(y==N)m=b;else if(!b){if(y==$)continue e;break e}}a?a--:p[h++]=m}return n?p.reverse():p}function Bt(){this.__data__={}}function Ht(e){return this.has(e)&&delete this.__data__[e]}function qt(e){return"__proto__"==e?x:this.__data__[e]}function Gt(e){return"__proto__"!=e&&Wo.call(this.__data__,e)}function Wt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Vt(e){var t=e?e.length:0;for(this.data={hash:ha(null),set:new sa};t--;)this.push(e[t])}function Jt(e,t){var n=e.data,i="string"==typeof t||ws(t)?n.set.has(t):n.hash[t];return i?0:-1}function Xt(e){var t=this.data;"string"==typeof e||ws(e)?t.set.add(e):t.hash[e]=!0}function Kt(e,t){var n=-1,i=e.length;for(t||(t=Eo(i));++n<i;)t[n]=e[n];return t}function Qt(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function Zt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function en(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function tn(e,t){for(var n=-1,i=e.length,r=-1,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[++r]=o)}return s}function nn(e,t){for(var n=-1,i=e.length,r=Eo(i);++n<i;)r[n]=t(e[n],n,e);return r}function rn(e){for(var t=-1,n=e.length,i=xa;++t<n;){var r=e[t];r>i&&(i=r)}return i}function sn(e){for(var t=-1,n=e.length,i=_a;++t<n;){var r=e[t];i>r&&(i=r)}return i}function on(e,t,n,i){var r=-1,s=e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function an(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ln(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function cn(e,t){return"undefined"==typeof e?t:e}function dn(e,t,n,i){return"undefined"!=typeof e&&Wo.call(i,n)?e:t}function un(e,t,n){var i=Wa(t);if(!n)return pn(t,e,i);for(var r=-1,s=i.length;++r<s;){var o=i[r],a=e[o],l=n(a,t[o],o,e,t);(l===l?l===a:a!==a)&&("undefined"!=typeof a||o in e)||(e[o]=l)}return e}function hn(e,t){for(var n=-1,i=e.length,r=Ci(i),s=t.length,o=Eo(s);++n<s;){var a=t[n];r?(a=parseFloat(a),o[n]=xi(a,i)?e[a]:x):o[n]=e[a]}return o}function pn(e,t,n){n||(n=t,t={});for(var i=-1,r=n.length;++i<r;){var s=n[i];t[s]=e[s]}return t}function fn(e,t){for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=ci(e[r],C,e)}return e}function mn(e,t,n){var r=typeof e;return"function"==r?"undefined"!=typeof t&&wi(e)?Xn(e,t,n):e:null==e?xo:"object"==r?$n(e,!n):zn(n?i(e):e)}function gn(e,t,n,i,r,s,o){var a;if(n&&(a=r?n(e,i,r):n(e)),"undefined"!=typeof a)return a;if(!ws(e))return e;var l=Ha(e);if(l){if(a=vi(e),!t)return Kt(e,a)}else{var c=Yo.call(e),d=c==W;if(c!=J&&c!=B&&(!d||r))return $t[c]?yi(e,c,t):r?e:{};if(a=bi(d?{}:e),!t)return pn(e,a,Wa(e))}s||(s=[]),o||(o=[]);for(var u=s.length;u--;)if(s[u]==e)return o[u];return s.push(e),o.push(a),(l?Qt:Dn)(e,function(i,r){a[r]=gn(i,t,n,r,e,s,o)}),a}function vn(e,t,n,i){if(!ys(e))throw new Lo(z);return oa(function(){e.apply(x,Un(n,i))},t)}function bn(e,n){var i=e?e.length:0,r=[];if(!i)return r;var s=-1,o=mi(),a=o==t,l=a&&n.length>=200&&Pa(n),c=n.length;l&&(o=Jt,a=!1,n=l);e:for(;++s<i;){var d=e[s];if(a&&d===d){for(var u=c;u--;)if(n[u]===d)continue e;r.push(d)}else o(n,d)<0&&r.push(d)}return r}function yn(e,t){var n=e?e.length:0;if(!Ci(n))return Dn(e,t);for(var i=-1,r=Pi(e);++i<n&&t(r[i],i,r)!==!1;);return e}function wn(e,t){var n=e?e.length:0;if(!Ci(n))return Mn(e,t);for(var i=Pi(e);n--&&t(i[n],n,i)!==!1;);return e}function xn(e,t){var n=!0;return yn(e,function(e,i,r){return n=!!t(e,i,r)}),n}function _n(e,t){var n=[];return yn(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Cn(e,t,n,i){var r;return n(e,function(e,n,s){return t(e,n,s)?(r=i?n:e,!1):void 0}),r}function kn(e,t,n,i){for(var r=(i||0)-1,s=e.length,o=-1,a=[];++r<s;){var l=e[r];if(p(l)&&Ci(l.length)&&(Ha(l)||hs(l))){t&&(l=kn(l,t,n));var c=-1,d=l.length;for(a.length+=d;++c<d;)a[++o]=l[c]}else n||(a[++o]=l)}return a}function Tn(e,t,n){for(var i=-1,r=Pi(e),s=n(e),o=s.length;++i<o;){var a=s[i];if(t(r[a],a,r)===!1)break}return e}function Sn(e,t,n){for(var i=Pi(e),r=n(e),s=r.length;s--;){var o=r[s];if(t(i[o],o,i)===!1)break}return e}function In(e,t){return Tn(e,t,Us)}function Dn(e,t){return Tn(e,t,Wa)}function Mn(e,t){return Sn(e,t,Wa)}function An(e,t){for(var n=-1,i=t.length,r=-1,s=[];++n<i;){var o=t[n];ys(e[o])&&(s[++r]=o)}return s}function En(e,t,n){var i=-1,r="function"==typeof t,s=e?e.length:0,o=Ci(s)?Eo(s):[];return yn(e,function(e){var s=r?t:null!=e&&e[t];o[++i]=s?s.apply(e,n):x}),o}function Pn(e,t,n,i,r,s){if(e===t)return 0!==e||1/e==1/t;var o=typeof e,a=typeof t;return"function"!=o&&"object"!=o&&"function"!=a&&"object"!=a||null==e||null==t?e!==e&&t!==t:Rn(e,t,Pn,n,i,r,s)}function Rn(e,t,n,i,r,s,o){var a=Ha(e),l=Ha(t),c=H,d=H;a||(c=Yo.call(e),c==B?c=J:c!=J&&(a=Ds(e))),l||(d=Yo.call(t),d==B?d=J:d!=J&&(l=Ds(t)));var u=c==J,h=d==J,p=c==d;if(p&&!a&&!u)return ui(e,t,c);var f=u&&Wo.call(e,"__wrapped__"),m=h&&Wo.call(t,"__wrapped__");if(f||m)return n(f?e.value():e,m?t.value():t,i,r,s,o);if(!p)return!1;s||(s=[]),o||(o=[]);for(var g=s.length;g--;)if(s[g]==e)return o[g]==t;s.push(e),o.push(t);var v=(a?di:hi)(e,t,n,i,r,s,o);return s.pop(),o.pop(),v}function Fn(e,t,n,i,r){var s=t.length;if(null==e)return!s;for(var o=-1,a=!r;++o<s;)if(a&&i[o]?n[o]!==e[t[o]]:!Wo.call(e,t[o]))return!1;for(o=-1;++o<s;){var l=t[o];if(a&&i[o])var c=Wo.call(e,l);else{var d=e[l],u=n[o];c=r?r(d,u,l):x,"undefined"==typeof c&&(c=Pn(u,d,r,!0))}if(!c)return!1}return!0}function jn(e,t){var n=[];return yn(e,function(e,i,r){n.push(t(e,i,r))}),n}function $n(e,t){var n=Wa(e),i=n.length;if(1==i){var r=n[0],s=e[r];if(ki(s))return function(e){return null!=e&&s===e[r]&&Wo.call(e,r)}}t&&(e=gn(e,!0));for(var o=Eo(i),a=Eo(i);i--;)s=e[n[i]],o[i]=s,a[i]=ki(s);return function(e){return Fn(e,n,o,a)}}function Nn(e,t,n,i,r){var s=Ci(t.length)&&(Ha(t)||Ds(t));return(s?Qt:Dn)(t,function(t,o,a){if(p(t))return i||(i=[]),r||(r=[]),On(e,a,o,Nn,n,i,r);var l=e[o],c=n?n(l,t,o,e,a):x,d="undefined"==typeof c;d&&(c=t),!s&&"undefined"==typeof c||!d&&(c===c?c===l:l!==l)||(e[o]=c)}),e}function On(e,t,n,i,r,s,o){for(var a=s.length,l=t[n];a--;)if(s[a]==l)return void(e[n]=o[a]);var c=e[n],d=r?r(c,l,n,e,t):x,u="undefined"==typeof d;u&&(d=l,Ci(l.length)&&(Ha(l)||Ds(l))?d=Ha(c)?c:c?Kt(c):[]:(qa(l)||hs(l))&&(d=hs(c)?Es(c):qa(c)?c:{})),s.push(l),o.push(d),u?e[n]=i(d,l,r,s,o):(d===d?d!==c:c===c)&&(e[n]=d)}function zn(e){return function(t){return null==t?x:t[e]}}function Ln(t,n){var i=n.length,r=hn(t,n);for(n.sort(e);i--;){var s=parseFloat(n[i]);if(s!=o&&xi(s)){var o=s;aa.call(t,s,1)}}return r}function Bn(e,t){return e+ta(wa()*(t-e+1))}function Hn(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function Un(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t;for(var s=Eo(r);++i<r;)s[i]=e[i+t];return s}function qn(e,t){var n;return yn(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Gn(e,n){var i=-1,r=mi(),s=e.length,o=r==t,a=o&&s>=200,l=a&&Pa(),c=[];l?(r=Jt,o=!1):(a=!1,l=n?[]:c);e:for(;++i<s;){var d=e[i],u=n?n(d,i,e):d;if(o&&d===d){for(var h=l.length;h--;)if(l[h]===u)continue e;n&&l.push(u),c.push(d)}else r(l,u)<0&&((n||a)&&l.push(u),c.push(d))}return c}function Wn(e,t){for(var n=-1,i=t.length,r=Eo(i);++n<i;)r[n]=e[t[n]];return r}function Vn(e,t){var n=e;n instanceof Z&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var s=[n],o=t[i];ia.apply(s,o.args),n=o.func.apply(o.thisArg,s)}return n}function Yn(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&Ta>=r){for(;r>i;){var s=i+r>>>1,o=e[s];(n?t>=o:t>o)?i=s+1:r=s}return r}return Jn(e,t,xo,n)}function Jn(e,t,n,i){t=n(t);for(var r=0,s=e?e.length:0,o=t!==t,a="undefined"==typeof t;s>r;){var l=ta((r+s)/2),c=n(e[l]),d=c===c;if(o)var u=d||i;else u=a?d&&(i||"undefined"!=typeof c):i?t>=c:t>c;u?r=l+1:s=l}return ga(s,ka)}function Xn(e,t,n){if("function"!=typeof e)return xo;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)};case 5:return function(n,i,r,s,o){return e.call(t,n,i,r,s,o)}}return function(){return e.apply(t,arguments)}}function Kn(e){return Qo.call(e,0)}function Qn(e,t,n){for(var i=n.length,r=-1,s=ma(e.length-i,0),o=-1,a=t.length,l=Eo(s+a);++o<a;)l[o]=t[o];for(;++r<i;)l[n[r]]=e[r];for(;s--;)l[o++]=e[r++];return l}function Zn(e,t,n){for(var i=-1,r=n.length,s=-1,o=ma(e.length-r,0),a=-1,l=t.length,c=Eo(o+l);++s<o;)c[s]=e[s];for(var d=s;++a<l;)c[d+a]=t[a];for(;++i<r;)c[d+n[i]]=e[s++];return c}function ei(e,t){return function(n,i,r){var s=t?t():{};if(i=fi(i,r,3),Ha(n))for(var o=-1,a=n.length;++o<a;){var l=n[o];e(s,l,i(l,o,n),n)}else yn(n,function(t,n,r){e(s,t,i(t,n,r),r)});return s}}function ti(e){return function(){var t=arguments.length,n=arguments[0];if(2>t||null==n)return n;if(t>3&&_i(arguments[1],arguments[2],arguments[3])&&(t=2),t>3&&"function"==typeof arguments[t-2])var i=Xn(arguments[--t-1],arguments[t--],5);else t>2&&"function"==typeof arguments[t-1]&&(i=arguments[--t]);for(var r=0;++r<t;){var s=arguments[r];s&&e(n,s,i)}return n}}function ni(e,t){function n(){return(this instanceof n?i:e).apply(t,arguments)}var i=ri(e);return n}function ii(e){return function(t){for(var n=-1,i=vo(eo(t)),r=i.length,s="";++n<r;)s=e(s,i[n],n);return s}}function ri(e){return function(){var t=Aa(e.prototype),n=e.apply(t,arguments);return ws(n)?n:t}}function si(e,t){return function(n,i,s){s&&_i(n,i,s)&&(i=null);var o=fi(),a=null==i;if(o===mn&&a||(a=!1,i=o(i,s,3)),a){var l=Ha(n);if(l||!Is(n))return e(l?n:Ei(n));i=r}return pi(n,i,t)}}function oi(e,t,n,i,r,s,o,a,l,c){function d(){for(var w=arguments.length,x=w,_=Eo(w);x--;)_[x]=arguments[x];if(i&&(_=Qn(_,i,r)),s&&(_=Zn(_,s,o)),f||v){var T=d.placeholder,S=m(_,T);if(w-=S.length,c>w){var I=a?Kt(a):null,A=ma(c-w,0),E=f?S:null,P=f?null:S,R=f?_:null,F=f?null:_;t|=f?D:M,t&=~(f?M:D),g||(t&=~(C|k));var j=oi(e,t,n,R,E,F,P,I,l,A);return j.placeholder=T,j}}var $=h?n:this;return p&&(e=$[y]),a&&(_=Di(_,a)),u&&l<_.length&&(_.length=l),(this instanceof d?b||ri(e):e).apply($,_)}var u=t&E,h=t&C,p=t&k,f=t&S,g=t&T,v=t&I,b=!p&&ri(e),y=e;return d}function ai(e,t,n){var r=e.length;if(t=+t,r>=t||!pa(t))return"";var s=t-r;return n=null==n?" ":i(n),lo(n,Zo(s/n.length)).slice(0,s)}function li(e,t,n,i){function r(){for(var t=-1,a=arguments.length,l=-1,c=i.length,d=Eo(a+c);++l<c;)d[l]=i[l];for(;a--;)d[l++]=arguments[++t];return(this instanceof r?o:e).apply(s?n:this,d)}var s=t&C,o=ri(e);return r}function ci(e,t,n,i,r,s,o,a){var l=t&k;if(!l&&!ys(e))throw new Lo(z);var c=i?i.length:0;if(c||(t&=~(D|M),i=r=null),c-=r?r.length:0,t&M){var d=i,u=r;i=r=null}var h=!l&&Ra(e),p=[e,t,n,i,r,d,u,s,o,a];if(h&&h!==!0&&(Ti(p,h),t=p[1],a=p[9]),p[9]=null==a?l?0:e.length:ma(a-c,0)||0,t==C)var f=ni(p[0],p[2]);else f=t!=D&&t!=(C|D)||p[4].length?oi.apply(null,p):li.apply(null,p);var m=h?Ea:Fa;return m(f,p)}function di(e,t,n,i,r,s,o){var a=-1,l=e.length,c=t.length,d=!0;if(l!=c&&!(r&&c>l))return!1;for(;d&&++a<l;){var u=e[a],h=t[a];if(d=x,i&&(d=r?i(h,u,a):i(u,h,a)),"undefined"==typeof d)if(r)for(var p=c;p--&&(h=t[p],!(d=u&&u===h||n(u,h,i,r,s,o))););else d=u&&u===h||n(u,h,i,r,s,o)}return!!d}function ui(e,t,n){switch(n){case U:case q:return+e==+t;case G:return e.name==t.name&&e.message==t.message;case Y:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case X:case Q:return e==i(t)}return!1}function hi(e,t,n,i,r,s,o){var a=Wa(e),l=a.length,c=Wa(t),d=c.length;if(l!=d&&!r)return!1;for(var u,h=-1;++h<l;){var p=a[h],f=Wo.call(t,p);if(f){var m=e[p],g=t[p];f=x,i&&(f=r?i(g,m,p):i(m,g,p)),"undefined"==typeof f&&(f=m&&m===g||n(m,g,i,r,s,o))}if(!f)return!1;u||(u="constructor"==p)}if(!u){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function pi(e,t,n){var i=n?_a:xa,r=i,s=r;return yn(e,function(e,o,a){var l=t(e,o,a);((n?r>l:l>r)||l===i&&l===s)&&(r=l,s=e)}),s}function fi(e,t,n){var i=V.callback||yo;return i=i===yo?mn:i,n?i(e,t,n):i}function mi(e,n,i){var r=V.indexOf||Gi;return r=r===Gi?t:r,e?r(e,n,i):r}function gi(e,t,n){for(var i=-1,r=n?n.length:0;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ga(t,e+o);break;case"takeRight":e=ma(e,t-o)}}return{start:e,end:t}}function vi(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Wo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function bi(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=No),new t}function yi(e,t,n){var i=e.constructor;switch(t){case et:return Kn(e);case U:case q:return new i(+e);case tt:case nt:case it:case rt:case st:case ot:case at:case lt:case ct:var r=e.buffer;return new i(n?Kn(r):r,e.byteOffset,e.length);case Y:case Q:return new i(e);case X:var s=new i(e.source,xt.exec(e));s.lastIndex=e.lastIndex}return s}function wi(e){var t=V.support,n=!(t.funcNames?e.name:t.funcDecomp);if(!n){var i=qo.call(e);t.funcNames||(n=!_t.test(i)),n||(n=Mt.test(i)||Cs(e),Ea(e,n))}return n}function xi(e,t){return e=+e,t=null==t?Ia:t,e>-1&&e%1==0&&t>e}function _i(e,t,n){if(!ws(n))return!1;var i=typeof t;if("number"==i)var r=n.length,s=Ci(r)&&xi(t,r);else s="string"==i&&t in e;return s&&n[t]===e}function Ci(e){return"number"==typeof e&&e>-1&&e%1==0&&Ia>=e}function ki(e){return e===e&&(0===e?1/e>0:!ws(e))}function Ti(e,t){var n=e[1],i=t[1],r=n|i,s=E|A,o=C|k,a=s|o|T|I,l=n&E&&!(i&E),c=n&A&&!(i&A),d=(c?e:t)[7],u=(l?e:t)[8],h=!(n>=A&&i>o||n>o&&i>=A),p=r>=s&&a>=r&&(A>n||(c||l)&&d.length<=u);if(!h&&!p)return e;i&C&&(e[2]=t[2],r|=n&C?0:T);var f=t[3];if(f){var g=e[3];e[3]=g?Qn(g,f,t[4]):Kt(f),e[4]=g?m(e[3],L):Kt(t[4])}return f=t[5],f&&(g=e[5],e[5]=g?Zn(g,f,t[6]):Kt(f),e[6]=g?m(e[5],L):Kt(t[6])),f=t[7],f&&(e[7]=Kt(f)),i&E&&(e[8]=null==e[8]?t[8]:ga(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Si(e,t){e=Pi(e);for(var n=-1,i=t.length,r={};++n<i;){var s=t[n];s in e&&(r[s]=e[s])}return r}function Ii(e,t){var n={};return In(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function Di(e,t){for(var n=e.length,i=ga(t.length,n),r=Kt(e);i--;){var s=t[i];e[i]=xi(s,n)?r[s]:x}return e}function Mi(e){{var t;V.support}if(!p(e)||Yo.call(e)!=J||!Wo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return In(e,function(e,t){n=t}),"undefined"==typeof n||Wo.call(e,n)}function Ai(e){for(var t=Us(e),n=t.length,i=n&&e.length,r=V.support,s=i&&Ci(i)&&(Ha(e)||r.nonEnumArgs&&hs(e)),o=-1,a=[];++o<n;){var l=t[o];(s&&xi(l,i)||Wo.call(e,l))&&a.push(l)}return a}function Ei(e){return null==e?[]:Ci(e.length)?ws(e)?e:No(e):Xs(e)}function Pi(e){return ws(e)?e:No(e)}function Ri(e,t,n){t=(n?_i(e,t,n):null==t)?1:ma(+t||1,1);for(var i=0,r=e?e.length:0,s=-1,o=Eo(Zo(r/t));r>i;)o[++s]=Un(e,i,i+=t);return o}function Fi(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var s=e[t];s&&(r[++i]=s)}return r}function ji(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ha(n)||hs(n))break}return bn(n,kn(arguments,!1,!0,++e))}function $i(e,t,n){var i=e?e.length:0;return i?((n?_i(e,t,n):null==t)&&(t=1),Un(e,0>t?0:t)):[]}function Ni(e,t,n){var i=e?e.length:0;return i?((n?_i(e,t,n):null==t)&&(t=1),t=i-(+t||0),Un(e,0,0>t?0:t)):[]}function Oi(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=fi(t,n,3);i--&&t(e[i],i,e););return Un(e,0,i+1)}function zi(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=fi(t,n,3);++r<i&&t(e[r],r,e););return Un(e,r)}function Li(e,t,n){var i=-1,r=e?e.length:0;for(t=fi(t,n,3);++i<r;)if(t(e[i],i,e))return i;return-1}function Bi(e,t,n){var i=e?e.length:0;for(t=fi(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function Hi(e){return e?e[0]:x}function Ui(e,t,n){var i=e?e.length:0;return n&&_i(e,t,n)&&(t=!1),i?kn(e,t):[]}function qi(e){var t=e?e.length:0;return t?kn(e,!0):[]}function Gi(e,n,i){var r=e?e.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?ma(r+i,0):i||0;else if(i){var s=Yn(e,n),o=e[s];return(n===n?n===o:o!==o)?s:-1}return t(e,n,i)}function Wi(e){return Ni(e,1)}function Vi(){for(var e=[],n=-1,i=arguments.length,r=[],s=mi(),o=s==t;++n<i;){var a=arguments[n];(Ha(a)||hs(a))&&(e.push(a),r.push(o&&a.length>=120&&Pa(n&&a)))}i=e.length;var l=e[0],c=-1,d=l?l.length:0,u=[],h=r[0];e:for(;++c<d;)if(a=l[c],(h?Jt(h,a):s(u,a))<0){for(n=i;--n;){var p=r[n];if((p?Jt(p,a):s(e[n],a))<0)continue e}h&&h.push(a),u.push(a)}return u}function Yi(e){var t=e?e.length:0;return t?e[t-1]:x}function Ji(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?ma(i+n,0):ga(n||0,i-1))+1;else if(n){r=Yn(e,t,!0)-1;var s=e[r];return(t===t?t===s:s!==s)?r:-1}if(t!==t)return h(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function Xi(){var e=arguments[0];if(!e||!e.length)return e;for(var t=0,n=mi(),i=arguments.length;++t<i;)for(var r=0,s=arguments[t];(r=n(e,s,r))>-1;)aa.call(e,r,1);return e}function Ki(e){return Ln(e||[],kn(arguments,!1,!1,1))}function Qi(e,t,n){var i=-1,r=e?e.length:0,s=[];for(t=fi(t,n,3);++i<r;){var o=e[i];t(o,i,e)&&(s.push(o),aa.call(e,i--,1),r--)}return s}function Zi(e){return $i(e,1)}function er(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&_i(e,t,n)&&(t=0,n=i),Un(e,t,n)):[]}function tr(e,t,n,i){var r=fi(n);return r===mn&&null==n?Yn(e,t):Jn(e,t,r(n,i,1))}function nr(e,t,n,i){var r=fi(n);return r===mn&&null==n?Yn(e,t,!0):Jn(e,t,r(n,i,1),!0)}function ir(e,t,n){var i=e?e.length:0;return i?((n?_i(e,t,n):null==t)&&(t=1),Un(e,0,0>t?0:t)):[]}function rr(e,t,n){var i=e?e.length:0;return i?((n?_i(e,t,n):null==t)&&(t=1),t=i-(+t||0),Un(e,0>t?0:t)):[]}function sr(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=fi(t,n,3);i--&&t(e[i],i,e););return Un(e,i+1)}function or(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=fi(t,n,3);++r<i&&t(e[r],r,e););return Un(e,0,r)}function ar(){return Gn(kn(arguments,!1,!0))}function lr(e,n,i,r){var s=e?e.length:0;if(!s)return[];"boolean"!=typeof n&&null!=n&&(r=i,i=_i(e,n,r)?null:n,n=!1);var o=fi();return(o!==mn||null!=i)&&(i=o(i,r,3)),n&&mi()==t?g(e,i):Gn(e,i)}function cr(e){for(var t=-1,n=(e&&e.length&&rn(nn(e,Go)))>>>0,i=Eo(n);++t<n;)i[t]=nn(e,zn(t));return i}function dr(e){return bn(e,Un(arguments,1))}function ur(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ha(n)||hs(n))var i=i?bn(i,n).concat(bn(n,i)):n}return i?Gn(i):[]}function hr(){for(var e=arguments.length,t=Eo(e);e--;)t[e]=arguments[e];return cr(t)}function pr(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Ha(e[0])||(t=[]);++n<i;){var s=e[n];t?r[s]=t[n]:s&&(r[s[0]]=s[1])}return r}function fr(e){var t=V(e);return t.__chain__=!0,t}function mr(e,t,n){return t.call(n,e),e}function gr(e,t,n){return t.call(n,e)}function vr(){return fr(this)}function br(){var e=this.__wrapped__;return e instanceof Z?new K(e.reverse()):this.thru(function(e){return e.reverse()})}function yr(){return this.value()+""}function wr(){return Vn(this.__wrapped__,this.__actions__)}function xr(e){var t=e?e.length:0;return Ci(t)&&(e=Ei(e)),hn(e,kn(arguments,!1,!1,1))}function _r(e,t,n){var i=e?e.length:0;return Ci(i)||(e=Xs(e),i=e.length),i?(n="number"==typeof n?0>n?ma(i+n,0):n||0:0,"string"==typeof e||!Ha(e)&&Is(e)?i>n&&e.indexOf(t,n)>-1:mi(e,t,n)>-1):!1}function Cr(e,t,n){var i=Ha(e)?en:xn;
return("function"!=typeof t||"undefined"!=typeof n)&&(t=fi(t,n,3)),i(e,t)}function kr(e,t,n){var i=Ha(e)?tn:_n;return t=fi(t,n,3),i(e,t)}function Tr(e,t,n){if(Ha(e)){var i=Li(e,t,n);return i>-1?e[i]:x}return t=fi(t,n,3),Cn(e,t,yn)}function Sr(e,t,n){return t=fi(t,n,3),Cn(e,t,wn)}function Ir(e,t){return Tr(e,_o(t))}function Dr(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&Ha(e)?Qt(e,t):yn(e,Xn(t,n,3))}function Mr(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&Ha(e)?Zt(e,t):wn(e,Xn(t,n,3))}function Ar(e,t){return En(e,t,Un(arguments,2))}function Er(e,t,n){var i=Ha(e)?nn:jn;return t=fi(t,n,3),i(e,t)}function Pr(e,t){return Er(e,So(t))}function Rr(e,t,n,i){var r=Ha(e)?on:Hn;return r(e,fi(t,i,4),n,arguments.length<3,yn)}function Fr(e,t,n,i){var r=Ha(e)?an:Hn;return r(e,fi(t,i,4),n,arguments.length<3,wn)}function jr(e,t,n){var i=Ha(e)?tn:_n;return t=fi(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function $r(e,t,n){if(n?_i(e,t,n):null==t){e=Ei(e);var i=e.length;return i>0?e[Bn(0,i-1)]:x}var r=Nr(e);return r.length=ga(0>t?0:+t||0,r.length),r}function Nr(e){e=Ei(e);for(var t=-1,n=e.length,i=Eo(n);++t<n;){var r=Bn(0,t);t!=r&&(i[t]=i[r]),i[r]=e[t]}return i}function Or(e){var t=e?e.length:0;return Ci(t)?t:Wa(e).length}function zr(e,t,n){var i=Ha(e)?ln:qn;return("function"!=typeof t||"undefined"!=typeof n)&&(t=fi(t,n,3)),i(e,t)}function Lr(e,t,i){var r=-1,s=e?e.length:0,o=Ci(s)?Eo(s):[];return i&&_i(e,t,i)&&(t=null),t=fi(t,i,3),yn(e,function(e,n,i){o[++r]={criteria:t(e,n,i),index:r,value:e}}),n(o,a)}function Br(e){var t=arguments;t.length>3&&_i(t[1],t[2],t[3])&&(t=[e,t[1]]);var i=-1,r=e?e.length:0,s=kn(t,!1,!1,1),o=Ci(r)?Eo(r):[];return yn(e,function(e){for(var t=s.length,n=Eo(t);t--;)n[t]=null==e?x:e[s[t]];o[++i]={criteria:n,index:i,value:e}}),n(o,l)}function Hr(e,t){return kr(e,_o(t))}function Ur(e,t){if(!ys(t)){if(!ys(e))throw new Lo(z);var n=e;e=t,t=n}return e=pa(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function qr(e,t,n){return n&&_i(e,t,n)&&(t=null),t=e&&null==t?e.length:ma(+t||0,0),ci(e,E,null,null,null,null,t)}function Gr(e,t){var n;if(!ys(t)){if(!ys(e))throw new Lo(z);var i=e;e=t,t=i}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function Wr(e,t){var n=C;if(arguments.length>2){var i=Un(arguments,2),r=m(i,Wr.placeholder);n|=D}return ci(e,n,t,i,r)}function Vr(e){return fn(e,arguments.length>1?kn(arguments,!1,!1,1):Ls(e))}function Yr(e,t){var n=C|k;if(arguments.length>2){var i=Un(arguments,2),r=m(i,Yr.placeholder);n|=D}return ci(t,n,e,i,r)}function Jr(e,t,n){n&&_i(e,t,n)&&(t=null);var i=ci(e,S,null,null,null,null,null,t);return i.placeholder=Jr.placeholder,i}function Xr(e,t,n){n&&_i(e,t,n)&&(t=null);var i=ci(e,I,null,null,null,null,null,t);return i.placeholder=Xr.placeholder,i}function Kr(e,t,n){function i(){h&&ea(h),l&&ea(l),l=h=p=x}function r(){var n=t-(Ba()-d);if(0>=n||n>t){l&&ea(l);var i=p;l=h=p=x,i&&(f=Ba(),c=e.apply(u,a),h||l||(a=u=null))}else h=oa(r,n)}function s(){h&&ea(h),l=h=p=x,(g||m!==t)&&(f=Ba(),c=e.apply(u,a),h||l||(a=u=null))}function o(){if(a=arguments,d=Ba(),u=this,p=g&&(h||!v),m===!1)var n=v&&!h;else{l||v||(f=d);var i=m-(d-f),o=0>=i||i>m;o?(l&&(l=ea(l)),f=d,c=e.apply(u,a)):l||(l=oa(s,i))}return o&&h?h=ea(h):h||t===m||(h=oa(r,t)),n&&(o=!0,c=e.apply(u,a)),!o||h||l||(a=u=null),c}var a,l,c,d,u,h,p,f=0,m=!1,g=!0;if(!ys(e))throw new Lo(z);if(t=0>t?0:t,n===!0){var v=!0;g=!1}else ws(n)&&(v=n.leading,m="maxWait"in n&&ma(+n.maxWait||0,t),g="trailing"in n?n.trailing:g);return o.cancel=i,o}function Qr(e){return vn(e,1,arguments,1)}function Zr(e,t){return vn(e,t,arguments,2)}function es(){var e=arguments,t=e.length;if(!t)return function(){};if(!en(e,ys))throw new Lo(z);return function(){for(var n=0,i=e[n].apply(this,arguments);++n<t;)i=e[n].call(this,i);return i}}function ts(){var e=arguments,t=e.length-1;if(0>t)return function(){};if(!en(e,ys))throw new Lo(z);return function(){for(var n=t,i=e[n].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function ns(e,t){if(!ys(e)||t&&!ys(t))throw new Lo(z);var n=function(){var i=n.cache,r=t?t.apply(this,arguments):arguments[0];if(i.has(r))return i.get(r);var s=e.apply(this,arguments);return i.set(r,s),s};return n.cache=new ns.Cache,n}function is(e){if(!ys(e))throw new Lo(z);return function(){return!e.apply(this,arguments)}}function rs(e){return Gr(e,2)}function ss(e){var t=Un(arguments,1),n=m(t,ss.placeholder);return ci(e,D,null,t,n)}function os(e){var t=Un(arguments,1),n=m(t,os.placeholder);return ci(e,M,null,t,n)}function as(e){var t=kn(arguments,!1,!1,1);return ci(e,A,null,null,null,t)}function ls(e,t,n){var i=!0,r=!0;if(!ys(e))throw new Lo(z);return n===!1?i=!1:ws(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Nt.leading=i,Nt.maxWait=+t,Nt.trailing=r,Kr(e,t,Nt)}function cs(e,t){return t=null==t?xo:t,ci(t,D,null,[e],[])}function ds(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=_i(e,t,i)?null:t,t=!1),n="function"==typeof n&&Xn(n,i,1),gn(e,t,n)}function us(e,t,n){return t="function"==typeof t&&Xn(t,n,1),gn(e,!0,t)}function hs(e){var t=p(e)?e.length:x;return Ci(t)&&Yo.call(e)==B||!1}function ps(e){return e===!0||e===!1||p(e)&&Yo.call(e)==U||!1}function fs(e){return p(e)&&Yo.call(e)==q||!1}function ms(e){return e&&1===e.nodeType&&p(e)&&Yo.call(e).indexOf("Element")>-1||!1}function gs(e){if(null==e)return!0;var t=e.length;return Ci(t)&&(Ha(e)||Is(e)||hs(e)||p(e)&&ys(e.splice))?!t:!Wa(e).length}function vs(e,t,n,i){if(n="function"==typeof n&&Xn(n,i,3),!n&&ki(e)&&ki(t))return e===t;var r=n?n(e,t):x;return"undefined"==typeof r?Pn(e,t,n):!!r}function bs(e){return p(e)&&"string"==typeof e.message&&Yo.call(e)==G||!1}function ys(e){return"function"==typeof e||!1}function ws(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function xs(e,t,n,i){var r=Wa(t),s=r.length;if(n="function"==typeof n&&Xn(n,i,3),!n&&1==s){var o=r[0],a=t[o];if(ki(a))return null!=e&&a===e[o]&&Wo.call(e,o)}for(var l=Eo(s),c=Eo(s);s--;)a=l[s]=t[r[s]],c[s]=ki(a);return Fn(e,r,l,c,n)}function _s(e){return Ts(e)&&e!=+e}function Cs(e){return null==e?!1:Yo.call(e)==W?Xo.test(qo.call(e)):p(e)&&kt.test(e)||!1}function ks(e){return null===e}function Ts(e){return"number"==typeof e||p(e)&&Yo.call(e)==Y||!1}function Ss(e){return p(e)&&Yo.call(e)==X||!1}function Is(e){return"string"==typeof e||p(e)&&Yo.call(e)==Q||!1}function Ds(e){return p(e)&&Ci(e.length)&&jt[Yo.call(e)]||!1}function Ms(e){return"undefined"==typeof e}function As(e){var t=e?e.length:0;return Ci(t)?t?Kt(e):[]:Xs(e)}function Es(e){return pn(e,Us(e))}function Ps(e,t,n){var i=Aa(e);return n&&_i(e,t,n)&&(t=null),t?pn(t,i,Wa(t)):i}function Rs(e){if(null==e)return e;var t=Kt(arguments);return t.push(cn),Ga.apply(x,t)}function Fs(e,t,n){return t=fi(t,n,3),Cn(e,t,Dn,!0)}function js(e,t,n){return t=fi(t,n,3),Cn(e,t,Mn,!0)}function $s(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=Xn(t,n,3)),Tn(e,t,Us)}function Ns(e,t,n){return t=Xn(t,n,3),Sn(e,t,Us)}function Os(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=Xn(t,n,3)),Dn(e,t)}function zs(e,t,n){return t=Xn(t,n,3),Sn(e,t,Wa)}function Ls(e){return An(e,Us(e))}function Bs(e,t){return e?Wo.call(e,t):!1}function Hs(e,t,n){n&&_i(e,t,n)&&(t=null);for(var i=-1,r=Wa(e),s=r.length,o={};++i<s;){var a=r[i],l=e[a];t?Wo.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o}function Us(e){if(null==e)return[];ws(e)||(e=No(e));var t=e.length;t=t&&Ci(t)&&(Ha(e)||Ma.nonEnumArgs&&hs(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype==e,s=Eo(t),o=t>0;++i<t;)s[i]=i+"";for(var a in e)o&&xi(a,t)||"constructor"==a&&(r||!Wo.call(e,a))||s.push(a);return s}function qs(e,t,n){var i={};return t=fi(t,n,3),Dn(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Gs(e,t,n){if(null==e)return{};if("function"!=typeof t){var i=nn(kn(arguments,!1,!1,1),zo);return Si(e,bn(Us(e),i))}return t=Xn(t,n,3),Ii(e,function(e,n,i){return!t(e,n,i)})}function Ws(e){for(var t=-1,n=Wa(e),i=n.length,r=Eo(i);++t<i;){var s=n[t];r[t]=[s,e[s]]}return r}function Vs(e,t,n){return null==e?{}:"function"==typeof t?Ii(e,Xn(t,n,3)):Si(e,kn(arguments,!1,!1,1))}function Ys(e,t,n){var i=null==e?x:e[t];return"undefined"==typeof i&&(i=n),ys(i)?i.call(e):i}function Js(e,t,n,i){var r=Ha(e)||Ds(e);if(t=fi(t,i,4),null==n)if(r||ws(e)){var s=e.constructor;n=r?Ha(e)?new s:[]:Aa("function"==typeof s&&s.prototype)}else n={};return(r?Qt:Dn)(e,function(e,i,r){return t(n,e,i,r)}),n}function Xs(e){return Wn(e,Wa(e))}function Ks(e){return Wn(e,Us(e))}function Qs(e,t,n){n&&_i(e,t,n)&&(t=n=null);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var s=wa();return ga(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return Bn(e,t)}function Zs(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function eo(e){return e=i(e),e&&e.replace(Tt,c)}function to(e,t,n){e=i(e),t+="";var r=e.length;return n=("undefined"==typeof n?r:ga(0>n?0:+n||0,r))-t.length,n>=0&&e.indexOf(t,n)==n}function no(e){return e=i(e),e&&gt.test(e)?e.replace(ft,d):e}function io(e){return e=i(e),e&&Dt.test(e)?e.replace(It,"\\$&"):e}function ro(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!pa(t))return e;var s=(t-r)/2,o=ta(s),a=Zo(s);return n=ai("",a,n),n.slice(0,o)+e+n}function so(e,t,n){return e=i(e),e&&ai(e,t,n)+e}function oo(e,t,n){return e=i(e),e&&e+ai(e,t,n)}function ao(e,t,n){return n&&_i(e,t,n)&&(t=0),ya(e,t)}function lo(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!pa(t))return n;do t%2&&(n+=e),t=ta(t/2),e+=e;while(t);return n}function co(e,t,n){return e=i(e),n=null==n?0:ga(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function uo(e,t,n){var r=V.templateSettings;n&&_i(e,t,n)&&(t=n=null),e=i(e),t=un(un({},n||t),r,dn);var s,o,a=un(un({},t.imports),r.imports,dn),l=Wa(a),c=Wn(a,l),d=0,h=t.interpolate||St,p="__p += '",f=Oo((t.escape||St).source+"|"+h.source+"|"+(h===yt?wt:St).source+"|"+(t.evaluate||St).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ft+"]")+"\n";e.replace(f,function(t,n,i,r,a,l){return i||(i=r),p+=e.slice(d,l).replace(At,u),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(dt,""):p).replace(ut,"$1").replace(ht,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=bo(function(){return Fo(l,m+"return "+p).apply(x,c)});if(v.source=p,bs(v))throw v;return v}function ho(e,t,n){var r=e;return(e=i(e))?(n?_i(r,t,n):null==t)?e.slice(v(e),b(e)+1):(t=i(t),e.slice(s(e,t),o(e,t)+1)):e}function po(e,t,n){var r=e;return e=i(e),e?e.slice((n?_i(r,t,n):null==t)?v(e):s(e,i(t))):e}function fo(e,t,n){var r=e;return e=i(e),e?(n?_i(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,o(e,i(t))+1):e}function mo(e,t,n){n&&_i(e,t,n)&&(t=null);var r=P,s=R;if(null!=t)if(ws(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,s="omission"in t?i(t.omission):s}else r=+t||0;if(e=i(e),r>=e.length)return e;var a=r-s.length;if(1>a)return s;var l=e.slice(0,a);if(null==o)return l+s;if(Ss(o)){if(e.slice(a).search(o)){var c,d,u=e.slice(0,a);for(o.global||(o=Oo(o.source,(xt.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(u);)d=c.index;l=l.slice(0,null==d?a:d)}}else if(e.indexOf(o,a)!=a){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+s}function go(e){return e=i(e),e&&mt.test(e)?e.replace(pt,y):e}function vo(e,t,n){return n&&_i(e,t,n)&&(t=null),e=i(e),e.match(t||Et)||[]}function bo(e){try{return e()}catch(t){return bs(t)?t:Ro(t)}}function yo(e,t,n){return n&&_i(e,t,n)&&(t=null),mn(e,t)}function wo(e){return function(){return e}}function xo(e){return e}function _o(e){return $n(e,!0)}function Co(e,t,n){if(null==n){var i=ws(t),r=i&&Wa(t),s=r&&r.length&&An(t,r);(s?s.length:i)||(s=!1,n=t,t=e,e=this)}s||(s=An(t,Wa(t)));var o=!0,a=-1,l=ys(e),c=s.length;n===!1?o=!1:ws(n)&&"chain"in n&&(o=n.chain);for(;++a<c;){var d=s[a],u=t[d];e[d]=u,l&&(e.prototype[d]=function(t){return function(){var n=this.__chain__;if(o||n){var i=e(this.__wrapped__);return(i.__actions__=Kt(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}var r=[this.value()];return ia.apply(r,arguments),t.apply(e,r)}}(u))}return e}function ko(){return f._=Jo,this}function To(){}function So(e){return zn(e+"")}function Io(e){return function(t){return null==e?x:e[t]}}function Do(e,t,n){n&&_i(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=ma(Zo((t-e)/(n||1)),0),s=Eo(r);++i<r;)s[i]=e,e+=n;return s}function Mo(e,t,n){if(e=+e,1>e||!pa(e))return[];var i=-1,r=Eo(ga(e,Ca));for(t=Xn(t,n,1);++i<e;)Ca>i?r[i]=t(i):t(i);return r}function Ao(e){var t=++Vo;return i(e)+t}f=f?Yt.defaults(Ut.Object(),f,Yt.pick(Ut,Rt)):Ut;var Eo=f.Array,Po=f.Date,Ro=f.Error,Fo=f.Function,jo=f.Math,$o=f.Number,No=f.Object,Oo=f.RegExp,zo=f.String,Lo=f.TypeError,Bo=Eo.prototype,Ho=No.prototype,Uo=(Uo=f.window)&&Uo.document,qo=Fo.prototype.toString,Go=zn("length"),Wo=Ho.hasOwnProperty,Vo=0,Yo=Ho.toString,Jo=f._,Xo=Oo("^"+io(Yo).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ko=Cs(Ko=f.ArrayBuffer)&&Ko,Qo=Cs(Qo=Ko&&new Ko(0).slice)&&Qo,Zo=jo.ceil,ea=f.clearTimeout,ta=jo.floor,na=Cs(na=No.getPrototypeOf)&&na,ia=Bo.push,ra=Ho.propertyIsEnumerable,sa=Cs(sa=f.Set)&&sa,oa=f.setTimeout,aa=Bo.splice,la=Cs(la=f.Uint8Array)&&la,ca=(Bo.unshift,Cs(ca=f.WeakMap)&&ca),da=function(){try{var e=Cs(e=f.Float64Array)&&e,t=new e(new Ko(10),0,1)&&e}catch(n){}return t}(),ua=Cs(ua=Eo.isArray)&&ua,ha=Cs(ha=No.create)&&ha,pa=f.isFinite,fa=Cs(fa=No.keys)&&fa,ma=jo.max,ga=jo.min,va=Cs(va=Po.now)&&va,ba=Cs(ba=$o.isFinite)&&ba,ya=f.parseInt,wa=jo.random,xa=$o.NEGATIVE_INFINITY,_a=$o.POSITIVE_INFINITY,Ca=jo.pow(2,32)-1,ka=Ca-1,Ta=Ca>>>1,Sa=da?da.BYTES_PER_ELEMENT:0,Ia=jo.pow(2,53)-1,Da=ca&&new ca,Ma=V.support={};!function(){Ma.funcDecomp=!Cs(f.WinRTError)&&Mt.test(w),Ma.funcNames="string"==typeof Fo.name;try{Ma.dom=11===Uo.createDocumentFragment().nodeType}catch(e){Ma.dom=!1}try{Ma.nonEnumArgs=!ra.call(arguments,1)}catch(e){Ma.nonEnumArgs=!0}}(0,0),V.templateSettings={escape:vt,evaluate:bt,interpolate:yt,variable:"",imports:{_:V}};var Aa=function(){function e(){}return function(t){if(ws(t)){e.prototype=t;var n=new e;e.prototype=null}return n||f.Object()}}(),Ea=Da?function(e,t){return Da.set(e,t),e}:xo;Qo||(Kn=Ko&&la?function(e){var t=e.byteLength,n=da?ta(t/Sa):0,i=n*Sa,r=new Ko(t);if(n){var s=new da(r,0,n);s.set(new da(e,0,n))}return t!=i&&(s=new la(r,i),s.set(new la(e,i))),r}:wo(null));var Pa=ha&&sa?function(e){return new Vt(e)}:wo(null),Ra=Da?function(e){return Da.get(e)}:To,Fa=function(){var e=0,t=0;return function(n,i){var r=Ba(),s=j-(r-t);if(t=r,s>0){if(++e>=F)return n}else e=0;return Ea(n,i)}}(),ja=ei(function(e,t,n){Wo.call(e,n)?++e[n]:e[n]=1}),$a=ei(function(e,t,n){Wo.call(e,n)?e[n].push(t):e[n]=[t]}),Na=ei(function(e,t,n){e[n]=t}),Oa=si(rn),za=si(sn,!0),La=ei(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ba=va||function(){return(new Po).getTime()},Ha=ua||function(e){return p(e)&&Ci(e.length)&&Yo.call(e)==H||!1};Ma.dom||(ms=function(e){return e&&1===e.nodeType&&p(e)&&!qa(e)||!1});var Ua=ba||function(e){return"number"==typeof e&&pa(e)};(ys(/x/)||la&&!ys(la))&&(ys=function(e){return Yo.call(e)==W});var qa=na?function(e){if(!e||Yo.call(e)!=J)return!1;var t=e.valueOf,n=Cs(t)&&(n=na(t))&&na(n);return n?e==n||na(e)==n:Mi(e)}:Mi,Ga=ti(un),Wa=fa?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&Ci(n)?Ai(e):ws(e)?fa(e):[]}:Ai,Va=ti(Nn),Ya=ii(function(e,t,n){return t=t.toLowerCase(),n?e+t.charAt(0).toUpperCase()+t.slice(1):t}),Ja=ii(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});8!=ya(Pt+"08")&&(ao=function(e,t,n){return(n?_i(e,t,n):null==t)?t=0:t&&(t=+t),e=ho(e),ya(e,t||(Ct.test(e)?16:10))});var Xa=ii(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});return K.prototype=V.prototype,Bt.prototype["delete"]=Ht,Bt.prototype.get=qt,Bt.prototype.has=Gt,Bt.prototype.set=Wt,Vt.prototype.push=Xt,ns.Cache=Bt,V.after=Ur,V.ary=qr,V.assign=Ga,V.at=xr,V.before=Gr,V.bind=Wr,V.bindAll=Vr,V.bindKey=Yr,V.callback=yo,V.chain=fr,V.chunk=Ri,V.compact=Fi,V.constant=wo,V.countBy=ja,V.create=Ps,V.curry=Jr,V.curryRight=Xr,V.debounce=Kr,V.defaults=Rs,V.defer=Qr,V.delay=Zr,V.difference=ji,V.drop=$i,V.dropRight=Ni,V.dropRightWhile=Oi,V.dropWhile=zi,V.filter=kr,V.flatten=Ui,V.flattenDeep=qi,V.flow=es,V.flowRight=ts,V.forEach=Dr,V.forEachRight=Mr,V.forIn=$s,V.forInRight=Ns,V.forOwn=Os,V.forOwnRight=zs,V.functions=Ls,V.groupBy=$a,V.indexBy=Na,V.initial=Wi,V.intersection=Vi,V.invert=Hs,V.invoke=Ar,V.keys=Wa,V.keysIn=Us,V.map=Er,V.mapValues=qs,V.matches=_o,V.memoize=ns,V.merge=Va,V.mixin=Co,V.negate=is,V.omit=Gs,V.once=rs,V.pairs=Ws,V.partial=ss,V.partialRight=os,V.partition=La,V.pick=Vs,V.pluck=Pr,V.property=So,V.propertyOf=Io,V.pull=Xi,V.pullAt=Ki,V.range=Do,V.rearg=as,V.reject=jr,V.remove=Qi,V.rest=Zi,V.shuffle=Nr,V.slice=er,V.sortBy=Lr,V.sortByAll=Br,V.take=ir,V.takeRight=rr,V.takeRightWhile=sr,V.takeWhile=or,V.tap=mr,V.throttle=ls,V.thru=gr,V.times=Mo,V.toArray=As,V.toPlainObject=Es,V.transform=Js,V.union=ar,V.uniq=lr,V.unzip=cr,V.values=Xs,V.valuesIn=Ks,V.where=Hr,V.without=dr,V.wrap=cs,V.xor=ur,V.zip=hr,V.zipObject=pr,V.backflow=ts,V.collect=Er,V.compose=ts,V.each=Dr,V.eachRight=Mr,V.extend=Ga,V.iteratee=yo,V.methods=Ls,V.object=pr,V.select=kr,V.tail=Zi,V.unique=lr,Co(V,V),V.attempt=bo,V.camelCase=Ya,V.capitalize=Zs,V.clone=ds,V.cloneDeep=us,V.deburr=eo,V.endsWith=to,V.escape=no,V.escapeRegExp=io,V.every=Cr,V.find=Tr,V.findIndex=Li,V.findKey=Fs,V.findLast=Sr,V.findLastIndex=Bi,V.findLastKey=js,V.findWhere=Ir,V.first=Hi,V.has=Bs,V.identity=xo,V.includes=_r,V.indexOf=Gi,V.isArguments=hs,V.isArray=Ha,V.isBoolean=ps,V.isDate=fs,V.isElement=ms,V.isEmpty=gs,V.isEqual=vs,V.isError=bs,V.isFinite=Ua,V.isFunction=ys,V.isMatch=xs,V.isNaN=_s,V.isNative=Cs,V.isNull=ks,V.isNumber=Ts,V.isObject=ws,V.isPlainObject=qa,V.isRegExp=Ss,V.isString=Is,V.isTypedArray=Ds,V.isUndefined=Ms,V.kebabCase=Ja,V.last=Yi,V.lastIndexOf=Ji,V.max=Oa,V.min=za,V.noConflict=ko,V.noop=To,V.now=Ba,V.pad=ro,V.padLeft=so,V.padRight=oo,V.parseInt=ao,V.random=Qs,V.reduce=Rr,V.reduceRight=Fr,V.repeat=lo,V.result=Ys,V.runInContext=w,V.size=Or,V.snakeCase=Xa,V.some=zr,V.sortedIndex=tr,V.sortedLastIndex=nr,V.startsWith=co,V.template=uo,V.trim=ho,V.trimLeft=po,V.trimRight=fo,V.trunc=mo,V.unescape=go,V.uniqueId=Ao,V.words=vo,V.all=Cr,V.any=zr,V.contains=_r,V.detect=Tr,V.foldl=Rr,V.foldr=Fr,V.head=Hi,V.include=_r,V.inject=Rr,Co(V,function(){var e={};return Dn(V,function(t,n){V.prototype[n]||(e[n]=t)}),e}(),!1),V.sample=$r,V.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return $r(t,e)}):$r(this.value())},V.VERSION=_,Qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){V[e].placeholder=V}),Qt(["filter","map","takeWhile"],function(e,t){var n=t==$;Z.prototype[e]=function(e,i){var r=this.clone(),s=r.filtered,o=r.iteratees||(r.iteratees=[]);return r.filtered=s||n||t==O&&r.dir<0,o.push({iteratee:fi(e,i,3),type:t}),r}}),Qt(["drop","take"],function(e,t){var n=e+"Count",i=e+"While";Z.prototype[e]=function(i){i=null==i?1:ma(+i||0,0);var r=this.clone();if(r.filtered){var s=r[n];r[n]=t?ga(s,i):s+i}else{var o=r.views||(r.views=[]);o.push({size:i,type:e+(r.dir<0?"Right":"")})}return r},Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},Z.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[i](e,t).reverse()}}),Qt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),Qt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this[n](1)}}),Qt(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?_o:So;Z.prototype[e]=function(e){return this[n](i(e))}}),Z.prototype.dropWhile=function(e,t){var n,i,r=this.dir<0;return e=fi(e,t,3),this.filter(function(t,s,o){return n=n&&(r?i>s:s>i),i=s,n||(n=!e(t,s,o))})},Z.prototype.reject=function(e,t){return e=fi(e,t,3),this.filter(function(t,n,i){return!e(t,n,i)})},Z.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return"undefined"!=typeof t&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},Dn(Z.prototype,function(e,t){var n=/^(?:first|last)$/.test(t);V.prototype[t]=function(){var i=this.__wrapped__,r=arguments,s=this.__chain__,o=!!this.__actions__.length,a=i instanceof Z,l=a&&!o;if(n&&!s)return l?e.call(i):V[t](this.value());var c=function(e){var n=[e];return ia.apply(n,r),V[t].apply(V,n)};if(a||Ha(i)){var d=l?i:new Z(this),u=e.apply(d,r);if(!n&&(o||u.actions)){var h=u.actions||(u.actions=[]);h.push({func:gr,args:[c],thisArg:V})}return new K(u,s)}return this.thru(c)}}),Qt(["concat","join","pop","push","shift","sort","splice","unshift"],function(e){var t=Bo[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|shift)$/.test(e);V.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Z.prototype.clone=Ot,Z.prototype.reverse=zt,Z.prototype.value=Lt,V.prototype.chain=vr,V.prototype.reverse=br,V.prototype.toString=yr,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=wr,V.prototype.collect=V.prototype.map,V.prototype.head=V.prototype.first,V.prototype.select=V.prototype.filter,V.prototype.tail=V.prototype.rest,V}var x,_="3.0.0",C=1,k=2,T=4,S=8,I=16,D=32,M=64,A=128,E=256,P=30,R="...",F=150,j=16,$=0,N=1,O=2,z="Expected a function",L="__lodash_placeholder__",B="[object Arguments]",H="[object Array]",U="[object Boolean]",q="[object Date]",G="[object Error]",W="[object Function]",V="[object Map]",Y="[object Number]",J="[object Object]",X="[object RegExp]",K="[object Set]",Q="[object String]",Z="[object WeakMap]",et="[object ArrayBuffer]",tt="[object Float32Array]",nt="[object Float64Array]",it="[object Int8Array]",rt="[object Int16Array]",st="[object Int32Array]",ot="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",ct="[object Uint32Array]",dt=/\b__p \+= '';/g,ut=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39|#96);/g,ft=/[&<>"'`]/g,mt=RegExp(pt.source),gt=RegExp(ft.source),vt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,yt=/<%=([\s\S]+?)%>/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,_t=/^\s*function[ \n\r\t]+\w/,Ct=/^0[xX]/,kt=/^\[object .+?Constructor\]$/,Tt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,St=/($^)/,It=/[.*+?^${}()|[\]\/\\]/g,Dt=RegExp(It.source),Mt=/\bthis\b/,At=/['\n\r\u2028\u2029\\]/g,Et=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"{2,}(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Pt=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Rt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Ft=-1,jt={};jt[tt]=jt[nt]=jt[it]=jt[rt]=jt[st]=jt[ot]=jt[at]=jt[lt]=jt[ct]=!0,jt[B]=jt[H]=jt[et]=jt[U]=jt[q]=jt[G]=jt[W]=jt[V]=jt[Y]=jt[J]=jt[X]=jt[K]=jt[Q]=jt[Z]=!1;var $t={};$t[B]=$t[H]=$t[et]=$t[U]=$t[q]=$t[tt]=$t[nt]=$t[it]=$t[rt]=$t[st]=$t[Y]=$t[J]=$t[X]=$t[Q]=$t[ot]=$t[at]=$t[lt]=$t[ct]=!0,$t[G]=$t[W]=$t[V]=$t[K]=$t[Z]=!1;var Nt={leading:!1,maxWait:0,trailing:!1},Ot={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Lt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bt={"function":!0,object:!0},Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=Bt[typeof window]&&window!==(this&&this.window)?window:this,qt=Bt[typeof exports]&&exports&&!exports.nodeType&&exports,Gt=Bt[typeof module]&&module&&!module.nodeType&&module,Wt=qt&&Gt&&"object"==typeof global&&global;!Wt||Wt.global!==Wt&&Wt.window!==Wt&&Wt.self!==Wt||(Ut=Wt);var Vt=Gt&&Gt.exports===qt&&qt,Yt=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ut._=Yt,define("underscore",[],function(){return Yt})):qt&&Gt?Vt?(Gt.exports=Yt)._=Yt:qt._=Yt:Ut._=Yt}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var r=e.Backbone,s=[],o=(s.push,s.slice);s.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var r=this,s=n.once(function(){r.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,i)},off:function(e,t,i){var r,s,o,a,l,d,u,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),l=0,d=a.length;d>l;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=r=[],t||i)for(u=0,h=o.length;h>u;u++)s=o[u],(t&&t!==s.callback&&t!==s.callback._callback||i&&i!==s.context)&&r.push(s);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var s=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,i,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var s=n.split(l),o=0,a=s.length;a>o;o++)e[t].apply(e,[s[o]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},u={listenTo:"on",listenToOnce:"once"};n.each(u,function(e,t){a[t]=function(t,i,r){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var h=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,s,o,a,l,c,d,u;if(null==e)return this;if("object"==typeof e?(s=e,i=t):(s={})[e]=t,i||(i={}),!this._validate(s,i))return!1;o=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)t=s[r],n.isEqual(u[r],t)||a.push(r),n.isEqual(d[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete u[r]:u[r]=t;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;p>h;h++)this.trigger("change:"+a[h],this,u[a[h]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in e)n.isEqual(r[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},N(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,s,o,a=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},N(this,i),s=this.isNew()?"create":i.patch?"patch":"update","patch"===s&&(i.attrs=r),o=this.sync(s,this,i),r&&i.wait&&(this.attributes=a),o},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;N(this,e);var s=this.sync("delete",this,e);return e.wait||r(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||$();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,a,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);
e=i?[e]:n.clone(e),t||(t={});var r,s,o,a;for(r=0,s=e.length;s>r;r++)a=e[r]=this.get(e[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,s,o,a,l,c,d,u=t.at,p=this.model,f=this.comparator&&null==u&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=t.add,x=t.merge,_=t.remove,C=!f&&w&&_?[]:!1;for(r=0,s=e.length;s>r;r++){if(l=e[r]||{},o=l instanceof h?a=l:l[p.prototype.idAttribute||"id"],c=this.get(o))_&&(y[c.cid]=!0),x&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!d&&c.hasChanged(g)&&(d=!0)),e[r]=c;else if(w){if(a=e[r]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=c||a,!C||!a.isNew()&&y[a.id]||C.push(a),y[a.id]=!0}if(_){for(r=0,s=this.length;s>r;++r)y[(a=this.models[r]).cid]||b.push(a);b.length&&this.remove(b,t)}if(v.length||C&&C.length)if(f&&(d=!0),this.length+=v.length,null!=u)for(r=0,s=v.length;s>r;r++)this.models.splice(u+r,0,v[r]);else{C&&(this.models.length=0);var k=C||v;for(r=0,s=k.length;s>r;r++)this.models.push(k[r])}if(d&&this.sort({silent:!0}),!t.silent){for(r=0,s=v.length;s>r;r++)(a=v[r]).trigger("add",a,this,t);(d||C&&C.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},N(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var b=["groupBy","countBy","sortBy","indexBy"];n.each(b,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var y=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(w),s=r[1],o=r[2];i=n.bind(i,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,i):this.$el.on(s,o,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var s=C[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||$()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&_&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var _=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,I=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,a,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(r,o),s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(D,"\\$&").replace(T,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(I,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,P=/msie [\w.]+/,R=/\/$/,F=/#.*$/;M.started=!1,n.extend(M.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(R,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(A,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(E,"/"),s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!M.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(F,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};h.extend=f.extend=k.extend=y.extend=M.extend=j;var $=function(){throw new Error('A "url" property or function must be specified')},N=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),function(e,t){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,i){return e.Marionette=e.Mn=t(e,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(e,n,i)}else e.Marionette=e.Mn=t(e,e.Backbone,e._)}(this,function(e,t,n){!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.5",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(t,n),function(e,t){var n=e.Wreqr,i=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),i.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,i){var r=this.storage.getCommands(e);t.each(r.instances,function(e){n.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,i=e.storageType||this.storageType;n=t.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),i.Channel=function(){var n=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,i){if(n){i=i||this;var r="vent"===e?"on":"setHandler";t.each(n,function(n,s){this[e][r](s,t.bind(n,i))},this)}}}),n}(i),i.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(i[e],function(t){this[e][t]=r(this,e,t)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(e,t,n){return function(i){var r=e._getChannel(i)[t],s=Array.prototype.slice.call(arguments,1);return r[n].apply(r,s)}};return new n}(i),e.Wreqr}(t,n);var i=e.Marionette,r=t.Marionette={};r.VERSION="2.3.1",r.noConflict=function(){return e.Marionette=i,this},t.Marionette=r,r.Deferred=t.$.Deferred,r.extend=t.Model.extend,r.isNodeAttached=function(e){return t.$.contains(document.documentElement,e)},r.getOption=function(e,t){return e&&t?e.options&&void 0!==e.options[t]?e.options[t]:e[t]:void 0},r.proxyGetOption=function(e){return r.getOption(this,e)},r._getValue=function(e,t,i){return n.isFunction(e)&&(e=e.apply(t,i)),e},r.normalizeMethods=function(e){return n.reduce(e,function(e,t,i){return n.isFunction(t)||(t=this[t]),t&&(e[i]=t),e},{},this)},r.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},r.normalizeUIKeys=function(e,t){return n.reduce(e,function(e,n,i){var s=r.normalizeUIString(i,t);return e[s]=n,e},{})},r.normalizeUIValues=function(e,t){return n.each(e,function(i,s){n.isString(i)&&(e[s]=r.normalizeUIString(i,t))}),e},r.actAsCollection=function(e,t){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){e[i]=function(){var e=n.values(n.result(this,t)),r=[e].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var s=r.deprecate=function(e,t){n.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),void 0!==t&&t||s._cache[e]||(s._warn("Deprecation warning: "+e),s._cache[e]=!0)};s._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},s._cache={},r._triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi;return function(i,r,s){var o=arguments.length<3;o&&(s=r,r=s[0]);var a,l="on"+r.replace(t,e),c=i[l];return n.isFunction(c)&&(a=c.apply(i,o?n.rest(s):s)),n.isFunction(i.trigger)&&(o+s.length>1?i.trigger.apply(i,o?s:[r].concat(n.rest(s,0))):i.trigger(r)),a}}(),r.triggerMethod=function(){return r._triggerMethod(this,arguments)},r.triggerMethodOn=function(e){var t=n.isFunction(e.triggerMethod)?e.triggerMethod:r.triggerMethod;return t.apply(e,n.rest(arguments))},r.MonitorDOMRefresh=function(e){function t(){e._isShown=!0,s()}function i(){e._isRendered=!0,s()}function s(){e._isShown&&e._isRendered&&r.isNodeAttached(e.el)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}e.on({show:t,render:i})},function(e){function t(t,i,r,s){var o=s.split(/\s+/);n.each(o,function(n){var s=t[n];if(!s)throw new e.Error('Method "'+n+'" was configured as an event handler, but does not exist.');t.listenTo(i,r,s)})}function i(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,r){var s=r.split(/\s+/);n.each(s,function(n){var r=e[n];e.stopListening(t,i,r)})}function s(e,t,n,i){e.stopListening(t,n,i)}function o(t,i,r,s,o){if(i&&r){if(!n.isObject(r))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=e._getValue(r,t),n.each(r,function(e,r){n.isFunction(e)?s(t,i,r,e):o(t,i,r,e)})}}e.bindEntityEvents=function(e,n,r){o(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,s,r)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(r);var o=["description","fileName","lineNumber","name","message","number"];return r.Error=r.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+r.VERSION+"/",constructor:function(e,t){n.isObject(e)?(t=e,e=t.message):t||(t={});var i=Error.call(this,e);n.extend(this,n.pick(i,o),n.pick(t,o)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,r.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),r.Error.extend=r.extend,r.Callbacks=function(){this._deferred=r.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),i.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=r.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{destroy:function(){return r._triggerMethod(this,"before:destroy",arguments),r._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize.apply(this,arguments)},r.Object.extend=r.extend,n.extend(r.Object.prototype,t.Events,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Region=r.Object.extend({constructor:function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new r.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),r.Object.call(this,e)},show:function(e,t){if(this._ensureElement()){this._ensureViewIsIntact(e);var n=t||{},i=e!==this.currentView,s=!!n.preventDestroy,o=!!n.forceShow,a=!!this.currentView,l=i&&!s,c=i||o;if(a&&this.triggerMethod("before:swapOut",this.currentView,this,t),this.currentView&&delete this.currentView._parent,l?this.empty():a&&c&&this.currentView.off("destroy",this.empty,this),c){e.once("destroy",this.empty,this),e.render(),e._parent=this,a&&this.triggerMethod("before:swap",e,this,t),this.triggerMethod("before:show",e,this,t),r.triggerMethodOn(e,"before:show",e,this,t),a&&this.triggerMethod("swapOut",this.currentView,this,t);var d=r.isNodeAttached(this.el),u=[],h=n.triggerBeforeAttach||this.triggerBeforeAttach,p=n.triggerAttach||this.triggerAttach;return d&&h&&(u=this._displayedViews(e),this._triggerAttach(u,"before:")),this.attachHtml(e),this.currentView=e,d&&p&&(u=this._displayedViews(e),this._triggerAttach(u)),a&&this.triggerMethod("swap",e,this,t),this.triggerMethod("show",e,this,t),r.triggerMethodOn(e,"show",e,this,t),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(e,t){var i=(t||"")+"attach";n.each(e,function(e){r.triggerMethodOn(e,i,e,this)},this)},_displayedViews:function(e){return n.union([e],n.result(e,"_getNestedViews")||[])},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new r.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(e){if(!e)throw new r.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'})},getEl:function(e){return t.$(e,r._getValue(this.options.parentEl,this))},attachHtml:function(e){this.$el.contents().detach(),this.el.appendChild(e.el)},empty:function(){var e=this.currentView;if(e)return e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,this},_destroyView:function(){var e=this.currentView;e.destroy&&!e.isDestroyed?e.destroy():e.remove&&(e.remove(),e.isDestroyed=!0)},attachView:function(e){return this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);throw new r.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,t){var i=e.regionClass||t,r=n.omit(e,"selector","regionClass");return e.selector&&!r.el&&(r.el=e.selector),new i(r)},_buildRegionFromRegionClass:function(e){return new e}}),r.RegionManager=r.Controller.extend({constructor:function(e){this._regions={},r.Controller.call(this,e),this.addRegions(this.getOption("regions"))},addRegions:function(e,t){return e=r._getValue(e,this,arguments),n.reduce(e,function(e,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,t)),e[r]=this.addRegion(r,i),e},{},this)},addRegion:function(e,t){var n;return n=t instanceof r.Region?t:r.Region.buildRegion(t,r.Region),this.triggerMethod("before:add:region",e,n),n._parent=this,this._store(e,n),this.triggerMethod("add:region",e,n),n},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.invoke(e,"empty"),e},destroy:function(){return this.removeRegions(),r.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete t._parent,delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=n.size(this._regions)}}),r.actAsCollection(r.RegionManager.prototype,"_regions"),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=n.toArray(arguments),i=t.length;if(i>0)for(e=0;i>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var n=t.$(e).html();if(!n||0===n.length)throw new r.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return n},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){if(!e)throw new r.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(e)?e:r.TemplateCache.get(e);return i(t)}},r.View=t.View.extend({isDestroyed:!1,constructor:function(e){n.bindAll(this,"render"),e=r._getValue(e,this),this.options=n.extend({},n.result(this,"options"),e),this._behaviors=r.Behaviors(this),t.View.apply(this,arguments),r.MonitorDOMRefresh(this),this.on("show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,n.rest(arguments))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return t=r._getValue(t,this),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"_uiBindings");return r.normalizeUIKeys(e,t||n.result(this,"ui"))},normalizeUIValues:function(e){var t=n.result(this,"ui"),i=n.result(this,"_uiBindings");return r.normalizeUIValues(e,i||t)},configureTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(e,function(e,t,n){return e[n]=this._buildViewTrigger(t),e},{},this)}},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(e){var i=r._getValue(e||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(e)&&(this.events=i);var s={},o=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),l=n.result(this,"behaviorTriggers")||{};n.extend(s,o,i,a,l),t.View.prototype.delegateEvents.call(this,s)},undelegateEvents:function(){return t.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var e=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove(),n.invoke(this._behaviors,"destroy",e),this}},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(e,function(e,t){this.ui[t]=this.$(e)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)
},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=n.isObject(e),i=n.defaults({},t?e:{},{preventDefault:!0,stopPropagation:!0}),r=t?i.event:e;return function(e){e&&(e.preventDefault&&i.preventDefault&&e.preventDefault(),e.stopPropagation&&i.stopPropagation&&e.stopPropagation());var t={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,t)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){for(var e=r._triggerMethod,t=e(this,arguments),n=this._behaviors,i=0,s=n&&n.length;s>i;i++)e(n[i],arguments);return t},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?n.reduce(e,function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e},e):e},normalizeMethods:r.normalizeMethods,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.ItemView=r.View.extend({constructor:function(){r.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var e=[this.model||this.collection];return arguments.length&&e.push.apply(e,arguments),this.model?this.serializeModel.apply(this,e):{items:this.serializeCollection.apply(this,e)}},serializeCollection:function(e){return e.toJSON.apply(e,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e!==!1){if(!e)throw new r.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.serializeData();t=this.mixinTemplateHelpers(t);var n=r.Renderer.render(e,t,this);return this.attachElContent(n),this}},attachElContent:function(e){return this.$el.html(e),this}}),r.CollectionView=r.View.extend({childViewEventPrefix:"childview",constructor:function(e){var t=e||{};n.isUndefined(this.sort)&&(this.sort=n.isUndefined(t.sort)?!0:t.sort),this.once("render",this._initialEvents),this._initChildViewStorage(),r.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(e,t){r.triggerMethodOn(t,e)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e){this.destroyEmptyView();var t=this.getChildView(e),n=this.collection.indexOf(e);this.addChild(e,t,n)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(n.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var e=this.collection.find(function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this);e&&this.resortView()},_emptyViewIndex:-1,_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var i=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this,e,this._emptyViewIndex));var s=this.buildChildView(e,t,i);s._parent=this,this.proxyChildEvents(s),this._isShown&&r.triggerMethodOn(s,"before:show"),this.children.add(s),this.renderChildView(s,this._emptyViewIndex),this._isShown&&r.triggerMethodOn(s,"show")},getChildView:function(){var e=this.getOption("childView");if(!e)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(e,t,n){var i=this.getOption("childViewOptions");i=r._getValue(i,this,[e,n]);var s=this.buildChildView(e,t,i);return this._updateIndices(s,!0,n),this._addChildView(s,n),s._parent=this,s},_updateIndices:function(e,t,n){this.sort&&(t&&(e._index=n),this.children.each(function(n){n._index>=e._index&&(n._index+=t?1:-1)}))},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&r.triggerMethodOn(e,"show"),this.triggerMethod("add:child",e)},renderChildView:function(e,t){return e.render(),this.attachHtml(this,e,t),e},buildChildView:function(e,t,i){var r=n.extend({model:e},i);return new t(r)},removeChildView:function(e){return e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),delete e._parent,this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1)),e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,i=this.sort&&t<this.children.length-1;return i&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),r.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var e=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),e},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var i=n.toArray(arguments),r=i[0],s=this.normalizeMethods(n.result(this,"childEvents"));i[0]=t+":"+r,i.splice(1,0,e),"undefined"!=typeof s&&n.isFunction(s[r])&&s[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)},this)},_getImmediateChildren:function(){return n.values(this.children._views)}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var e=this.getOption("childView")||this.constructor;return e},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&r.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=r.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;var t,n=r.getOption(e,"childViewContainer");if(n){var i=r._getValue(n,e);if(t="@"===i.charAt(0)&&e.ui?e.ui[i.substr(4)]:e.$(i),t.length<=0)throw new r.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),r.LayoutView=r.ItemView.extend({regionClass:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),r.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(e,t)},_initializeRegions:function(e){var t;this._initRegionManager(),t=r._getValue(this.regions,this,[e])||{};var i=this.getOption.call(e,"regions");i=r._getValue(i,this,[e]),n.extend(t,i),t=this.normalizeUIValues(t),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new r.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),r.Behavior=r.Object.extend({constructor:function(e,t){this.view=t,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,e),r.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){this.stopListening()},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el}}),r.Behaviors=function(e,t){function n(e,i){return t.isObject(e.behaviors)?(i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,t.keys(s)),i):{}}function i(e,n){this._view=e,this._viewUI=t.result(e,"ui"),this._behaviors=n,this._triggers={}}var r=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(e,t){var n=new i(this,t);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var s={},o=this._uiBindings||t.result(this,"ui");return t.each(i,function(n,i){var a={},l=t.clone(t.result(n,"events"))||{},c=n._uiBindings||t.result(n,"ui"),d=t.extend({},o,c);l=e.normalizeUIKeys(l,d);var u=0;t.each(l,function(e,s){var o=s.match(r),l=o[1]+"."+[this.cid,i,u++," "].join(""),c=o[2],d=l+c,h=t.isFunction(e)?e:n[e];a[d]=t.bind(h,n)},this),s=t.extend(s,a)},this),s}};return t.extend(n,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(t,i){return t.behaviorClass?t.behaviorClass:e._getValue(n.behaviorsLookup,this,[t,i])[i]},parseBehaviors:function(e,i){return t.chain(i).map(function(i,r){var s=n.getBehaviorClass(i,r),o=new s(i,e),a=n.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(a)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(s[i],e[i],n)})}}),t.extend(i.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var r=t.extend({},this._viewUI,t.result(n,"ui")),s=t.clone(t.result(n,"triggers"))||{};s=e.normalizeUIKeys(s,r),t.each(s,t.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(e,t,n,i){var r=i.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(r,n),r.AppRouter=t.Router.extend({constructor:function(e){this.options=e||{},t.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[e];this.onRoute(e,i,t)}},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,i){var s=e[i];if(!s)throw new r.Error('Method "'+i+'" was not found on the controller');this.route(t,i,n.bind(s,e))},getOption:r.proxyGetOption,triggerMethod:r.triggerMethod,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Application=r.Object.extend({constructor:function(e){this._initializeRegions(e),this._initCallbacks=new r.Callbacks,this.submodules={},n.extend(this,e),this._initChannel(),r.Object.call(this,e)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var i=r.Module.getClass(t),s=n.toArray(arguments);return s.unshift(this),i.create.apply(i,s)},getRegionManager:function(){return new r.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var i=r.getOption(e,"regions");return n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){r._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,r._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){r._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(e){delete this[e],r._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var s=n.flatten([this,this.app,t,r,t.$,n,i]);e.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks},triggerMethod:r.triggerMethod}),n.extend(r.Module,{create:function(e,t,i){var r=e,s=n.rest(arguments,3);t=t.split(".");var o=t.length,a=[];return a[o-1]=i,n.each(t,function(t,n){var o=r;r=this._getModule(o,t,e,i),this._addModuleDefinition(o,r,a[n],s)},this),r},_getModule:function(e,t,i,r){var s=n.extend({},r),o=this.getClass(r),a=e[t];return a||(a=new o(t,i,s),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var r=this._getDefine(n),s=this._getStartWithParent(n,t);r&&t.addDefinition(r,i),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof r.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof r.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),r}),function(){function e(e,t,n,i,r,s){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&i.push(r+e+"/"+s))}function t(e,t,n,i,r){var s=i+t+"/"+r;require._fileExists(e.toUrl(s+".js"))&&n.push(s)}function n(e,t,i){var r;for(r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!i?"object"==typeof t[r]&&(!e[r]&&t[r]&&(e[r]={}),n(e[r],t[r],i)):e[r]=t[r]}var i=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(r){var s=r.config?r.config():{};return{version:"2.0.4",load:function(r,o,a,l){l=l||{},l.locale&&(s.locale=l.locale);var c,d,u,h=i.exec(r),p=h[1],f=h[4],m=h[5],g=f.split("-"),v=[],b={},y="";if(h[5]?(p=h[1],c=p+m):(c=r,m=h[4],f=s.locale,f||(f=s.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),g=f.split("-")),l.isBuild){for(v.push(c),t(o,"root",v,p,m),d=0;d<g.length;d++)u=g[d],y+=(y?"-":"")+u,t(o,y,v,p,m);o(v,function(){a()})}else o([c],function(t){var i,r=[];for(e("root",t,r,v,p,m),d=0;d<g.length;d++)i=g[d],y+=(y?"-":"")+i,e(y,t,r,v,p,m);o(v,function(){var e,i,s;for(e=r.length-1;e>-1&&r[e];e--)s=r[e],i=t[s],(i===!0||1===i)&&(i=o(p+s+"/"+m)),n(b,i);a(b)})})}}})}(),function(e){define("hogan",[],function(){return function(){var t=function(){function e(e){this.text=e}function t(e){var t=String(null===e?"":e);return l.test(t)?t.replace(i,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):t}e.prototype={r:function(){return""},v:t,render:function(e,t){return this.r(e,t)},rp:function(e,t,n){var i=n[e];return i?i.render(t,n):""},rs:function(e,t,n){var i="",r=e[e.length-1];if(!c(r))return i=n(e,t);for(var s=0;s<r.length;s++)e.push(r[s]),i+=n(e,t),e.pop();return i},s:function(e,t,n,i,r,s){if(c(e)&&0===e.length)return!1;i||"function"!=typeof e||(e=this.ls(e,t,n,r,s));var o=""===e||!!e;return!i&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o},d:function(e,t,n,i){if("."===e&&c(t[t.length-2]))return t[t.length-1];for(var r=e.split("."),s=this.f(r[0],t,n,i),o=null,a=1;a<r.length;a++)s&&"object"==typeof s&&r[a]in s?(o=s,s=s[r[a]]):s="";return i&&!s?!1:(i||"function"!=typeof s||(t.push(o),s=this.lv(s,t,n),t.pop()),s)},f:function(e,t,n,i){for(var r=!1,s=null,o=!1,a=t.length-1;a>=0;a--)if(s=t[a],s&&"object"==typeof s&&e in s){r=s[e],o=!0;break}return o?(i||"function"!=typeof r||(r=this.lv(r,t,n)),r):i?!1:""},ho:function(e,t,i,r){var s=e.call(t,r,function(e){return n.compile(e).render(t)}),o=n.compile(s.toString()).render(t,i);return this.b=o,!1},b:"",ls:function(e,t,n,i,r){var s=t[t.length-1];if(e.length>0)return this.ho(e,s,n,this.text.substring(i,r));var o=e.call(s);return"function"==typeof o?this.ho(o,s,n,this.text.substring(i,r)):o},lv:function(e,t,i){var r=t[t.length-1];return n.compile(e.call(r).toString()).render(r,i)}};var i=/&/g,r=/</g,s=/>/g,o=/\'/g,a=/\"/g,l=/[&<>\"\']/,c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return e}(),n=function(){function e(e){function t(){p.length>0&&(f.push(new String(p)),p="")}function r(){for(var e=!0,t=y;t<f.length;t++)if(e=f[t].tag&&b[f[t].tag]<b._v||!f[t].tag&&null==f[t].match(v),!e)return!1;return e}function s(e,n){if(t(),e&&r())for(var i=y;i<f.length;i++)f[i].tag||f.splice(i,1);else n||f.push({tag:"\n"});m=!1,y=f.length}function o(e,t){var i="="+x,r=e.indexOf(i,t),s=n(e.substring(e.indexOf("=",t)+1,r)).split(" ");return w=s[0],x=s[1],r+i.length-1}var a=e.length,l=0,c=1,d=2,u=l,h=null,p="",f=[],m=!1,g=0,y=0,w="{{",x="}}";for(g=0;a>g;g++)if(u==l)i(w,e,g)?(--g,t(),u=c):"\n"==e[g]?s(m):p+=e[g];else if(u==c){g+=w.length-1;var _=b[e[g+1]];h=_?e[g+1]:"_v",m=g,"="==h?(g=o(e,g),u=l):(_&&g++,u=d)}else i(x,e,g)?(g+=x.length-1,f.push({tag:h,n:n(p),i:"/"==h?m-1:g+1}),p="",u=l,"{"==h&&g++):p+=e[g];return s(m,!0),f}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t[n]!=e[0])return!1;for(var i=1,r=e.length;r>i;i++)if(t[n+i]!=e[i])return!1;return!0}function r(e,t,n,i){for(var a=[],l=null,c=null;e.length>0;)if(c=e.shift(),"#"==c.tag||"^"==c.tag||s(c,i))n.push(c),c.nodes=r(e,c.tag,n,i),a.push(c);else{if("/"==c.tag){if(0==n.length)throw new Error("Closing tag without opener: /"+c.n);if(l=n.pop(),c.n!=l.n&&!o(c.n,l.n,i))throw new Error("Nesting error: "+l.n+" vs. "+c.n);return l.end=c.i,a}a.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function s(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function o(e,t,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function a(e,n,i){var r='var c = [cx];var b = "";var _ = this;'+d(e)+"return b;";if(i.asString)return"function(cx,p){"+r+";};";var s=new t(n);return s.r=new Function("cx","p",r),s}function l(e){return e.replace(_,"\\\\").replace(y,'\\"').replace(w,"\\n").replace(x,"\\r")}function c(e){return~e.indexOf(".")?"d":"f"}function d(e){for(var t="",n=0,i=e.length;i>n;n++){var r=e[n].tag;"#"==r?t+=u(e[n].nodes,e[n].n,c(e[n].n),e[n].i,e[n].end):"^"==r?t+=h(e[n].nodes,e[n].n,c(e[n].n)):"<"==r||">"==r?t+=p(e[n].n):"{"==r||"&"==r?t+=f(e[n].n,c(e[n].n)):"\n"==r?t+=g("\n"):"_v"==r?t+=m(e[n].n,c(e[n].n)):void 0===r&&(t+=g(e[n]))}return t}function u(e,t,n,i,r){var s="if(_.s(_."+n+'("'+l(t)+'",c,p,1),';return s+="c,p,0,"+i+","+r+")){",s+="b += _.rs(c,p,",s+='function(c,p){ var b = "";',s+=d(e),s+="return b;});c.pop();}",s+='else{b += _.b; _.b = ""};'}function h(e,t,n){var i="if (!_.s(_."+n+'("'+l(t)+'",c,p,1),c,p,1,0,0)){';return i+=d(e),i+="};"}function p(e){return'b += _.rp("'+l(e)+'",c[c.length - 1],p);'}function f(e,t){return"b += (_."+t+'("'+l(e)+'",c,p,0));'}function m(e,t){return"b += (_.v(_."+t+'("'+l(e)+'",c,p,0)));'}function g(e){return'b += "'+l(e)+'";'}var v=/\S/,b={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10},y=/\"/g,w=/\n/g,x=/\r/g,_=/\\/g;return{scan:e,parse:function(e,t){return t=t||{},r(e,"",[],t.sectionTags||[])},cache:{},compile:function(t,n){n=n||{};var i=this.cache[t];return i?i:(i=a(this.parse(e(t),n),t,n),this.cache[t]=i)}}}();return"undefined"!=typeof module&&module.exports?(module.exports=n,module.exports.Template=t):"undefined"!=typeof exports&&(exports.Hogan=n,exports.HoganTemplate=t),e.Hogan=n}.apply(e,arguments)})}(this),function(e){"function"==typeof define&&define.amd?define("cookie",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function n(e){return a.raw?e:decodeURIComponent(e)}function i(e){return t(a.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),a.json?JSON.parse(e):e}catch(t){}}function s(t,n){var i=a.raw?t:r(t);return e.isFunction(n)?n(i):i}var o=/\+/g,a=e.cookie=function(r,o,l){if(void 0!==o&&!e.isFunction(o)){if(l=e.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(r),"=",i(o),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=r?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;f>p;p++){var m=h[p].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){u=s(v,o);break}r||void 0===(v=s(v))||(u[g]=v)}return u};a.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e){define("bootstrap",["jquery"],function(){return function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),s="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,s)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",s=i.data();t+="Text",null==s.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;r||i.data("bs.carousel",r=new n(this,s)),"number"==typeof t?r.to(t):o?r[o]():s.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this
},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,s=(n+r)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),s=i||this.getItemForDirection(t,r),o=this.interval,a="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(s)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,r.addClass(a),s.addClass(a),r.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),s=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),t.call(s,o),a&&s.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&s.toggle&&"show"==t&&(s.toggle=!1),r||n.data("bs.collapse",r=new i(this,s)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var s=t(r),o=s.data("bs.collapse"),a=o?"toggle":e.extend({},r.data(),{trigger:this});n.call(s,a)})}(jQuery),+function(e){function t(t){t&&3===t.which||(e(r).remove(),e(s).each(function(){var i=e(this),r=n(i),s={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.2",o.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var s=n(r),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(s.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&r.find(s).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){function t(t,i){return this.each(function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);s||r.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](i):o.show&&s.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),s=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),s="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.tooltip",r=new n(this,s)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var d=this.getPosition(),u=s[0].offsetWidth,h=s[0].offsetHeight;if(c){var p=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&d.bottom+h>m.bottom?"top":"top"==a&&d.top-h<m.top?"bottom":"right"==a&&d.right+u>m.width?"left":"left"==a&&d.left-u<m.left?"right":a,s.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,u,h);this.applyPlacement(g,a);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top=t.top+o,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=s&&(t.top=t.top+s-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),h=u?2*d.left-r+l:2*d.top-s+c,p=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][p],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&s.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,s=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=i?{top:0,left:0}:t.offset(),o={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,o,a,s)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-s-o.scroll,l=t.top+s-o.scroll+i;a<o.top?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=t.left-s,d=t.left+s+n;c<o.left?r.left=o.left-c:d>o.width&&(r.left=o.left+o.width-d)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),s="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.popover",r=new n(this,s)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),s="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,s)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),s=/^#./.test(r)&&e(r);return s&&s.length&&s.is(":visible")&&[[s[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=s[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=i.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),s="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,s)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=s.top?!1:"bottom":e-i>=r+o?!1:"bottom";var a=null==this.affixed,l=a?r:s.top,c=a?o:t;return null!=n&&n>=r?"top":null!=i&&l+c>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,s=i.bottom,o=e("body").height();"object"!=typeof i&&(s=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var a=this.getState(o,t,r,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-s})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery)}.apply(e,arguments)})}(this),define("utils/constants/urlConstants",[],function(){var e={config:"/static/config/config.json",index:"/",login:"/login/",sessions:"/api/sessions/",users:"/api/users/",userGroup:"/api/osgroups/",billGroup:"/api/billgroups/",deposit:"/api/deposits/",queues:"/api/queues/",files:"/api/files-connector/",jobs:"/api/jobs/",jobSummary:"/api/jobsummary/",jobsRun:"/api/jobs?status=running",jobsWait:"/api/jobs?status=waitforrun",jobsHang:"/api/jobsHang/",jobsFinish:"/api/jobs?status=finished",clusterOverview:"/api/cluster-overview/",jobHistory:"/api/jobhistory/",jobHistoryQueues:"/api/queues/?role=admin",nodes:"/api/nodes/",nodesOverview:"/api/nodes-overview/"};return e}),define("utils/constants/constants",[],function(){var e={productName:"Lenovo Intelligent Computing Orchestration",version:"2.1",refresh:"refresh",refreshAdmin:"refresh:Admin",refreshUser:"refresh:User",refreshUserProfile:"refresh:UserProfile",refreshResource:"refresh:Resource",refreshUserGroup:"refresh:UserGroup",refreshAccountGroup:"refresh:AccountGroup"};return e}),define("utils/eventBus",["backbone"],function(e){var t={};return _.extend(t,e.Events),t}),define("utils/utils",["bootstrap","utils/constants/constants","utils/constants/urlConstants","utils/eventBus"],function(e,t,n,i){var r={};return r.encodeHTML=function(){},r.showMessageOnSpot=function(e,t,n){n||(n="right"),$(e).tooltip({title:t,trigger:"manual",placement:n,selector:e}).tooltip("show")},r.hideMessageOnSpot=function(e){$(e).tooltip("destroy")},r.startRefreshing=function(){r.refreshFunc=setInterval(function(){r.forceRefresh()},3e4)},r.removeRefreshing=function(){r.refreshFunc&&clearInterval(r.refreshFunc)},r.changeTimePeriod=function(e){this.areaChartParameters.time_period=e
},r.changeQueue=function(e){this.areaChartParameters.queue_selected=e},r.changeStatus=function(e){this.areaChartParameters.status_selected=e},r.forceRefresh=function(){(0!==$("#header-wrapper").length||0!==$("#admin-cluster-wrapper").length||0!==$(".userViewArea").length||0!==$(".nodesViewArea").length)&&($("#userBalance").length>0&&r.refreshUserDashboard(),$("#admin-cluster-wrapper").length>0&&r.refreshAdminDashboard(),$("#userGrid_wrapper").length>0&&r.refreshUserProfile(),$("#allNodesTable_wrapper").length>0&&r.refreshResourceView(),$("#groupTable_wrapper").length>0&&r.refreshUserGroup(),$("#accountingGrid_wrapper").length>0&&r.refreshAccountGroup())},r.refreshAdminDashboard=function(){var e=$.get(n.clusterOverview),r=$.extend({},this.areaChartParameters),s=$.get(n.jobHistory+"?duration="+r.time_period+"&num_of_points=7&q_name="+r.queue_selected+"&status="+r.status_selected),o=$.get(n.nodesOverview);$.when(e,s,o).done(function(e,n,s){var o={clusterOverview:e[0],jobChart:n[0],time_period:r.time_period,queue_selected:r.queue_selected,status_selected:r.status_selected,nodesOverview:s[0]};i.trigger(t.refreshAdmin,o)})},r.refreshUserDashboard=function(){var e=$.get(n.jobSummary),r=$.get(n.queues),s=$.get(n.clusterOverview),o=$.get(n.users+$.cookie("userid")),a=$.get(n.jobsRun),l=$.get(n.jobsWait),c=$.get(n.jobsFinish);$.when(e,r,s,o,a,l,c).done(function(e,n,r,s,o,a,l){var c={jobSummary:e[0],queue:n[0],clusterOverview:r[0],user:s[0],runningJobs:o[0],waitingJobs:a[0],finishedJobs:l[0]};i.trigger(t.refreshUser,c)})},r.refreshUserProfile=function(){var e={};i.trigger(t.refreshUserProfile,e)},r.refreshResourceView=function(){var e={};i.trigger(t.refreshResource,e)},r.refreshUserGroup=function(){var e={};i.trigger(t.refreshUserGroup,e)},r.refreshAccountGroup=function(){var e={};i.trigger(t.refreshAccountGroup,e)},r.storage=function(){try{return"localStorage"in window&&null!==window.localStorage?self.localStorage:self.cookie}catch(e){return self.cookie}}(),r.decimalPlaces=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},r.areaChartParameters={time_period:"3600",queue_selected:"all",status_selected:"uncompleted"},r}),define("text!core/widgets/changePwdModal/templates/PasswordMgtTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="changePwdModal" role="dialog" aria-hidden="true" data-backdrop="true" data-keyboard="true">\r\n	<div class="modal-dialog pwdDlg modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall" aria-labelledby="{{nls.changePwdTitle}}">{{nls.changePwdTitle}}</h3>\r\n			</div>\r\n			<div class="modal-body modal-body-overall">	\r\n				<div class="row inputRow-overall" id="pwdChangeErrorMsgArea" style="display:none;">\r\n					<span id="pwdErrorMsg"></span>\r\n				</div>			\r\n			    <div class="form-group row inputRow-overall">\r\n			    	<div class="col-sm-2 label-modal-overall">\r\n			    		<label for="currentUser" class="control-label">{{nls.userName}}: </label>\r\n			    	</div>\r\n			    	<div class="col-sm-4 pwdRow">\r\n			    		<span id="currentUser" class="userNameSpan"></span>	\r\n			    	</div>        	\r\n			    </div>\r\n			    <div class="form-group row inputRow-overall">\r\n			    	<div class="col-sm-2 label-modal-overall">\r\n			    		<label for="oldPassword" class="control-label">{{nls.oldPassword}}: </label>\r\n			    	</div>\r\n			    	<div class="col-sm-4 pwdRow">\r\n			    		<input type="password" id="oldPassword" class="form-control" maxlength="100"\r\n                                autocapitalize="off" autocorrect="off" autofocus="true">\r\n			    	</div>\r\n			    	<div class="col-sm-5">\r\n			    		<div id="emptyOldPwdMsg" class="emptyPwdMsg"></div>\r\n			    	</div>\r\n			    </div>\r\n			    <div class="form-group row inputRow-overall">\r\n			    	<div class="col-sm-2 label-modal-overall">\r\n			    		<label for="newPassword" class="control-label">{{nls.newPassword}}: </label>\r\n			    	</div>				      	\r\n			      	<div class="col-sm-4 pwdRow">\r\n			      		<input id="newPassword" type="password" class="form-control" maxlength="100"\r\n                                autocapitalize="off" autocorrect="off" autofocus="true">\r\n			      	</div>	\r\n			      	<div class="col-sm-5">\r\n			      		<div id="emptyNewPwdMsg" class="emptyPwdMsg"></div>\r\n			      	</div>			      	\r\n			    </div><!-- new password input -->\r\n			    <div class="form-group row inputRow-overall has-feedback">\r\n			    	<div class="col-sm-2 pwdRow  label-modal-overall">\r\n			    		<label for="confirmPassword" class="control-label">{{nls.confirmPassword}}: </label>\r\n			    	</div>				      	\r\n			      	<div class="col-sm-4 pwdRow">\r\n			      		<input type="password" id="confirmPassword" class="form-control" maxlength="100"\r\n                                autocapitalize="off" autocorrect="off">\r\n                        <i id="newPwdStatusIcon" class="form-control-feedback"></i>\r\n			      	</div>	\r\n			      	<div class="col-sm-5">\r\n			      		<div id="confirmNewPwdMsg" class="emptyPwdMsg"></div>\r\n			      	</div>	      	\r\n			    </div><!-- confirm new password input -->\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<button class="btn btn-primary btn-base" id="okChangeBtn" disabled=\'disabled\'>{{nls.OK}}</button>\r\n				<button class="btn btn-default btn-base" data-dismiss="modal">{{nls.Cancel}}</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("core/widgets/changePwdModal/nls/login",{root:{systemName:"Lenovo Open HPC",userName:"用户名",password:"密码",changePwdTitle:"更改密码",oldPassword:"旧密码",oldPwdEmptyMsg:"请输入旧密码",newPwdEmptyMsg:"请输入新密码",confirmPwdEmptyMsg:"请再次输入新密码",newPassword:"新密码",confirmPassword:"确认新密码",pwdNotMatch:"密码不匹配",OK:"确定",Cancel:"取消",loginText:"登陆"},zh:!0}),define("core/widgets/changePwdModal/nls/zh/login",{systemName:"Lenovo Open HPC",userName:"用户名",password:"密码",changePwdTitle:"更改密码",oldPassword:"旧密码",oldPwdEmptyMsg:"请输入旧密码",newPwdEmptyMsg:"请输入新密码",confirmPwdEmptyMsg:"请再次输入新密码",newPassword:"新密码",confirmPassword:"确认新密码",pwdNotMatch:"密码不匹配",OK:"确定",Cancel:"取消",loginText:"登陆"}),define("libs/require-css/normalize",[],function(){function e(e,i,r){if(e.match(a)||e.match(o))return e;e=s(e);var l=r.match(o),c=i.match(o);return!c||l&&l[1]==c[1]&&l[2]==c[2]?n(t(e,i),r):t(e,i)}function t(e,t){if("./"==e.substr(0,2)&&(e=e.substr(2)),e.match(a)||e.match(o))return e;var n=t.split("/"),i=e.split("/");for(n.pop();curPart=i.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function n(e,t){var n=t.split("/");for(n.pop(),t=n.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var r=/([^:])\/+/g,s=function(e){return e.replace(r,"$1/")},o=/[^\:\/]*:\/\/([^\/])*/,a=/^(\/|data:)/,l=function(t,n,i){n=s(n),i=s(i);for(var r,o,t,a=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;r=a.exec(t);){o=r[3]||r[2]||r[5]||r[6]||r[4];var l;l=e(o,n,i);var c=r[5]||r[6]?1:0;t=t.substr(0,a.lastIndex-o.length-c-1)+l+t.substr(a.lastIndex-c-1),a.lastIndex=a.lastIndex+(l.length-o.length)}return t};return l.convertURIBase=e,l.absoluteURI=t,l.relativeURI=n,l}),define("libs/require-css/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,i=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?i=!1:t[4]&&(n=parseInt(t[4])<18);var r={};r.pluginBuilder="./css-builder";var s,o,a,l=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},c=0,d=[],u=function(e){c++,32==c&&(l(),c=0),o.addImport(e),s.onload=function(){h()}},h=function(){a();var e=d.shift();return e?(a=e[1],void u(e[0])):void(a=null)},p=function(e,t){if(o&&o.addImport||l(),o&&o.addImport)a?d.push([e,t]):(u(e),a=t);else{s.textContent='@import "'+e+'";';var n=setInterval(function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},f=function(t,n){var r=document.createElement("link");if(r.type="text/css",r.rel="stylesheet",i)r.onload=function(){r.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==r.href)return clearInterval(s),n()}},10);r.href=t,e.appendChild(r)};return r.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},r.load=function(e,t,i){(n?p:f)(t.toUrl(e+".css"),i)},r}),define("libs/require-css/css!core/layout/login/style/login",[],function(){}),define("core/widgets/changePwdModal/PasswordMgtView",["marionette","cookie","utils/constants/urlConstants","text!./templates/PasswordMgtTmpl.mustache","i18n!./nls/login","css!../../layout/login/style/login"],function(e,t,n,i,r){return e.ItemView.extend({template:i,templateHelpers:function(){return{nls:r}},onRender:function(){var e=$.cookie("username"),t=($.cookie("userid"),$.cookie("csrftoken")),i="",s="";$("#currentUser").text(e),$("#changePwdModal").modal({keyboard:!0,backdrop:"static"}),$("#changePwdModal").on("shown.bs.modal",function(){$("#oldPassword")[0].focus()}),document.onkeydown=function(e){var e=window.event?window.event:e;13==e.keyCode&&$("#okChangeBtn").trigger("click")},$("#oldPassword").blur(function(){i=$.trim($("#oldPassword").val()),""==i?($("#emptyOldPwdMsg").addClass("alert alert-danger"),$("#emptyOldPwdMsg").text(r.oldPwdEmptyMsg)):$("#emptyOldPwdMsg").hasClass("alert alert-danger")&&($("#emptyOldPwdMsg").removeClass("alert alert-danger"),$("#emptyOldPwdMsg").text(""))}).keyup(function(){i=$.trim($("#oldPassword").val()),$("#emptyOldPwdMsg").hasClass("alert alert-danger")&&($("#emptyOldPwdMsg").removeClass("alert alert-danger"),$("#emptyOldPwdMsg").text("")),""!=i&&""!=s?$("#okChangeBtn").removeAttr("disabled"):(""==i&&$("#oldPassword")[0].focus(),$("#okChangeBtn").attr("disabled","disabled"))}),$("#confirmPassword, #newPassword").on("click keyup blur",function(){var e=$.trim($("#newPassword").val()),t=$.trim($("#confirmPassword").val());""!=e&&""!=t?($("#emptyNewPwdMsg").removeClass("alert alert-danger"),$("#emptyNewPwdMsg").text(""),$("#confirmNewPwdMsg").removeClass("alert alert-danger"),$("#confirmNewPwdMsg").text(""),e==t?($("#newPwdStatusIcon").removeClass("glyphicon glyphicon-remove"),$("#newPwdStatusIcon").addClass("glyphicon glyphicon-ok"),$("#confirmNewPwdMsg").removeClass("alert alert-danger"),$("#confirmNewPwdMsg").text(""),s=t,""!=i?$("#okChangeBtn").removeAttr("disabled"):$("#okChangeBtn").attr("disabled","disabled")):($("#newPwdStatusIcon").removeClass("glyphicon glyphicon-ok"),$("#newPwdStatusIcon").addClass("glyphicon glyphicon-remove"),$("#confirmNewPwdMsg").addClass("alert alert-danger"),$("#confirmNewPwdMsg").text(r.pwdNotMatch),$("#okChangeBtn").attr("disabled","disabled"))):($("#okChangeBtn").attr("disabled","disabled"),""==e?($("#emptyNewPwdMsg").addClass("alert alert-danger"),$("#emptyNewPwdMsg").text(r.newPwdEmptyMsg)):($("#emptyNewPwdMsg").removeClass("alert alert-danger"),$("#emptyNewPwdMsg").text("")),""==t?($("#confirmNewPwdMsg").addClass("alert alert-danger"),$("#confirmNewPwdMsg").text(r.confirmPwdEmptyMsg)):($("#confirmNewPwdMsg").removeClass("alert alert-danger"),$("#confirmNewPwdMsg").text("")))}),$("#okChangeBtn").click(function(){var e=$.cookie("userid"),r=$.cookie("username");""!=i&&""!=s&&""!=e&&""!=r&&$.ajax({url:n.users+e+"/",type:"PATCH",headers:{"X-CSRFtoken":t},data:{old_password:i,new_password:s},success:function(){console.log("success"),$("#pwdChangeErrorMsgArea").css("display","none"),$("#changePwdModal").modal("hide")},error:function(e){if(400==e.status){var t=e.responseJSON;t.old_password&&t.old_password.length>0&&($("#emptyOldPwdMsg").addClass("alert alert-danger"),$("#emptyOldPwdMsg").text(t.old_password[0]))}else{var t=e.responseJSON;$("#pwdChangeErrorMsgArea").css("display","block"),$("#pwdErrorMsg").html(t.detail)}console.log("error")}})})}})}),define("text!core/layout/header/templates/headerTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<!-- Navigation -->\r\n<nav id="ui-navigation-header" class="navbar navbar-default navbar-static-top" role="navigation">\r\n    <span>\r\n        <!--button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </button-->\r\n        <a id="ui-header-brand" class="navbar-brand" href="#"><span><img class="logo-img" src="/static/js/core/layout/header/img/lico_logo.png"></span></a>\r\n    </span>\r\n    <a id="ui-header-home" class="navbar-menu-link" href="/#admin">\r\n    <div class="navbar-menu-wrapper">\r\n        <span class="navbar-menu">\r\n        <img src="/static/js/core/layout/header/img/ic_home_white_36x36.png">\r\n        <span class="navbar-menu-text">{{nls.homePage}}</span>\r\n        </span>\r\n    </div>\r\n    </a>\r\n    <a id="ui-header-resource" class="navbar-menu-link" href="/#admin/nodes">\r\n    <div class="navbar-menu-wrapper">\r\n        <span class="navbar-menu">\r\n        <img src="/static/js/core/layout/header/img/ic_apps_white_36x36.png">\r\n        <span class="navbar-menu-text">{{nls.resource}}</span>\r\n        </span>\r\n    </div>\r\n    </a>\r\n    <a id="ui-header-users" class="navbar-menu-link" href="/#admin/users/groupsManagement">\r\n    <div class="navbar-menu-wrapper">\r\n        <span class="navbar-menu">\r\n        <img src="/static/js/core/layout/header/img/ic_supervisor_account_white_36x36.png">\r\n        <span class="navbar-menu-text">{{nls.users}}</span>\r\n        </span>\r\n    </div>\r\n    </a>\r\n    <!-- /.navbar-header -->\r\n    <div class="nav-bar-items dropdown personalInfoCard">\r\n        <div class="dropdown-toggle personalInfoCard" data-toggle="popover" tabindex="0">\r\n            <a id="personalCenter">\r\n                <div class="profile-wrapper personalInfoCard">\r\n                    <img class="personalInfoCard" data-toggle="popover" src="/static/js/core/layout/header/img/ic_account_circle_white_30x30.png">\r\n                    <div class="profile-text personalInfoCard">{{nls.personalCenter}}</div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="nav-bar-items" id="user-file-management-wrapper">\r\n        <a id="user-file-management">\r\n            <div class="profile-wrapper">\r\n                <img src="/static/js/core/layout/header/img/ic_folder_open_white_30x30.png">\r\n                <div class="profile-text">{{nls.fileManagement}}</div>\r\n            </div>\r\n        </a>\r\n    </div>\r\n    <div class="nav-bar-items admin-links-area" id="admin-links-wrapper">\r\n        <a id="admin-links">\r\n            <div class="profile-wrapper admin-links-area">\r\n                <img src="/static/js/core/layout/header/img/ic_insert_link_white_30x30.png" class="admin-links-area">\r\n                <div class="profile-text admin-links-area">{{nls.links}}</div>\r\n            </div>\r\n        </a>\r\n    </div>\r\n    <div id="linkPopoverContent" style="display:none;">\r\n        <div class="hover-card-content linkPopoverContentClass" style="padding:0px;">\r\n            <div class="linkDiv returnToUserLink upperLinkArea">\r\n                <div id="returntoUser">{{nls.returntoUser}}</div>\r\n            </div>\r\n            <div id="linkforGanglia" class="linkDiv viewDetailsLink">\r\n                <div style="display:inline-block;float:left;">\r\n                    <span style="display:block">{{nls.viewMonitoringDetails}}</span>\r\n                    <span style="display:block">Ganglia</span>\r\n                </div>\r\n                <div style="display:inline-block;float:right;">\r\n                    <div class="linkImg"></div>\r\n                </div>                \r\n            </div>\r\n            <div id="linkforNagios" class="linkDiv viewDetailsLink">\r\n                <div style="display:inline-block;float:left;">\r\n                	<span style="display:block">{{nls.viewAlarmDetails}}</span>\r\n                    <span style="display:block">Nagios</span>\r\n                </div>\r\n                <div style="display:inline-block;float:right;">\r\n                    <div class="linkImg"></div>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id="popoverContent" style="display:none;">\r\n        <div class="hover-card-content linkPopoverContentClass">\r\n            <div class="row pcHoverCardRow">\r\n                <div class="col-sm-12 profile-label personalCenterFontClass currentUserNameClass">\r\n                    <p id="currentUserName"></p>\r\n                </div>\r\n            </div>\r\n            <div class="row pcHoverCardRow">\r\n                <div class="col-sm-12 profile-label personalCenterFontClass">{{nls.userOSGroup}}: <span id="userOSGroup" class="groupValueClass"></span></div>\r\n\r\n            </div>\r\n            <div class="row pcHoverCardRow">\r\n                <div class="col-sm-12 profile-label personalCenterFontClass">{{nls.accountingGroup}}: <span id="accountingGroup" class="groupValueClass"></span></div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="hover-card-options-wrapper">\r\n            <button class="btn btn-default btn-hc btn-left personalCenterFontClass" id="changePwd">{{nls.changePassword}}</button>\r\n            <button class="btn btn-default btn-hc btn-right personalCenterFontClass" id="logout">{{nls.exit}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal fade" id="confirm-logout" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n        <div class="modal-dialog" style="margin-top:10%">\r\n            <div class="modal-content col-sm-10">\r\n                <div class="modal-body">\r\n                    <h4>{{nls.logoutConfirmation}}</h4>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <div class="row">\r\n                        <div class="col-sm-6">\r\n                            <button class="btn btn-primary btn-narrowModal" id="confirmLogoutBtn">{{nls.OK}}</button>\r\n                        </div>\r\n                        <div class="col-sm-6">\r\n                            <button type="button" class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>'}),define("core/layout/header/nls/header",{root:{fileManagement:"文件管理",personalCenter:"个人中心",profile:"用户资料",changePassword:"更改密码",exit:"退出",userOSGroup:"用户组",accountingGroup:"计费组",OK:"确定",Cancel:"取消",logoutConfirmation:"您确定要退出系统吗?",homePage:"主页",resource:"资源",users:"用户",links:"其他链接",returntoUser:"切换到用户界面",viewMonitoringDetails:"查看详细监控信息",viewAlarmDetails:"查看报警信息"},zh:!0,en:!0}),define("core/layout/header/nls/zh/header",{fileManagement:"文件管理",personalCenter:"个人中心",profile:"用户资料",changePassword:"更改密码",exit:"退出",userOSGroup:"用户组",accountingGroup:"计费组",OK:"确定",Cancel:"取消",logoutConfirmation:"您确定要退出系统吗?",homePage:"主页",resource:"资源",users:"用户",links:"其他链接",returntoUser:"切换到用户界面",viewMonitoringDetails:"查看详细监控信息",viewAlarmDetails:"查看报警信息"}),define("libs/require-css/css!core/layout/header/style/header",[],function(){}),define("core/layout/header/headerView",["marionette","cookie","bootstrap","../../../Router","utils/constants/urlConstants","utils/utils","core/widgets/changePwdModal/PasswordMgtView","text!./templates/headerTmpl.mustache","i18n!./nls/header","css!./style/header"],function(e,t,n,i,r,s,o,a,l){return e.ItemView.extend({template:a,initialize:function(e){this.isAdmin=e.isAdmin},templateHelpers:function(){return{nls:l}},onShow:function(){this.isAdmin?($("#user-file-management-wrapper").css("display","none"),$("#ui-header-brand").attr("href","/#admin")):($("#ui-header-home").css("display","none"),$("#ui-header-resource").css("display","none"),$("#ui-header-users").css("display","none"),$("#admin-links-wrapper").css("display","none"),$("#ui-header-brand").attr("href","/#")),this.bindEvents(),$("#personalCenter").popover({html:!0,placement:"bottom",content:$("#popoverContent").html(),trigger:"click manual",animation:!1}),$("#admin-links").popover({html:!0,placement:"bottom",content:$("#linkPopoverContent").html(),trigger:"click manual",animation:!1}),$("body").click(function(e){var t=e.srcElement?e.srcElement:e.target;return-1!=$.inArray("personalInfoCard",t.classList)?void $("#admin-links").popover("hide"):($("#personalCenter").popover("hide"),-1!=$.inArray("admin-links-area",t.classList)?void $("#personalCenter").popover("hide"):void $("#admin-links").popover("hide"))}),$("#admin-links").on("shown.bs.popover",function(){$("#linkforGanglia").click(function(){var e=window.location;window.open("http://"+e.hostname+"/ganglia/","_blank")}),$("#returntoUser").click(function(){var e=window.location;window.open(e.protocol+"//"+e.host+"/","_blank")}),$("#linkforNagios").click(function(){var e=window.location;window.open("http://"+e.hostname+"/nagios/","_blank")})});var e=this;$("#personalCenter").on("shown.bs.popover",function(){e.initUserData(),$("#changePwd").click(function(){$("#personalCenter").popover("hide");var e=new o({el:"#dialog-region"});e.render()}),$("#logout").click(function(){$("#personalCenter").popover("hide"),$("#confirm-logout").modal("show"),$("#confirm-logout").on("shown.bs.modal",function(){$("#confirmLogoutBtn").click(function(){e.doLogout()})})})})},initUserData:function(){{var e=$.cookie("username"),t=$.cookie("userid");$.cookie("csrftoken")}$("#currentUserName").text(e),$.ajax({type:"GET",url:r.users+t+"/",success:function(e){e.os_group&&$("#userOSGroup").text(e.os_group.name),e.bill_group&&$("#accountingGroup").text(e.bill_group.name)},error:function(e){console.log(e)}})},doLogout:function(){$.ajax({type:"DELETE",url:r.sessions,success:function(){console.log("logged out"),s.removeRefreshing(),window.location.href=r.login},error:function(e){console.log(e)},complete:function(){console.log("logged out")}})},bindFileManagement:function(){$("#user-file-management").click(function(){App.router.navigate("#files",{trigger:!0})})},bindEvents:function(){this.bindFileManagement()}})}),define("text!core/layout/welcome/welcomeTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div id="page-wrapper">\r\n            <div class="row">\r\n                <div class="col-lg-12">\r\n                    <h1 class="page-header">Dashboard</h1>\r\n                </div>\r\n                <!-- /.col-lg-12 -->\r\n            </div>\r\n            <!-- /.row -->\r\n            <div class="row">\r\n                <div class="col-lg-3 col-md-6">\r\n                    <div class="panel panel-primary">\r\n                        <div class="panel-heading">\r\n                            <div class="row">\r\n                                <div class="col-xs-3">\r\n                                    <i class="fa fa-comments fa-5x"></i>\r\n                                </div>\r\n                                <div class="col-xs-9 text-right">\r\n                                    <div class="huge">26</div>\r\n                                    <div>New Comments!</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a href="#">\r\n                            <div class="panel-footer">\r\n                                <span class="pull-left">View Details</span>\r\n                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class="col-lg-3 col-md-6">\r\n                    <div class="panel panel-green">\r\n                        <div class="panel-heading">\r\n                            <div class="row">\r\n                                <div class="col-xs-3">\r\n                                    <i class="fa fa-tasks fa-5x"></i>\r\n                                </div>\r\n                                <div class="col-xs-9 text-right">\r\n                                    <div class="huge">12</div>\r\n                                    <div>New Tasks!</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a href="#">\r\n                            <div class="panel-footer">\r\n                                <span class="pull-left">View Details</span>\r\n                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class="col-lg-3 col-md-6">\r\n                    <div class="panel panel-yellow">\r\n                        <div class="panel-heading">\r\n                            <div class="row">\r\n                                <div class="col-xs-3">\r\n                                    <i class="fa fa-shopping-cart fa-5x"></i>\r\n                                </div>\r\n                                <div class="col-xs-9 text-right">\r\n                                    <div class="huge">124</div>\r\n                                    <div>New Orders!</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a href="#">\r\n                            <div class="panel-footer">\r\n                                <span class="pull-left">View Details</span>\r\n                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class="col-lg-3 col-md-6">\r\n                    <div class="panel panel-red">\r\n                        <div class="panel-heading">\r\n                            <div class="row">\r\n                                <div class="col-xs-3">\r\n                                    <i class="fa fa-support fa-5x"></i>\r\n                                </div>\r\n                                <div class="col-xs-9 text-right">\r\n                                    <div class="huge">13</div>\r\n                                    <div>Support Tickets!</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a href="#">\r\n                            <div class="panel-footer">\r\n                                <span class="pull-left">View Details</span>\r\n                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- /.row -->\r\n            <div class="row">\r\n                <div class="col-lg-8">\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-heading">\r\n                            <i class="fa fa-clock-o fa-fw"></i> Responsive Timeline\r\n                        </div>\r\n                        <!-- /.panel-heading -->\r\n                        <div class="panel-body">\r\n                            <ul class="timeline">\r\n                                <li>\r\n                                    <div class="timeline-badge"><i class="fa fa-check"></i>\r\n                                    </div>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                            <p><small class="text-muted"><i class="fa fa-clock-o"></i> 11 hours ago via Twitter</small>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Libero laboriosam dolor perspiciatis omnis exercitationem. Beatae, officia pariatur? Est cum veniam excepturi. Maiores praesentium, porro voluptas suscipit facere rem dicta, debitis.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="timeline-inverted">\r\n                                    <div class="timeline-badge warning"><i class="fa fa-credit-card"></i>\r\n                                    </div>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem dolorem quibusdam, tenetur commodi provident cumque magni voluptatem libero, quis rerum. Fugiat esse debitis optio, tempore. Animi officiis alias, officia repellendus.</p>\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium maiores odit qui est tempora eos, nostrum provident explicabo dignissimos debitis vel! Adipisci eius voluptates, ad aut recusandae minus eaque facere.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div class="timeline-badge danger"><i class="fa fa-bomb"></i>\r\n                                    </div>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellendus numquam facilis enim eaque, tenetur nam id qui vel velit similique nihil iure molestias aliquam, voluptatem totam quaerat, magni commodi quisquam.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="timeline-inverted">\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates est quaerat asperiores sapiente, eligendi, nihil. Itaque quos, alias sapiente rerum quas odit! Aperiam officiis quidem delectus libero, omnis ut debitis!</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div class="timeline-badge info"><i class="fa fa-save"></i>\r\n                                    </div>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis minus modi quam ipsum alias at est molestiae excepturi delectus nesciunt, quibusdam debitis amet, beatae consequuntur impedit nulla qui! Laborum, atque.</p>\r\n                                            <hr>\r\n                                            <div class="btn-group">\r\n                                                <button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown">\r\n                                                    <i class="fa fa-gear"></i>  <span class="caret"></span>\r\n                                                </button>\r\n                                                <ul class="dropdown-menu" role="menu">\r\n                                                    <li><a href="#">Action</a>\r\n                                                    </li>\r\n                                                    <li><a href="#">Another action</a>\r\n                                                    </li>\r\n                                                    <li><a href="#">Something else here</a>\r\n                                                    </li>\r\n                                                    <li class="divider"></li>\r\n                                                    <li><a href="#">Separated link</a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi fuga odio quibusdam. Iure expedita, incidunt unde quis nam! Quod, quisquam. Officia quam qui adipisci quas consequuntur nostrum sequi. Consequuntur, commodi.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="timeline-inverted">\r\n                                    <div class="timeline-badge success"><i class="fa fa-graduation-cap"></i>\r\n                                    </div>\r\n                                    <div class="timeline-panel">\r\n                                        <div class="timeline-heading">\r\n                                            <h4 class="timeline-title">Lorem ipsum dolor</h4>\r\n                                        </div>\r\n                                        <div class="timeline-body">\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt obcaecati, quaerat tempore officia voluptas debitis consectetur culpa amet, accusamus dolorum fugiat, animi dicta aperiam, enim incidunt quisquam maxime neque eaque.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <!-- /.panel-body -->\r\n                    </div>\r\n                    <!-- /.panel -->\r\n                </div>\r\n                <!-- /.col-lg-8 -->\r\n                <div class="col-lg-4">\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-heading">\r\n                            <i class="fa fa-bell fa-fw"></i> Notifications Panel\r\n                        </div>\r\n                        <!-- /.panel-heading -->\r\n                        <div class="panel-body">\r\n                            <div class="list-group">\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-comment fa-fw"></i> New Comment\r\n                                    <span class="pull-right text-muted small"><em>4 minutes ago</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-twitter fa-fw"></i> 3 New Followers\r\n                                    <span class="pull-right text-muted small"><em>12 minutes ago</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-envelope fa-fw"></i> Message Sent\r\n                                    <span class="pull-right text-muted small"><em>27 minutes ago</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-tasks fa-fw"></i> New Task\r\n                                    <span class="pull-right text-muted small"><em>43 minutes ago</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-upload fa-fw"></i> Server Rebooted\r\n                                    <span class="pull-right text-muted small"><em>11:32 AM</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-bolt fa-fw"></i> Server Crashed!\r\n                                    <span class="pull-right text-muted small"><em>11:13 AM</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-warning fa-fw"></i> Server Not Responding\r\n                                    <span class="pull-right text-muted small"><em>10:57 AM</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-shopping-cart fa-fw"></i> New Order Placed\r\n                                    <span class="pull-right text-muted small"><em>9:49 AM</em>\r\n                                    </span>\r\n                                </a>\r\n                                <a href="#" class="list-group-item">\r\n                                    <i class="fa fa-money fa-fw"></i> Payment Received\r\n                                    <span class="pull-right text-muted small"><em>Yesterday</em>\r\n                                    </span>\r\n                                </a>\r\n                            </div>\r\n                            <!-- /.list-group -->\r\n                            <a href="#" class="btn btn-default btn-block">View All Alerts</a>\r\n                        </div>\r\n                        <!-- /.panel-body -->\r\n                    </div>\r\n                    <!-- /.panel -->\r\n                    <div class="chat-panel panel panel-default">\r\n                        <div class="panel-heading">\r\n                            <i class="fa fa-comments fa-fw"></i>\r\n                            Chat\r\n                            <div class="btn-group pull-right">\r\n                                <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">\r\n                                    <i class="fa fa-chevron-down"></i>\r\n                                </button>\r\n                                <ul class="dropdown-menu slidedown">\r\n                                    <li>\r\n                                        <a href="#">\r\n                                            <i class="fa fa-refresh fa-fw"></i> Refresh\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href="#">\r\n                                            <i class="fa fa-check-circle fa-fw"></i> Available\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href="#">\r\n                                            <i class="fa fa-times fa-fw"></i> Busy\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href="#">\r\n                                            <i class="fa fa-clock-o fa-fw"></i> Away\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class="divider"></li>\r\n                                    <li>\r\n                                        <a href="#">\r\n                                            <i class="fa fa-sign-out fa-fw"></i> Sign Out\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <!-- /.panel-heading -->\r\n                        <div class="panel-body">\r\n                            <ul class="chat">\r\n                                <li class="left clearfix">\r\n                                    <span class="chat-img pull-left">\r\n                                        <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar" class="img-circle" />\r\n                                    </span>\r\n                                    <div class="chat-body clearfix">\r\n                                        <div class="header">\r\n                                            <strong class="primary-font">Jack Sparrow</strong>\r\n                                            <small class="pull-right text-muted">\r\n                                                <i class="fa fa-clock-o fa-fw"></i> 12 mins ago\r\n                                            </small>\r\n                                        </div>\r\n                                        <p>\r\n                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="right clearfix">\r\n                                    <span class="chat-img pull-right">\r\n                                        <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar" class="img-circle" />\r\n                                    </span>\r\n                                    <div class="chat-body clearfix">\r\n                                        <div class="header">\r\n                                            <small class=" text-muted">\r\n                                                <i class="fa fa-clock-o fa-fw"></i> 13 mins ago</small>\r\n                                            <strong class="pull-right primary-font">Bhaumik Patel</strong>\r\n                                        </div>\r\n                                        <p>\r\n                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="left clearfix">\r\n                                    <span class="chat-img pull-left">\r\n                                        <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar" class="img-circle" />\r\n                                    </span>\r\n                                    <div class="chat-body clearfix">\r\n                                        <div class="header">\r\n                                            <strong class="primary-font">Jack Sparrow</strong>\r\n                                            <small class="pull-right text-muted">\r\n                                                <i class="fa fa-clock-o fa-fw"></i> 14 mins ago</small>\r\n                                        </div>\r\n                                        <p>\r\n                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                                <li class="right clearfix">\r\n                                    <span class="chat-img pull-right">\r\n                                        <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar" class="img-circle" />\r\n                                    </span>\r\n                                    <div class="chat-body clearfix">\r\n                                        <div class="header">\r\n                                            <small class=" text-muted">\r\n                                                <i class="fa fa-clock-o fa-fw"></i> 15 mins ago</small>\r\n                                            <strong class="pull-right primary-font">Bhaumik Patel</strong>\r\n                                        </div>\r\n                                        <p>\r\n                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <!-- /.panel-body -->\r\n                        <div class="panel-footer">\r\n                            <div class="input-group">\r\n                                <input id="btn-input" type="text" class="form-control input-sm" placeholder="Type your message here..." />\r\n                                <span class="input-group-btn">\r\n                                    <button class="btn btn-warning btn-sm" id="btn-chat">\r\n                                        Send\r\n                                    </button>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <!-- /.panel-footer -->\r\n                    </div>\r\n                    <!-- /.panel .chat-panel -->\r\n                </div>\r\n                <!-- /.col-lg-4 -->\r\n            </div>\r\n            <!-- /.row -->\r\n        </div>\r\n        <!-- /#page-wrapper -->'
}),define("core/layout/welcome/welcomeView",["marionette","text!./welcomeTmpl.mustache"],function(e,t){return e.ItemView.extend({template:t})}),define("text!core/widgets/about/templates/aboutTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="about-dialog" role="dialog" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n	      <button id="close_job_submit_btn" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n	  		</button>\r\n	  		<h4 class="modal-title">{{nls.about}}{{constants.productName}}</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n        <div class="clearfix">\r\n          <div class="license-column left-license-column"><img src="/static/js/core/widgets/about/img/hpc_logo.png"></div>\r\n          <div class="license-column right-license-column">\r\n              <div class="about-version"><strong>{{nls.versionNumber}}:</strong> {{constants.productName}} {{constants.version}}</div>\r\n              <div class="about-company"><strong>{{nls.licenseInfo}}:</strong>  2015 <a href="http://www.lenovo.com" target="_blank">{{nls.lenovoGroup}}</a></div>\r\n              <div class="about-license"><a href="/static/license/lenovo_ch_license.pdf" target="_blank">{{nls.licenseAgreement}}</a></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("core/widgets/about/nls/about",{root:{about:"关于",versionNumber:"版本号",licenseInfo:"版权所有",lenovoGroup:"联想集团",licenseAgreement:"最终用户许可协议"},zh:!0,en:!0}),define("core/widgets/about/nls/zh/about",{about:"关于",versionNumber:"版本号",licenseInfo:"版权所有",lenovoGroup:"联想集团",licenseAgreement:"最终用户许可协议"}),define("libs/require-css/css!core/widgets/about/css/about",[],function(){}),define("core/widgets/about/aboutView",["marionette","utils/constants/constants","utils/constants/urlConstants","text!./templates/aboutTmpl.mustache","i18n!./nls/about","css!./css/about"],function(e,t,n,i,r){return e.ItemView.extend({template:i,templateHelpers:function(){return{nls:r,constants:t}},onRender:function(){$("#about-dialog").modal({keyboard:!0,backdrop:"static"})}})}),define("text!core/layout/footer/templates/footerTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-6 col-md-12 footer-info" id="footer-info"></div>\r\n<div class="col-lg-6 col-md-12 footer-about">\r\n    <span class="footer-about-text">\r\n    {{nls.versionNumber}}: {{constants.version}} | {{nls.allRightsReserved}}: 2015 <a href="http://www.lenovo.com" target="_blank">{{nls.lenovoGroup}}</a> | <span id="footer-about-hpc" class="footer-about-hpc">{{nls.about}} {{constants.productName}}</span>\r\n    </span>\r\n</div>'}),define("core/layout/footer/nls/footer",{root:{about:"关于",lenovoGroup:"联想集团",allRightsReserved:"版权所有",versionNumber:"版本号"},zh:!0,en:!0}),define("core/layout/footer/nls/zh/footer",{about:"关于",lenovoGroup:"联想集团",allRightsReserved:"版权所有",versionNumber:"版本号"}),define("libs/require-css/css!core/layout/footer/css/footer",[],function(){}),define("core/layout/footer/footerView",["marionette","utils/constants/urlConstants","utils/constants/constants","core/widgets/about/aboutView","text!./templates/footerTmpl.mustache","i18n!./nls/footer","css!./css/footer"],function(e,t,n,i,r,s){return e.ItemView.extend({template:r,className:"row ui-footer",templateHelpers:function(){return{nls:s,constants:n}},onShow:function(){var e=$.ajax({url:t.config,dataType:"json",contentType:"application/json"});e.done(function(e){$("#footer-info").text(e.footer),$("#footer-info").attr("title",e.footer)}),$("#footer-about-hpc").on("click",function(){var e=new i({el:"#dialog-region"});e.render()})}})}),function(e){"function"==typeof define&&define.amd?define("jquery_ui",["jquery"],e):e(jQuery)}(function(e){function t(t,i){var r,s,o,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&n(o)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function i(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,s){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,s=e.ui[t].prototype;for(r in i)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,s=e.plugins[t];if(s&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<s.length;r++)e.options[s[r][0]]&&s[r][1].apply(e.element,n)}};var c=0,d=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,s;for(s=0;null!=(r=n[s]);s++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,s,o,a,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},s=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=s,t}}()):void(l[t]=i)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:r}),s?(e.each(s._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,i,r=d.call(arguments,1),s=0,o=r.length;o>s;s++)for(n in r[s])i=r[s][n],r[s].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,o=d.call(arguments,1),a=this;return s?this.each(function(){var n,s=e.data(this,i);return"instance"===r?(a=s,!1):s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,o),n!==s&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(o.length&&(r=e.widget.extend.apply(null,[r].concat(o))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)r[i[s]]=r[i[s]]||{},r=r[i[s]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,s=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,o){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?r.delegate(d,c,a):n.bind(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,s,o=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){e(this)[t](),s&&s.call(i[0]),n()})}});var u=(e.widget,!1);e(document).mouseup(function(){u=!1});e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,s,o=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return e("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=e.extend({},r);var p,m,g,v,b,y,w=e(r.of),x=e.position.getWithinInfo(r.within),_=e.position.getScrollInfo(x),C=(r.collision||"flip").split(" "),k={};return y=i(w),w[0].preventDefault&&(r.at="left top"),m=y.width,g=y.height,v=y.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):d.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=d.test(n[1])?n[1]:"center",e=u.exec(n[0]),t=u.exec(n[1]),k[this]=[e?e[0]:0,t?t[0]:0],r[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?b.left+=m:"center"===r.at[0]&&(b.left+=m/2),"bottom"===r.at[1]?b.top+=g:"center"===r.at[1]&&(b.top+=g/2),p=t(k.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var i,c,d=e(this),u=d.outerWidth(),h=d.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),T=u+f+n(this,"marginRight")+_.width,S=h+y+n(this,"marginBottom")+_.height,I=e.extend({},b),D=t(k.my,d.outerWidth(),d.outerHeight());"right"===r.my[0]?I.left-=u:"center"===r.my[0]&&(I.left-=u/2),"bottom"===r.my[1]?I.top-=h:"center"===r.my[1]&&(I.top-=h/2),I.left+=D[0],I.top+=D[1],s||(I.left=l(I.left),I.top=l(I.top)),i={marginLeft:f,marginTop:y},e.each(["left","top"],function(t,n){e.ui.position[C[t]]&&e.ui.position[C[t]][n](I,{targetWidth:m,targetHeight:g,elemWidth:u,elemHeight:h,collisionPosition:i,collisionWidth:T,collisionHeight:S,offset:[p[0]+D[0],p[1]+D[1]],my:r.my,at:r.at,within:x,elem:d})}),r.using&&(c=function(e){var t=v.left-I.left,n=t+m-u,i=v.top-I.top,s=i+g-h,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:d,left:I.left,top:I.top,width:u,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":i>0?"bottom":"middle"};u>m&&a(t+n)<m&&(l.horizontal="center"),h>g&&a(i+s)<g&&(l.vertical="middle"),l.important=o(a(t),a(n))>o(a(i),a(s))?"horizontal":"vertical",r.using.call(this,e,l)}),d.offset(e.extend(I,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&0>=c?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+s-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&0>=c?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+s-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,s=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-o-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>d?(n=e.left+h+p+f+t.collisionWidth-o-s,(0>n||n<a(d))&&(e.left+=h+p+f)):u>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||a(i)<u)&&(e.left+=h+p+f))},top:function(e,t){var n,i,r=t.within,s=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-o-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>d?(i=e.top+p+f+m+t.collisionHeight-o-s,(0>i||i<a(d))&&(e.top+=p+f+m)):u>0&&(n=e.top-t.collisionPosition.marginTop+p+f+m-l,(n>0||a(n)<u)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(l),n=a||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,s=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(i){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r
},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,s=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,s=this;s.positionAbs=i.positionAbs,s.helperProportions=i.helperProportions,s.offset.click=i.offset.click,s._intersectsWith(s.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(r=!1),r})),r?(s.isOver||(s.isOver=1,i._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=i.offset.click.top,s.offset.click.left=i.offset.click.left,s.offset.parent.left-=i.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=i.offset.parent.top-s.offset.parent.top,i._trigger("toSortable",t),i.dropped=s.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,s.fromOutside=i),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),s=i.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),s=i.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,s=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,s,o,a,l,c,d,u,h,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,d=i.snapElements[h].top-i.margins.top,u=d+i.snapElements[h].height,l-m>v||g>c+m||d-m>y||b>u+m||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(d-y)<=m,s=Math.abs(u-b)<=m,o=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||s||o||a,"outer"!==f.snapMode&&(r=Math.abs(d-b)<=m,s=Math.abs(u-y)<=m,o=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||s||o||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||s||o||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,s=i.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),s=i.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});e.ui.draggable;e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,r){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=o+t.helperProportions.height,c=n.offset.left,d=n.offset.top,u=c+n.proportions().width,h=d+n.proportions().height;switch(i){case"fit":return s>=c&&u>=a&&o>=d&&h>=l;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&d<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,d,n.proportions().height)&&e(r.pageX,c,n.proportions().width);case"touch":return(o>=d&&h>=o||l>=d&&h>=l||d>o&&l>h)&&(s>=c&&u>=s||a>=c&&u>=a||c>s&&a>u);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===s[i].element[0]){s[i].proportions().height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===o&&s[i]._activate.call(s[i],n),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,s,o=e.ui.intersect(t,this,this.options.tolerance,n),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),s.length&&(i=e(s[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,i,r,s,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),s="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+s+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,s=this.axis,o=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[s];return this._updatePrevProperties(),l?(n=l.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,r,s,o,a,l,c=this.options,d=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:d.sizeDiff.height,s=i?0:d.sizeDiff.width,o={width:d.helper.width()-s,height:d.helper.height()-r},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),o&&d&&(e.top=l-t.minHeight),r&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=s?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-o},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,d=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,s,o,a,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,h=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;
h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:o,height:a}))},resize:function(t){var n,i,r,s,o=e(this).resizable("instance"),a=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||t.shiftKey,u={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),d&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),r&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,d&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,d&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,s=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,s=i.originalSize,o=i.originalPosition,a={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,s=n.originalSize,o=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,d=l[1]||1,u=Math.round((r.width-s.width)/c)*c,h=Math.round((r.height-s.height)/d)*d,p=s.width+u,f=s.height+h,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),b&&(f+=d),m&&(p-=c),g&&(f-=d),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=o.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=o.left-u):((0>=f-d||0>=p-c)&&(t=n._getPaddingPlusBorderDimensions(this)),f-d>0?(n.size.height=f,n.position.top=o.top-h):(f=d-t.height,n.size.height=f,n.position.top=o.top+s.height-f),p-c>0?(n.size.width=p,n.position.left=o.left-u):(p=c-t.width,n.size.width=p,n.position.left=o.left+s.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,s=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(n=a,a=s,s=n),o>l&&(n=l,l=o,o=n),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>a||n.right<s||n.top>l||n.bottom<o):"fit"===r.tolerance&&(c=n.left>s&&n.right<a&&n.top>o&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(i=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(i=e(t.target)),i&&(!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,i){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],s=this._intersectsWithPointer(i),s&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,s=e.left,o=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||i+c>a&&l>i+c,h="y"===this.options.axis||t+d>s&&o>t+d,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return i?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,s,o,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(s=e(c[i],this.document[0]),r=s.length-1;r>=0;r--)o=e.data(s[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,s,o,a,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n],this.document[0]),i=r.length-1;i>=0;i--)s=e.data(r[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=u.length-1;n>=0;n--)for(o=u[n][1],a=u[n][0],i=0,c=a.length;c>i;i++)l=e(a[i]),l.data(this.widgetName+"-item",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,s;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),s=r.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,s,o,a,l,c,d,u,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,s=null,d=h.floating||this._isFloating(this.currentItem),o=d?"left":"top",a=d?"width":"height",u=d?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[o],c=!1,t[u]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[u]-l)<r&&(r=Math.abs(t[u]-l),s=this.items[i],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,s=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())
}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:s=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[i-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),s=r[0]===i[0],o=s&&n.collapsible,a=o?e():r.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:o?e():r,newPanel:a};t.preventDefault(),s&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=o?!1:this.headers.index(r),this.active=s?e():r,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,s,o=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},u=c&&d.down||d,h=function(){o._toggleComplete(n)};return"number"==typeof u&&(s=u),"string"==typeof u&&(r=u),r=r||u.easing||d.easing,s=s||u.duration||d.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,s,r,h):e.animate(this.showProps,s,r,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,r,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===i?s=!0:r=i+r,n=this._filterMenuItems(r),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,i=this,r=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),t=s.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,s,o,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var s=e.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case s.UP:t=!0,this._keyEvent("previous",r);break;case s.DOWN:t=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!i)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var h,p=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(r)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];g(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(e(this).addClass("ui-state-active"),h=this,void t.document.one("mouseup",function(){h=null}))}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return n.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));
var t=this.buttonElement.removeClass(f),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,s;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),r),s.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,s):r&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,s,o=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:r,title:r}):r)),t[a?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,s){var o,l,c,d,u,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(t){var n,i,r=e(t),s=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),s=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,s,o,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,s=e.datepicker._getInst(t.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),r[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,r[0]),n=e.datepicker._get(s,"onSelect"),n?(i=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[i,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,s,o,l,c,d;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),s=r?r.apply(t,[t,n]):{},s!==!1&&(a(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=e.datepicker._get(n,"showAnim"),d=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,"showOptions"),d):n.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],s=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-o:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+s>c&&c>s?Math.abs(s+a):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,n+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),s=this._getInst(r[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(t,n,i,r){var s,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",r).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),s=this._getInst(r[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),i=this._get(s,"onSelect"),i?i.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(s).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,s,o,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},x=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,s=new RegExp("^\\d{"+r+","+i+"}"),o=n.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(t,i,r){var s=-1,o=e.map(w(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(s=t[0],l+=i.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(y)"'"!==t.charAt(r)||w("'")?C():y=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":_("D",u,h);break;case"o":b=x("o");break;case"m":g=x("m");break;case"M":g=_("M",p,f);break;case"y":m=x("y");break;case"@":a=new Date(x("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((x("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():y=!0;break;default:C()}if(l<n.length&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=m?0:-100)),b>-1)for(g=1,v=b;;){if(s=this._getDaysInMonth(m,g-1),s>=v)break;g++,v-=s}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},d=function(e,t,n,i){return l(e)?i[t]:n[t]},u="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),r,s);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),o,a);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),s=r,o=this._getFormatConfig(e);try{s=this.parseDate(n,i,o)||r}catch(a){i=t?"":i}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=i?s.getDate():0,e.currentMonth=i?s.getMonth():0,e.currentYear=i?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=r.getFullYear(),o=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o))}c=l.exec(n)}return new Date(s,o,a)},o=null==n||""===n?i:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return o=o&&"Invalid Date"===o.toString()?i:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,s,o,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,_,C,k,T,S,I,D,M,A,E,P,R,F,j,$,N,O,z,L=new Date,B=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),H=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),G=this._get(e,"navigationAsDateFormat"),W=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),J=1!==W[0]||1!==W[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-W[0]*W[1]+1,Q.getDate())),t=K&&K>t?K:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=G?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-Y,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=G?this.formatDate(r,this._daylightSavingAdjust(new Date(et,Z+Y,1)),this._getFormatConfig(e)):r,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:B,o=G?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(H?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",_=0;_<W[0];_++){for(C="",this.maxRows=4,k=0;k<W[1];k++){if(T=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",I="",J){if(I+="<div class='ui-datepicker-group",W[1]>1)switch(k){case 0:I+=" ui-datepicker-group-first",S=" ui-corner-"+(H?"right":"left");break;case W[1]-1:I+=" ui-datepicker-group-last",S=" ui-corner-"+(H?"left":"right");break;default:I+=" ui-datepicker-group-middle",S=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?H?s:i:"")+(/all|right/.test(S)&&0===_?H?i:s:"")+this._generateMonthYearHeader(e,Z,et,K,Q,_>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)M=(x+d)%7,D+="<th scope='col'"+((x+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[M]+"'>"+p[M]+"</span></th>";for(I+=D+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-d+7)%7,P=Math.ceil((E+A)/7),R=J&&this.maxRows>P?this.maxRows:P,this.maxRows=R,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),j=0;R>j;j++){for(I+="<tr>",$=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",x=0;7>x;x++)N=g?g.apply(e.input?e.input[0]:null,[F]):[!0,""],O=F.getMonth()!==Z,z=O&&!b||!N[0]||K&&K>F||Q&&F>Q,$+="<td class='"+((x+d+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(F.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===F.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+N[1]+(F.getTime()===X.getTime()?" "+this._currentClass:"")+(F.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===B.getTime()?" ui-state-highlight":"")+(F.getTime()===X.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=$+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(J?"</div>"+(W[0]>0&&k===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=I}w+=C}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,s,o,a){var l,c,d,u,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=i.getMonth())&&(!c||d<=r.getMonth())&&(w+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+a[d]+"</option>");w+="</select>"}if(b||(y+=w+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!s&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;
return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||t.getTime()>=r.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";var b=(e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,r);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,i){var r,s;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},s={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,s){var o=s.offset.left-n.document.scrollLeft(),a=s.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,s=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,s){var o=n.uiDialog.offset(),a=o.left-n.document.scrollLeft(),l=o.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,s){s.optgroup!==r&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),r=s.optgroup),i._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0),i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,i){var r=e(i),s=r.parent("optgroup");n.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)o.push(s);this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,s,o,a,l,c,d=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-d.values(t));(r>n||r===n&&(t===d._lastChangedValue||d.values(t)===u.min))&&(r=n,s=e(this),o=t)}),a=this._start(t,o),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),s=this._valueMin()+i*r,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,s;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))
},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,i,r,s,o=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](d,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),r=this._valueMin(),s=this._valueMax(),n=s!==r?(i-r)/(s-r)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](d,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var n,i,r,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,o),n===!1))return}switch(s=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-s)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;t=t.cloneNode(!1),n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,i){var r,s,o,a=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");t._isLocal(i)?(r=i.hash,o=r.substring(1),s=t.element.find(t._sanitizeSelector(r))):(o=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+o,s=t.element.find(r),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),s=r.closest("li"),o=s[0]===i[0],a=o&&n.collapsible,l=a?e():this._getPanelForTab(s),c=i.length?this._getPanelForTab(i):e(),d={oldTab:i,oldPanel:c,newTab:a?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,d)===!1||(n.active=a?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,d))},_toggle:function(t,n){function i(){s.running=!1,s._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,i):(o.show(),i())}var s=this,o=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),a={tab:r,panel:o},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){o.html(e),i._trigger("load",n,a),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,s){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),"ui-effects-"),y=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=c(),i=n._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var s,o=r.re.exec(t),a=o&&r.parse(o),l=r.space||"rgba";return a?(s=n[l](a),n[d[l].cache]=s[d[l].cache],i=n._rgba=s._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),n):s[t]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,o,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var u=this,h=e.type(r),p=this._rgba=[];return o!==t&&(r=[r,o,a,l],h="array"),"string"===h?this.parse(i(r)||s._default):"array"===h?(f(d.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof c?f(d,function(e,t){r[t.cache]&&(u[t.cache]=r[t.cache].slice())}):f(d,function(t,i){var s=i.cache;f(i.props,function(e,t){if(!u[s]&&i.to){if("alpha"===e||null==r[e])return;u[s]=i.to(u._rgba)}u[s][t.idx]=n(r[e],t,!0)}),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,i.from&&(u._rgba=i.from(u[s])))}),this):void 0},is:function(e){var t=c(e),n=!0,i=this;return f(d,function(e,r){var s,o=t[r.cache];return o&&(s=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(e,t){return null!=o[t.idx]?n=o[t.idx]===s[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return f(d,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),s=d[r],o=0===this.alpha()?c("transparent"):this,a=o[s.cache]||s.to(o._rgba),l=a.slice();return i=i[s.cache],f(s.props,function(e,r){var s=r.idx,o=a[s],c=i[s],d=u[r.type]||{};null!==c&&(null===o?l[s]=c:(d.mod&&(c-o>d.mod/2?o+=d.mod:o-c>d.mod/2&&(o-=d.mod)),l[s]=n((c-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,s=e[2]/255,o=e[3],a=Math.max(i,r,s),l=Math.min(i,r,s),c=a-l,d=a+l,u=.5*d;return t=l===a?0:i===a?60*(r-s)/c+360:r===a?60*(s-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(t)%360,n,u,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],s=e[3],o=.5>=i?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*r(a,o,t+1/3)),Math.round(255*r(a,o,t)),Math.round(255*r(a,o,t-1/3)),s]},f(d,function(i,r){var s=r.props,o=r.cache,l=r.to,d=r.from;c.fn[i]=function(i){if(l&&!this[o]&&(this[o]=l(this._rgba)),i===t)return this[o].slice();var r,a=e.type(i),u="array"===a||"object"===a?i:arguments,h=this[o].slice();return f(s,function(e,t){var i=u["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),d?(r=c(d(h)),r[o]=h,r):c(h)},f(s,function(t,n){c.fn[t]||(c.fn[t]=function(r){var s,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),d=c[n.idx];return"undefined"===o?d:("function"===o&&(r=r.call(this,d),o=e.type(r)),null==r&&n.empty?this:("string"===o&&(s=a.exec(r),s&&(r=d+parseFloat(s[2])*("+"===s[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var s,o,a="";if("transparent"!==r&&("string"!==e.type(r)||(s=i(r)))){if(r=c(s||r),!h.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(s[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(s[n]=r[n]);return s}function n(t,n){var i,s,o={};for(i in n)s=n[i],t[i]!==s&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(s)))&&(o[i]=s));return o}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(y.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,s,o,a){var l=e.speed(s,o,a);return this.queue(function(){var s,o=e(this),a=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){var n=e(this);return{el:n,start:t(this)}}),s=function(){e.each(i,function(e,t){r[t]&&o[t+"Class"](r[t])})},s(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",a),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,s){return i?e.effects.animateClass.call(this,{add:n},i,r,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,s,o){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,s){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,s)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(b+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(n=e.data(b+t[i]),void 0===n&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(i),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")
}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(r[n]=s[0]*i+s[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(r[0]),e.isFunction(t)&&t()}var r=e(this),s=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):o.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,s=i.queue,o=e.effects.effect[i.effect];return e.fx.off||!o?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):s===!1?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects,e.effects.effect.blind=function(t,n){var i,r,s,o=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(o,t.mode||"hide"),u=t.direction||"up",h=a.test(u),p=h?"height":"width",f=h?"top":"left",m=l.test(u),g={},v="show"===d;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),c):e.effects.save(o,c),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=i[p](),s=parseFloat(i.css(f))||0,g[p]=v?r:0,m||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?s:r+s),v&&(i.css(p,0),m||i.css(f,s+r)),i.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===d&&o.hide(),e.effects.restore(o,c),e.effects.removeWrapper(o),n()}})},e.effects.effect.bounce=function(t,n){var i,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(d||c?1:0),m=t.duration/f,g=t.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=o.queue(),w=y.length;for((d||c)&&a.push("opacity"),e.effects.save(o,a),o.show(),e.effects.createWrapper(o),h||(h=o["top"===v?"outerHeight":"outerWidth"]()/3),d&&(s={opacity:1},s[v]=0,o.css("opacity",0).css(v,b?2*-h:2*h).animate(s,m,g)),c&&(h/=Math.pow(2,p-1)),s={},s[v]=0,i=0;p>i;i++)r={},r[v]=(b?"-=":"+=")+h,o.animate(r,m,g).animate(s,m,g),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(b?"-=":"+=")+h,o.animate(r,m,g)),o.queue(function(){c&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),n()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),o.dequeue()},e.effects.effect.clip=function(t,n){var i,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c="show"===l,d=t.direction||"vertical",u="vertical"===d,h=u?"height":"width",p=u?"top":"left",f={};e.effects.save(o,a),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?i:o,s=r[h](),c&&(r.css(h,0),r.css(p,s/2)),f[h]=c?s:0,f[p]=c?0:s/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),n()}})},e.effects.effect.drop=function(t,n){var i,r=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(r,t.mode||"hide"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};e.effects.save(r,s),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===d?-i:i),u[c]=(a?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+i,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),n()}})},e.effects.effect.explode=function(t,n){function i(){y.push(this),y.length===u*h&&r()}function r(){p.css({visibility:"visible"}),e(y).remove(),m||p.hide(),n()}var s,o,a,l,c,d,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=u,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),b=Math.ceil(p.outerHeight()/u),y=[];for(s=0;u>s;s++)for(l=g.top+s*b,d=s-(u-1)/2,o=0;h>o;o++)a=g.left+o*v,c=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?c*v:0),top:l+(m?d*b:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:d*b),opacity:m?1:0},t.duration||500,t.easing,i)},e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var i,r,s=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"hide"),l="show"===a,c="hide"===a,d=t.size||15,u=/([0-9]+)%/.exec(d),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,o),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],u&&(d=parseInt(u[1],10)/100*r[c?0:1]),l&&i.css(h?{height:0,width:d}:{height:d,width:0}),g[f[0]]=l?r[0]:d,v[f[1]]=l?r[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()})},e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(i,t.mode||"show"),o={backgroundColor:i.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,r),n()}})},e.effects.effect.size=function(t,n){var i,r,s,o=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),i={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||y,o.to=t.from||i):(o.from=t.from||("show"===p?y:i),o.to=t.to||("hide"===p?y:i)),s={from:{y:o.from.height/i.height,x:o.from.width/i.width},to:{y:o.to.height/i.height,x:o.to.width/i.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(b=b.concat(u),o.from=e.effects.setTransition(o,u,s.from.y,o.from),o.to=e.effects.setTransition(o,u,s.to.y,o.to)),s.from.x!==s.to.x&&(b=b.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(b=b.concat(d).concat(c),o.from=e.effects.setTransition(o,d,s.from.y,o.from),o.to=e.effects.setTransition(o,d,s.to.y,o.to)),e.effects.save(o,b),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(r=e.effects.getBaseline(g,i),o.from.top=(i.outerHeight-o.outerHeight())*r.y,o.from.left=(i.outerWidth-o.outerWidth())*r.x,o.to.top=(i.outerHeight-o.to.outerHeight)*r.y,o.to.left=(i.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(d),h=h.concat(["marginLeft","marginRight"]),c=a.concat(u).concat(h),o.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&e.effects.save(n,c),n.from={height:i.height*s.from.y,width:i.width*s.from.x,outerHeight:i.outerHeight*s.from.y,outerWidth:i.outerWidth*s.from.x},n.to={height:i.height*s.to.y,width:i.width*s.to.x,outerHeight:i.height*s.to.y,outerWidth:i.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,u,s.from.y,n.from),n.to=e.effects.setTransition(n,u,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){f&&e.effects.restore(n,c)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,b),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var i=parseInt(n,10),r=e?o.to.left:o.to.top;return"auto"===n?r+"px":i+r+"px"})})),e.effects.removeWrapper(o),n()}})},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),s=e.effects.setMode(i,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),a=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==s&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},r.fade&&("show"===s&&(r.from.opacity=0,r.to.opacity=1),"hide"===s&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),s="hide"===r,o=parseInt(t.percent,10)||150,a=o/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:s?o:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(t)},e.effects.effect.pulsate=function(t,n){var i,r=e(this),s=e.effects.setMode(r,t.mode||"show"),o="show"===s,a="hide"===s,l=o||"hide"===s,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,h=r.queue(),p=h.length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),i=1;c>i;i++)r.animate({opacity:u},d,t.easing),u=1-u;r.animate({opacity:u},d,t.easing),r.queue(function(){a&&r.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()},e.effects.effect.shake=function(t,n){var i,r=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=r.queue(),b=v.length;for(e.effects.save(r,s),r.show(),e.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,r.animate(f,u,t.easing),i=1;c>i;i++)r.animate(m,u,t.easing).animate(g,u,t.easing);r.animate(m,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,d+1))),r.dequeue()},e.effects.effect.slide=function(t,n){var i,r=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(r,t.mode||"show"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(r,s),r.show(),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,d?isNaN(i)?"-"+i:-i:i),u[c]=(a?d?"+=":"-=":d?"-=":"+=")+i,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),n()}})},e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),s="fixed"===r.css("position"),o=e("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,c=r.offset(),d={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},u=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-a,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){h.remove(),n()})}}),define("libs/require-css/css!libs/elfinder/css/elfinder.full",[],function(){}),function(e){define("elfinder",["jquery_ui","css!libs/elfinder/css/elfinder.full"],function(){return function(){!function(e){window.elFinder=function(t,n){this.time("load");var i,r,s,o=this,t=e(t),a=e("<div/>").append(t.contents()),l=t.attr("style"),c=t.attr("id")||"",d="elfinder-"+(c||Math.random().toString().substr(2,7)),u="mousedown."+d,h="keydown."+d,p="keypress."+d,f=!0,m=!0,g="",v={path:"",url:"",tmbUrl:"",disabled:[],separator:"/",archives:[],extract:[],copyOverwrite:!0,tmb:!1},b={},y=[],w={},x={},_=[],C=[],k=[],T=new o.command(o),S="auto",I=400,D=e(document.createElement("audio")).hide().appendTo("body")[0],M=function(t){if(t.init)b={};else for(var n in b)b.hasOwnProperty(n)&&"directory"!=b[n].mime&&b[n].phash==g&&-1===e.inArray(n,C)&&delete b[n];g=t.cwd.hash,A(t.files),b[g]||A([t.cwd]),o.lastDir(g)},A=function(e){for(var t,n=e.length;n--;)if(t=e[n],t.name&&t.hash&&t.mime){if(!t.phash){var i="volume_"+t.name,r=o.i18n(i);i!=r&&(t.i18=r)}b[t.hash]=t}},E=function(t){var n=t.keyCode,i=!(!t.ctrlKey&&!t.metaKey);f&&(e.each(x,function(e,r){r.type==t.type&&r.keyCode==n&&r.shiftKey==t.shiftKey&&r.ctrlKey==i&&r.altKey==t.altKey&&(t.preventDefault(),t.stopPropagation(),r.callback(t,o),o.debug("shortcut-exec",e+" : "+r.description))}),9!=n||e(t.target).is(":input")||t.preventDefault())},P=new Date;return this.api=null,this.newAPI=!1,this.oldAPI=!1,this.netDrivers=[],this.OS=-1!==navigator.userAgent.indexOf("Mac")?"mac":-1!==navigator.userAgent.indexOf("Win")?"win":"other",this.UA=function(){var e=!document.uniqueID&&!window.opera&&!window.sidebar&&window.localStorage&&"undefined"==typeof window.orientation;return{ltIE6:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.documentElement.style.maxHeight,ltIE7:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.querySelectorAll,ltIE8:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.getElementsByClassName,IE:document.uniqueID,Firefox:window.sidebar,Opera:window.opera,Webkit:e,Chrome:e&&window.chrome,Safari:e&&!window.chrome,Mobile:"undefined"!=typeof window.orientation}}(),this.options=e.extend(!0,{},this._options,n||{}),n.ui&&(this.options.ui=n.ui),n.commands&&(this.options.commands=n.commands),n.uiOptions&&n.uiOptions.toolbar&&(this.options.uiOptions.toolbar=n.uiOptions.toolbar),e.extend(this.options.contextmenu,n.contextmenu),this.requestType=/^(get|post)$/i.test(this.options.requestType)?this.options.requestType.toLowerCase():"get",this.customData=e.isPlainObject(this.options.customData)?this.options.customData:{},this.id=c,this.uploadURL=n.urlUpload||n.url,this.namespace=d,this.lang=this.i18[this.options.lang]&&this.i18[this.options.lang].messages?this.options.lang:"en",s="en"==this.lang?this.i18.en:e.extend(!0,{},this.i18.en,this.i18[this.lang]),this.direction=s.direction,this.messages=s.messages,this.dateFormat=this.options.dateFormat||s.dateFormat,this.fancyFormat=this.options.fancyDateFormat||s.fancyDateFormat,this.today=new Date(P.getFullYear(),P.getMonth(),P.getDate()).getTime()/1e3,this.yesterday=this.today-86400,r=this.options.UTCDate?"UTC":"",this.getHours="get"+r+"Hours",this.getMinutes="get"+r+"Minutes",this.getSeconds="get"+r+"Seconds",this.getDate="get"+r+"Date",this.getDay="get"+r+"Day",this.getMonth="get"+r+"Month",this.getFullYear="get"+r+"FullYear",this.cssClass="ui-helper-reset ui-helper-clearfix ui-widget ui-widget-content ui-corner-all elfinder elfinder-"+("rtl"==this.direction?"rtl":"ltr")+" "+this.options.cssClass,this.storage=function(){try{return"localStorage"in window&&null!==window.localStorage?o.localStorage:o.cookie}catch(e){return o.cookie}}(),this.viewType=this.storage("view")||this.options.defaultView||"icons",this.sortType=this.storage("sortType")||this.options.sortType||"name",this.sortOrder=this.storage("sortOrder")||this.options.sortOrder||"asc",this.sortStickFolders=this.storage("sortStickFolders"),this.sortStickFolders=null===this.sortStickFolders?!!this.options.sortStickFolders:!!this.sortStickFolders,this.sortRules=e.extend(!0,{},this._sortRules,this.options.sortsRules),e.each(this.sortRules,function(e,t){"function"!=typeof t&&delete o.sortRules[e]}),this.compare=e.proxy(this.compare,this),this.notifyDelay=this.options.notifyDelay>0?parseInt(this.options.notifyDelay):500,this.draggable={appendTo:"body",addClasses:!0,delay:30,distance:8,revert:!0,refreshPositions:!0,cursor:"move",cursorAt:{left:50,top:47},start:function(t,n){var i,r,s=e.map(n.helper.data("files")||[],function(e){return e||null});for(i=s.length;i--;)if(r=s[i],b[r].locked){n.helper.addClass("elfinder-drag-helper-plus").data("locked",!0);break}},stop:function(){o.trigger("focus").trigger("dragstop")},helper:function(t){var n,i,r=this.id?e(this):e(this).parents("[id]:first"),s=e('<div class="elfinder-drag-helper"><span class="elfinder-drag-helper-icon-plus"/></div>'),a=function(e){return'<div class="elfinder-cwd-icon '+o.mime2class(e)+' ui-corner-all"/>'};return o.trigger("dragstart",{target:r[0],originalEvent:t}),n=r.is("."+o.res("class","cwdfile"))?o.selected():[o.navId2Hash(r.attr("id"))],s.append(a(b[n[0]].mime)).data("files",n).data("locked",!1),(i=n.length)>1&&s.append(a(b[n[i-1]].mime)+'<span class="elfinder-drag-num">'+i+"</span>"),e(document).bind(h+" keyup."+d,function(e){s.is(":visible")&&!s.data("locked")&&s.toggleClass("elfinder-drag-helper-plus",e.shiftKey||e.ctrlKey||e.metaKey)}),s}},this.droppable={tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-navbar-dir,.elfinder-cwd-file",hoverClass:this.res("class","adroppable"),drop:function(t,n){var i,r,s,a=e(this),l=e.map(n.helper.data("files")||[],function(e){return e||null}),c=[],d="class";for(a.is("."+o.res(d,"cwd"))?r=g:a.is("."+o.res(d,"cwdfile"))?r=a.attr("id"):a.is("."+o.res(d,"navdir"))&&(r=o.navId2Hash(a.attr("id"))),i=l.length;i--;)s=l[i],s!=r&&b[s].phash!=r&&c.push(s);c.length&&(n.helper.hide(),o.clipboard(c,!(t.ctrlKey||t.shiftKey||t.metaKey||n.helper.data("locked"))),o.exec("paste",r),o.trigger("drop",{files:l}))}},this.enabled=function(){return t.is(":visible")&&f},this.visible=function(){return t.is(":visible")},this.root=function(e){for(var t,n=b[e||g];n&&n.phash;)n=b[n.phash];if(n)return n.hash;for(;t in b&&b.hasOwnProperty(t);)if(n=b[t],!n.phash&&"directory"==!n.mime&&n.read)return n.hash;return""},this.cwd=function(){return b[g]||{}},this.option=function(e){return v[e]||""},this.file=function(e){return b[e]},this.files=function(){return e.extend(!0,{},b)},this.parents=function(e){for(var t,n=[];t=this.file(e);)n.unshift(t.hash),e=t.phash;return n},this.path2array=function(e,t){for(var n,i=[];e&&(n=b[e])&&n.hash;)i.unshift(t&&n.i18?n.i18:n.name),e=n.phash;return i},this.path=function(e,t){return b[e]&&b[e].path?b[e].path:this.path2array(e,t).join(v.separator)},this.url=function(t){var n=b[t];if(!n||!n.read)return"";if(n.url)return n.url;if(v.url)return v.url+e.map(this.path2array(t),function(e){return encodeURIComponent(e)}).slice(1).join("/");var i=e.extend({},this.customData,{cmd:"file",target:n.hash});return this.oldAPI&&(i.cmd="open",i.current=n.phash),this.options.url+(-1===this.options.url.indexOf("?")?"?":"&")+e.param(i,!0)},this.tmb=function(e){var t=b[e],n=t&&t.tmb&&1!=t.tmb?v.tmbUrl+t.tmb:"";return n&&(this.UA.Opera||this.UA.IE)&&(n+="?_="+(new Date).getTime()),n},this.selected=function(){return y.slice(0)},this.selectedFiles=function(){return e.map(y,function(t){return b[t]?e.extend({},b[t]):null})},this.fileByName=function(e,t){var n;for(n in b)if(b.hasOwnProperty(n)&&b[n].phash==t&&b[n].name==e)return b[n]},this.validResponse=function(e,t){return t.error||this.rules[this.rules[e]?e:"defaults"](t)},this.request=function(t){var n,i,r,s=this,o=this.options,a=e.Deferred(),l=e.extend({},o.customData,{mimes:o.onlyMimes},t.data||t),c=l.cmd,d=!(t.preventDefault||t.preventFail),u=!(t.preventDefault||t.preventDone),h=e.extend({},t.notify),p=!!t.raw,f=t.syncOnFail,t=e.extend({url:o.url,async:!0,type:this.requestType,dataType:"json",cache:!1,data:l},t.options||{}),m=function(t){t.warning&&s.error(t.warning),"open"==c&&M(e.extend(!0,{},t)),t.removed&&t.removed.length&&s.remove(t),t.added&&t.added.length&&s.add(t),t.changed&&t.changed.length&&s.change(t),s.trigger(c,t),t.sync&&s.sync()},g=function(e,t){var n;switch(t){case"abort":n=e.quiet?"":["errConnect","errAbort"];break;case"timeout":n=["errConnect","errTimeout"];break;case"parsererror":n=["errResponse","errDataNotJSON"];break;default:n=403==e.status?["errConnect","errAccess"]:404==e.status?["errConnect","errNotFound"]:"errConnect"}a.reject(n,e,t)},b=function(t){return p?a.resolve(t):t?e.isPlainObject(t)?t.error?a.reject(t.error,i):s.validResponse(c,t)?(t=s.normalize(t),s.api||(s.api=t.api||1,s.newAPI=s.api>=2,s.oldAPI=!s.newAPI),t.options&&(v=e.extend({},v,t.options)),t.netDrivers&&(s.netDrivers=t.netDrivers),a.resolve(t),void(t.debug&&s.debug("backend-debug",t.debug))):a.reject("errResponse",i):a.reject(["errResponse","errDataNotJSON"],i):a.reject(["errResponse","errDataEmpty"],i)};if(u&&a.done(m),a.fail(function(e){e&&(d?s.error(e):s.debug("error",s.i18n(e)))}),!c)return a.reject("errCmdReq");if(f&&a.fail(function(e){e&&s.sync()}),h.type&&h.cnt&&(n=setTimeout(function(){s.notify(h),a.always(function(){h.cnt=-(parseInt(h.cnt)||0),s.notify(h)})},s.notifyDelay),a.always(function(){clearTimeout(n)})),"open"==c)for(;r=k.pop();)"pending"==r.state()&&(r.quiet=!0,r.abort());return delete t.preventFail,i=this.transport.send(t).fail(g).done(b),"open"==c&&(k.unshift(i),a.always(function(){var t=e.inArray(i,k);-1!==t&&k.splice(t,1)})),a},this.diff=function(t){var n={},i=[],r=[],s=[],o=function(e){for(var t=s.length;t--;)if(s[t].hash==e)return!0};return e.each(t,function(e,t){n[t.hash]=t}),e.each(b,function(e){!n[e]&&r.push(e)}),e.each(n,function(t,n){var r=b[t];r?e.each(n,function(e){return n[e]!=r[e]?(s.push(n),!1):void 0}):i.push(n)}),e.each(r,function(t,i){var a=b[i],l=a.phash;l&&"directory"==a.mime&&-1===e.inArray(l,r)&&n[l]&&!o(l)&&s.push(n[l])}),{added:i,removed:r,changed:s}},this.sync=function(){var t=this,n=e.Deferred().done(function(){t.trigger("sync")}),i={data:{cmd:"open",init:1,target:g,tree:this.ui.tree?1:0},preventDefault:!0},r={data:{cmd:"tree",target:g==this.root()?g:this.file(g).phash},preventDefault:!0};return e.when(this.request(i),this.request(r)).fail(function(e){n.reject(e),e&&t.request({data:{cmd:"open",target:t.lastDir(""),tree:1,init:1},notify:{type:"open",cnt:1,hideCnt:!0},preventDefault:!0})}).done(function(e,i){var r=t.diff(e.files.concat(i&&i.tree?i.tree:[]));return r.added.push(e.cwd),r.removed.length&&t.remove(r),r.added.length&&t.add(r),r.changed.length&&t.change(r),n.resolve(r)}),n},this.upload=function(e){return this.transport.upload(e,this)},this.bind=function(e,t){var n;if("function"==typeof t)for(e=(""+e).toLowerCase().split(/\s+/),n=0;n<e.length;n++)void 0===w[e[n]]&&(w[e[n]]=[]),w[e[n]].push(t);return this},this.unbind=function(e,t){var n=w[(""+e).toLowerCase()]||[],i=n.indexOf(t);return i>-1&&n.splice(i,1),t=null,this},this.trigger=function(t,n){var i,t=t.toLowerCase(),r=w[t]||[];if(this.debug("event-"+t,n),r.length)for(t=e.Event(t),i=0;i<r.length;i++){t.data=e.extend(!0,{},n);try{if(r[i](t,this)===!1||t.isDefaultPrevented()){this.debug("event-stoped",t.type);break}}catch(s){window.console&&window.console.log&&window.console.log(s)}}return this},this.shortcut=function(t){var n,i,r,s,o;if(this.options.allowShortcuts&&t.pattern&&e.isFunction(t.callback))for(n=t.pattern.toUpperCase().split(/\s+/),s=0;s<n.length;s++)i=n[s],o=i.split("+"),r=1==(r=o.pop()).length?r>0?r:r.charCodeAt(0):e.ui.keyCode[r],r&&!x[i]&&(x[i]={keyCode:r,altKey:-1!=e.inArray("ALT",o),ctrlKey:-1!=e.inArray("CTRL",o),shiftKey:-1!=e.inArray("SHIFT",o),type:t.type||"keydown",callback:t.callback,description:t.description,pattern:i});return this},this.shortcuts=function(){var t=[];return e.each(x,function(e,n){t.push([n.pattern,o.i18n(n.description)])}),t},this.clipboard=function(t,n){var i=function(){return e.map(_,function(e){return e.hash})};return void 0!==t&&(_.length&&this.trigger("unlockfiles",{files:i()}),C=[],_=e.map(t||[],function(e){var t=b[e];return t?(C.push(e),{hash:e,phash:t.phash,name:t.name,mime:t.mime,read:t.read,locked:t.locked,cut:!!n}):null}),this.trigger("changeclipboard",{clipboard:_.slice(0,_.length)}),n&&this.trigger("lockfiles",{files:i()})),_.slice(0,_.length)},this.isCommandEnabled=function(t){return this._commands[t]?-1===e.inArray(t,v.disabled):!1},this.exec=function(t,n,i){return this._commands[t]&&this.isCommandEnabled(t)?this._commands[t].exec(n,i):e.Deferred().reject("No such command")},this.dialog=function(n,i){return e("<div/>").append(n).appendTo(t).elfinderdialog(i)},this.getUI=function(e){return this.ui[e]||t},this.command=function(e){return void 0===e?this._commands:this._commands[e]},this.resize=function(e,n){t.css("width",e).height(n).trigger("resize"),this.trigger("resize",{width:t.width(),height:t.height()})},this.restoreSize=function(){this.resize(S,I)},this.show=function(){t.show(),this.enable().trigger("show")},this.hide=function(){this.disable().trigger("hide"),t.hide()},this.destroy=function(){t&&t[0].elfinder&&(this.trigger("destroy").disable(),w={},x={},e(document).add(t).unbind("."+this.namespace),o.trigger=function(){},t.children().remove(),t.append(a.contents()).removeClass(this.cssClass).attr("style",l),t[0].elfinder=null,i&&clearInterval(i))},e.fn.selectable&&e.fn.draggable&&e.fn.droppable?t.length?this.options.url?(e.extend(e.ui.keyCode,{F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120}),this.dragUpload=!1,this.xhrUpload=("undefined"!=typeof XMLHttpRequestUpload||"undefined"!=typeof XMLHttpRequestEventTarget)&&"undefined"!=typeof File&&"undefined"!=typeof FormData,this.transport={},"object"==typeof this.options.transport&&(this.transport=this.options.transport,"function"==typeof this.transport.init&&this.transport.init(this)),"function"!=typeof this.transport.send&&(this.transport.send=function(t){return e.ajax(t)}),"iframe"==this.transport.upload?this.transport.upload=e.proxy(this.uploads.iframe,this):"function"==typeof this.transport.upload?this.dragUpload=!!this.options.dragUploadAllow:this.xhrUpload&&this.options.dragUploadAllow?(this.transport.upload=e.proxy(this.uploads.xhr,this),this.dragUpload=!0):this.transport.upload=e.proxy(this.uploads.iframe,this),this.error=function(){var e=arguments[0];return 1==arguments.length&&"function"==typeof e?o.bind("error",e):o.trigger("error",{error:e})},e.each(["enable","disable","load","open","reload","select","add","remove","change","dblclick","getfile","lockfiles","unlockfiles","dragstart","dragstop","search","searchend","viewchange"],function(t,n){o[n]=function(){var t=arguments[0];return 1==arguments.length&&"function"==typeof t?o.bind(n,t):o.trigger(n,e.isPlainObject(t)?t:{})}}),this.enable(function(){!f&&o.visible()&&o.ui.overlay.is(":hidden")&&(f=!0,e("texarea:focus,input:focus,button").blur(),t.removeClass("elfinder-disabled"))}).disable(function(){m=f,f=!1,t.addClass("elfinder-disabled")}).open(function(){y=[]}).select(function(t){y=e.map(t.data.selected||t.data.value||[],function(e){return b[e]?e:null})}).error(function(t){var n={cssClass:"elfinder-dialog-error",title:o.i18n(o.i18n("error")),resizable:!1,destroyOnClose:!0,buttons:{}};n.buttons[o.i18n(o.i18n("btnClose"))]=function(){e(this).elfinderdialog("close")},o.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-error"/>'+o.i18n(t.data.error),n)}).bind("tree parents",function(e){A(e.data.tree||[])}).bind("tmb",function(t){e.each(t.data.images||[],function(e,t){b[e]&&(b[e].tmb=t)})}).add(function(e){A(e.data.added||[])}).change(function(t){e.each(t.data.changed||[],function(t,n){var i=n.hash;(b[i].width&&!n.width||b[i].height&&!n.height)&&(b[i].width=void 0,b[i].height=void 0),b[i]=b[i]?e.extend(b[i],n):n})}).remove(function(t){for(var n=t.data.removed||[],i=n.length,r=function(t){var n=b[t];n&&("directory"==n.mime&&n.dirs&&e.each(b,function(e,n){n.phash==t&&r(e)}),delete b[t])};i--;)r(n[i])}).bind("search",function(e){A(e.data.files)}).bind("rm",function(){var t=D.canPlayType&&D.canPlayType('audio/wav; codecs="1"');t&&""!=t&&"no"!=t&&e(D).html('<source src="./sounds/rm.wav" type="audio/wav">')[0].play()}),e.each(this.options.handlers,function(e,t){o.bind(e,t)}),this.history=new this.history(this),"function"==typeof this.options.getFileCallback&&this.commands.getfile&&(this.bind("dblclick",function(e){e.preventDefault(),o.exec("getfile").fail(function(){o.exec("open")})}),this.shortcut({pattern:"enter",description:this.i18n("cmdgetfile"),callback:function(){o.exec("getfile").fail(function(){o.exec("mac"==o.OS?"rename":"open")})}}).shortcut({pattern:"ctrl+enter",description:this.i18n("mac"==this.OS?"cmdrename":"cmdopen"),callback:function(){o.exec("mac"==o.OS?"rename":"open")}})),this._commands={},e.isArray(this.options.commands)||(this.options.commands=[]),e.each(["open","reload","back","forward","up","home","info","quicklook","getfile","help"],function(t,n){-1===e.inArray(n,o.options.commands)&&o.options.commands.push(n)}),e.each(this.options.commands,function(t,n){var i=o.commands[n];e.isFunction(i)&&!o._commands[n]&&(i.prototype=T,o._commands[n]=new i,o._commands[n].setup(n,o.options.commandsOptions[n]||{}))}),t.addClass(this.cssClass).bind(u,function(){!f&&o.enable()}),this.ui={workzone:e("<div/>").appendTo(t).elfinderworkzone(this),navbar:e("<div/>").appendTo(t).elfindernavbar(this,this.options.uiOptions.navbar||{}),contextmenu:e("<div/>").appendTo(t).elfindercontextmenu(this),overlay:e("<div/>").appendTo(t).elfinderoverlay({show:function(){o.disable()},hide:function(){m&&o.enable()}}),cwd:e("<div/>").appendTo(t).elfindercwd(this,this.options.uiOptions.cwd||{}),notify:this.dialog("",{cssClass:"elfinder-dialog-notify",position:{top:"12px",right:"12px"},resizable:!1,autoOpen:!1,title:"&nbsp;",width:280}),statusbar:e('<div class="ui-widget-header ui-helper-clearfix ui-corner-bottom elfinder-statusbar"/>').hide().appendTo(t)},e.each(this.options.ui||[],function(n,i){var r="elfinder"+i,s=o.options.uiOptions[i]||{};!o.ui[i]&&e.fn[r]&&(o.ui[i]=e("<"+(s.tag||"div")+"/>").appendTo(t)[r](o,s))
}),t[0].elfinder=this,this.options.resizable&&e.fn.resizable&&t.resizable({handles:"se",minWidth:300,minHeight:200}),this.options.width&&(S=this.options.width),this.options.height&&(I=parseInt(this.options.height)),o.resize(S,I),e(document).bind("click."+this.namespace,function(n){f&&!e(n.target).closest(t).length&&o.disable()}).bind(h+" "+p,E),o.options.useBrowserHistory&&e(window).on("popstate",function(t){var n=t.originalEvent.state&&t.originalEvent.state.thash;n&&!e.isEmptyObject(o.files())&&o.request({data:{cmd:"open",target:n,onhistory:1},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!0})}),this.trigger("init").request({data:{cmd:"open",target:o.startDir(),init:1,tree:this.ui.tree?1:0},preventDone:!0,notify:{type:"open",cnt:1,hideCnt:!0},freeze:!0}).fail(function(){o.trigger("fail").disable().lastDir(""),w={},x={},e(document).add(t).unbind("."+this.namespace),o.trigger=function(){}}).done(function(t){o.load().debug("api",o.api),t=e.extend(!0,{},t),M(t),o.trigger("open",t)}),void this.one("load",function(){t.trigger("resize"),o.options.sync>1e3&&(i=setInterval(function(){o.sync()},o.options.sync))})):alert(this.i18n("errURL")):alert(this.i18n("errNode")):alert(this.i18n("errJqui"))},elFinder.prototype={res:function(e,t){return this.resources[e]&&this.resources[e][t]},i18:{en:{translator:"",language:"English",direction:"ltr",dateFormat:"d.m.Y H:i",fancyDateFormat:"$1 H:i",messages:{}},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["msJan","msFeb","msMar","msApr","msMay","msJun","msJul","msAug","msSep","msOct","msNov","msDec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},kinds:{unknown:"Unknown",directory:"Folder",symlink:"Alias","symlink-broken":"AliasBroken","application/x-empty":"TextPlain","application/postscript":"Postscript","application/vnd.ms-office":"MsOffice","application/vnd.ms-word":"MsWord","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MsWord","application/vnd.ms-word.document.macroEnabled.12":"MsWord","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MsWord","application/vnd.ms-word.template.macroEnabled.12":"MsWord","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MsWord","application/vnd.ms-excel":"MsExcel","application/vnd.ms-excel.sheet.macroEnabled.12":"MsExcel","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MsExcel","application/vnd.ms-excel.template.macroEnabled.12":"MsExcel","application/vnd.ms-excel.sheet.binary.macroEnabled.12":"MsExcel","application/vnd.ms-excel.addin.macroEnabled.12":"MsExcel","application/vnd.ms-powerpoint":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MsPP","application/vnd.ms-powerpoint.presentation.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MsPP","application/vnd.ms-powerpoint.slideshow.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.template":"MsPP","application/vnd.ms-powerpoint.template.macroEnabled.12":"MsPP","application/vnd.ms-powerpoint.addin.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.slide":"MsPP","application/vnd.ms-powerpoint.slide.macroEnabled.12":"MsPP","application/pdf":"PDF","application/xml":"XML","application/vnd.oasis.opendocument.text":"OO","application/vnd.oasis.opendocument.text-template":"OO","application/vnd.oasis.opendocument.text-web":"OO","application/vnd.oasis.opendocument.text-master":"OO","application/vnd.oasis.opendocument.graphics":"OO","application/vnd.oasis.opendocument.graphics-template":"OO","application/vnd.oasis.opendocument.presentation":"OO","application/vnd.oasis.opendocument.presentation-template":"OO","application/vnd.oasis.opendocument.spreadsheet":"OO","application/vnd.oasis.opendocument.spreadsheet-template":"OO","application/vnd.oasis.opendocument.chart":"OO","application/vnd.oasis.opendocument.formula":"OO","application/vnd.oasis.opendocument.database":"OO","application/vnd.oasis.opendocument.image":"OO","application/vnd.openofficeorg.extension":"OO","application/x-shockwave-flash":"AppFlash","application/flash-video":"Flash video","application/x-bittorrent":"Torrent","application/javascript":"JS","application/rtf":"RTF","application/rtfd":"RTF","application/x-font-ttf":"TTF","application/x-font-otf":"OTF","application/x-rpm":"RPM","application/x-web-config":"TextPlain","application/xhtml+xml":"HTML","application/docbook+xml":"DOCBOOK","application/x-awk":"AWK","application/x-gzip":"GZIP","application/x-bzip2":"BZIP","application/x-xz":"XZ","application/zip":"ZIP","application/x-zip":"ZIP","application/x-rar":"RAR","application/x-tar":"TAR","application/x-7z-compressed":"7z","application/x-jar":"JAR","text/plain":"TextPlain","text/x-php":"PHP","text/html":"HTML","text/javascript":"JS","text/css":"CSS","text/rtf":"RTF","text/rtfd":"RTF","text/x-c":"C","text/x-csrc":"C","text/x-chdr":"CHeader","text/x-c++":"CPP","text/x-c++src":"CPP","text/x-c++hdr":"CPPHeader","text/x-shellscript":"Shell","application/x-csh":"Shell","text/x-python":"Python","text/x-java":"Java","text/x-java-source":"Java","text/x-ruby":"Ruby","text/x-perl":"Perl","text/x-sql":"SQL","text/xml":"XML","text/x-comma-separated-values":"CSV","image/x-ms-bmp":"BMP","image/jpeg":"JPEG","image/gif":"GIF","image/png":"PNG","image/tiff":"TIFF","image/x-targa":"TGA","image/vnd.adobe.photoshop":"PSD","image/xbm":"XBITMAP","image/pxm":"PXM","audio/mpeg":"AudioMPEG","audio/midi":"AudioMIDI","audio/ogg":"AudioOGG","audio/mp4":"AudioMPEG4","audio/x-m4a":"AudioMPEG4","audio/wav":"AudioWAV","audio/x-mp3-playlist":"AudioPlaylist","video/x-dv":"VideoDV","video/mp4":"VideoMPEG4","video/mpeg":"VideoMPEG","video/x-msvideo":"VideoAVI","video/quicktime":"VideoMOV","video/x-ms-wmv":"VideoWM","video/x-flv":"VideoFlash","video/x-matroska":"VideoMKV","video/ogg":"VideoOGG"},rules:{defaults:function(t){return!t||t.added&&!e.isArray(t.added)||t.removed&&!e.isArray(t.removed)||t.changed&&!e.isArray(t.changed)?!1:!0},open:function(t){return t&&t.cwd&&t.files&&e.isPlainObject(t.cwd)&&e.isArray(t.files)},tree:function(t){return t&&t.tree&&e.isArray(t.tree)},parents:function(t){return t&&t.tree&&e.isArray(t.tree)},tmb:function(t){return t&&t.images&&(e.isPlainObject(t.images)||e.isArray(t.images))},upload:function(t){return t&&(e.isPlainObject(t.added)||e.isArray(t.added))},search:function(t){return t&&t.files&&e.isArray(t.files)}},commands:{},parseUploadData:function(t){var n;if(!e.trim(t))return{error:["errResponse","errDataEmpty"]};try{n=e.parseJSON(t)}catch(i){return{error:["errResponse","errDataNotJSON"]}}return this.validResponse("upload",n)?(n=this.normalize(n),n.removed=e.map(n.added||[],function(e){return e.hash}),n):{error:["errResponse"]}},iframeCnt:0,uploads:{iframe:function(t,n){var i,r,s,o,a=n?n:this,l=t.input,c=e.Deferred().fail(function(e){e&&a.error(e)}).done(function(e){e.warning&&a.error(e.warning),e.removed&&a.remove(e),e.added&&a.add(e),e.changed&&a.change(e),a.trigger("upload",e),e.sync&&a.sync()}),d="iframe-"+a.namespace+ ++a.iframeCnt,u=e('<form action="'+a.uploadURL+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data" target="'+d+'" style="display:none"><input type="hidden" name="cmd" value="upload" /></form>'),h=this.UA.IE,p=function(){o&&clearTimeout(o),s&&clearTimeout(s),r&&a.notify({type:"upload",cnt:-i}),setTimeout(function(){h&&e('<iframe src="javascript:false;"/>').appendTo(u),u.remove(),f.remove()},100)},f=e('<iframe src="'+(h?"javascript:false;":"about:blank")+'" name="'+d+'" style="position:absolute;left:-1000px;top:-1000px" />').bind("load",function(){f.unbind("load").bind("load",function(){var e=a.parseUploadData(f.contents().text());p(),e.error?c.reject(e.error):c.resolve(e)}),s=setTimeout(function(){r=!0,a.notify({type:"upload",cnt:i})},a.options.notifyDelay),a.options.iframeTimeout>0&&(o=setTimeout(function(){p(),c.reject([errors.connect,errors.timeout])},a.options.iframeTimeout)),u.submit()});return l&&e(l).is(":file")&&e(l).val()?(u.append(l),i=l.files?l.files.length:1,u.append('<input type="hidden" name="'+(a.newAPI?"target":"current")+'" value="'+a.cwd().hash+'"/>').append('<input type="hidden" name="html" value="1"/>').append(e(l).attr("name","upload[]")),e.each(a.options.onlyMimes||[],function(e,t){u.append('<input type="hidden" name="mimes[]" value="'+t+'"/>')}),e.each(a.options.customData,function(e,t){u.append('<input type="hidden" name="'+e+'" value="'+t+'"/>')}),u.appendTo("body"),f.appendTo("body"),c):c.reject()},xhr:function(t,n){var i,r=n?n:this,s=e.Deferred().fail(function(e){e&&r.error(e)}).done(function(e){e.warning&&r.error(e.warning),e.removed&&r.remove(e),e.added&&r.add(e),e.changed&&r.change(e),r.trigger("upload",e),e.sync&&r.sync()}).always(function(){i&&clearTimeout(i),u&&r.notify({type:"upload",cnt:-c,progress:100*c})}),o=new XMLHttpRequest,a=new FormData,l=t.input?t.input.files:t.files,c=l.length,d=5,u=!1,h=function(){return setTimeout(function(){u=!0,r.notify({type:"upload",cnt:c,progress:d*c})},r.options.notifyDelay)};return c?(o.addEventListener("error",function(){s.reject("errConnect")},!1),o.addEventListener("abort",function(){s.reject(["errConnect","errAbort"])},!1),o.addEventListener("load",function(){var e,t=o.status;return t>500?s.reject("errResponse"):t>=400?s.reject("errConnect"):4!=o.readyState?s.reject(["errConnect","errTimeout"]):o.responseText?(e=r.parseUploadData(o.responseText),void(e.error?s.reject(e.error):s.resolve(e))):s.reject(["errResponse","errDataEmpty"])},!1),o.upload.addEventListener("progress",function(e){var t,n=d;e.lengthComputable&&(t=parseInt(100*e.loaded/e.total),t>0&&!i&&(i=h()),t-n>4&&(d=t,u&&r.notify({type:"upload",cnt:0,progress:(d-n)*c})))},!1),o.open("POST",r.uploadURL,!0),a.append("cmd","upload"),a.append(r.newAPI?"target":"current",r.cwd().hash),e.each(r.options.customData,function(e,t){a.append(e,t)}),e.each(r.options.onlyMimes,function(e,t){a.append("mimes["+e+"]",t)}),e.each(l,function(e,t){a.append("upload[]",t)}),o.onreadystatechange=function(){4==o.readyState&&0==o.status&&s.reject(["errConnect","errAbort"])},o.send(a),this.UA.Safari&&t.files||(i=h()),s):s.reject()}},one:function(t,n){var i=this,r=e.proxy(n,function(e){return setTimeout(function(){i.unbind(e.type,r)},3),n.apply(this,arguments)});return this.bind(t,r)},localStorage:function(e,t){var n=window.localStorage;if(e="elfinder-"+e+this.id,null===t)return console.log("remove",e),n.removeItem(e);if(void 0!==t)try{n.setItem(e,t)}catch(i){n.clear(),n.setItem(e,t)}return n.getItem(e)},cookie:function(t,n){var i,r,s,o;if(t="elfinder-"+t+this.id,void 0===n){if(document.cookie&&""!=document.cookie)for(s=document.cookie.split(";"),t+="=",o=0;o<s.length;o++)if(s[o]=e.trim(s[o]),s[o].substring(0,t.length)==t)return decodeURIComponent(s[o].substring(t.length));return""}return r=e.extend({},this.options.cookie),null===n&&(n="",r.expires=-1),"number"==typeof r.expires&&(i=new Date,i.setTime(i.getTime()+864e5*r.expires),r.expires=i),document.cookie=t+"="+encodeURIComponent(n)+"; expires="+r.expires.toUTCString()+(r.path?"; path="+r.path:"")+(r.domain?"; domain="+r.domain:"")+(r.secure?"; secure":""),n},startDir:function(){var e=window.location.hash;return e&&e.match(/^#elf_/)?e.replace(/^#elf_/,""):this.lastDir()},lastDir:function(e){return this.options.rememberLastDir?this.storage("lastdir",e):""},_node:e("<span/>"),escape:function(e){return this._node.text(e).html()},normalize:function(t){var n=function(e){return e&&e.hash&&e.name&&e.mime?("application/x-empty"==e.mime&&(e.mime="text/plain"),e):null};return t.files&&(t.files=e.map(t.files,n)),t.tree&&(t.tree=e.map(t.tree,n)),t.added&&(t.added=e.map(t.added,n)),t.changed&&(t.changed=e.map(t.changed,n)),t.api&&(t.init=!0),t},setSort:function(e,t,n){this.storage("sortType",this.sortType=this.sortRules[e]?e:"name"),this.storage("sortOrder",this.sortOrder=/asc|desc/.test(t)?t:"asc"),this.storage("sortStickFolders",(this.sortStickFolders=!!n)?1:""),this.trigger("sortchange")},_sortRules:{name:function(e,t){var n=elFinder.prototype._sortRules.name;"undefined"==typeof n.loc&&(n.loc=navigator.userLanguage||navigator.browserLanguage||navigator.language||"en-US"),"undefined"==typeof n.sort&&("11".localeCompare("2",n.loc,{numeric:!0})>0?n.sort=function(e,t){return e.localeCompare(t,n.loc,{numeric:!0})}:(n.sort=function(e,t){var i,r,s=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,d=/^[\x01\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e]/,u=function(e){return n.sort.insensitive&&(""+e).toLowerCase()||""+e},h=u(e).replace(o,"").replace(/^_/,"")||"",p=u(t).replace(o,"").replace(/^_/,"")||"",f=h.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=p.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),g=parseInt(h.match(l))||1!=f.length&&h.match(a)&&Date.parse(h),v=parseInt(p.match(l))||g&&p.match(a)&&Date.parse(p)||null,b=0;if(v){if(v>g)return-1;if(g>v)return 1}for(var y=0,w=Math.max(f.length,m.length);w>y;y++){if(i=!(f[y]||"").match(c)&&parseFloat(f[y])||f[y]||0,r=!(m[y]||"").match(c)&&parseFloat(m[y])||m[y]||0,isNaN(i)!==isNaN(r)){if(isNaN(i)&&("string"!=typeof i||!i.match(d)))return 1;if("string"!=typeof r||!r.match(d))return-1}if(0===parseInt(i,10)&&(i=0),0===parseInt(r,10)&&(r=0),typeof i!=typeof r&&(i+="",r+=""),n.sort.insensitive&&"string"==typeof i&&"string"==typeof r&&(b=i.localeCompare(r,n.loc),0!==b))return b;if(r>i)return-1;if(i>r)return 1}return 0},n.sort.insensitive=!0));var i,r,s=e.name.toLowerCase(),o=t.name.toLowerCase(),a="",l="";return(i=s.match(/^(.+)(\.[0-9a-z.]+)$/))&&(s=i[1],a=i[2]),(i=o.match(/^(.+)(\.[0-9a-z.]+)$/))&&(o=i[1],l=i[2]),r=n.sort(s,o),0==r&&(a||l)&&a!=l&&(r=n.sort(a,l)),r},size:function(e,t){var n=parseInt(e.size)||0,i=parseInt(t.size)||0;return n==i?0:n>i?1:-1},kind:function(e,t){return e.mime.localeCompare(t.mime)},date:function(e,t){var n=e.ts||e.date,i=t.ts||t.date;return n==i?0:n>i?1:-1}},compare:function(e,t){var n,i=this,r=i.sortType,s="asc"==i.sortOrder,o=i.sortStickFolders,a=i.sortRules,l=a[r],c="directory"==e.mime,d="directory"==t.mime;if(o){if(c&&!d)return-1;if(!c&&d)return 1}return n=s?l(e,t):l(t,e),"name"!=r&&0==n?n=s?a.name(e,t):a.name(t,e):n},sortFiles:function(e){return e.sort(this.compare)},notify:function(t){var n,i,r,s=t.type,o=this.i18n(this.messages["ntf"+s]?"ntf"+s:"ntfsmth"),a=this.ui.notify,l=a.children(".elfinder-notify-"+s),c='<div class="elfinder-notify elfinder-notify-{type}"><span class="elfinder-dialog-icon elfinder-dialog-icon-{type}"/><span class="elfinder-notify-msg">{msg}</span> <span class="elfinder-notify-cnt"/><div class="elfinder-notify-progressbar"><div class="elfinder-notify-progress"/></div></div>',d=t.cnt,u=t.progress>=0&&t.progress<=100?t.progress:0;return s?(l.length||(l=e(c.replace(/\{type\}/g,s).replace(/\{msg\}/g,o)).appendTo(a).data("cnt",0),u&&l.data({progress:0,total:0})),n=d+parseInt(l.data("cnt")),n>0?(!t.hideCnt&&l.children(".elfinder-notify-cnt").text("("+n+")"),a.is(":hidden")&&a.elfinderdialog("open"),l.data("cnt",n),100>u&&(i=l.data("total"))>=0&&(r=l.data("progress"))>=0&&(i=d+parseInt(l.data("total")),r=u+r,u=parseInt(r/i),l.data({progress:r,total:i}),a.find(".elfinder-notify-progress").animate({width:(100>u?u:100)+"%"},20))):(l.remove(),!a.children().length&&a.elfinderdialog("close")),this):this},confirm:function(t){var n,i=!1,r={cssClass:"elfinder-dialog-confirm",modal:!0,resizable:!1,title:this.i18n(t.title||"confirmReq"),buttons:{},close:function(){!i&&t.cancel.callback(),e(this).elfinderdialog("destroy")}},s=this.i18n("apllyAll");return t.reject&&(r.buttons[this.i18n(t.reject.label)]=function(){t.reject.callback(!(!n||!n.prop("checked"))),i=!0,e(this).elfinderdialog("close")}),r.buttons[this.i18n(t.accept.label)]=function(){t.accept.callback(!(!n||!n.prop("checked"))),i=!0,e(this).elfinderdialog("close")},r.buttons[this.i18n(t.cancel.label)]=function(){e(this).elfinderdialog("close")},t.all&&(t.reject&&(r.width=370),r.create=function(){n=e('<input type="checkbox" />'),e(this).next().children().before(e("<label>"+s+"</label>").prepend(n))},r.open=function(){var t=e(this).next(),n=parseInt(t.children(":first").outerWidth()+t.children(":last").outerWidth());n>parseInt(t.width())&&e(this).closest(".elfinder-dialog").width(n+30)}),this.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-confirm"/>'+this.i18n(t.text),r)},uniqueName:function(e,t){var n,i,r=0,s="";if(e=this.i18n(e),t=t||this.cwd().hash,-1!=(n=e.indexOf(".txt"))&&(s=".txt",e=e.substr(0,n)),i=e+s,!this.fileByName(i,t))return i;for(;1e4>r;)if(i=e+" "+ ++r+s,!this.fileByName(i,t))return i;return e+Math.random()+s},i18n:function(){var t,n,i,r=this,s=this.messages,o=[],a=[],l=function(e){var t;return 0===e.indexOf("#")&&(t=r.file(e.substr(1)))?t.name:e};for(t=0;t<arguments.length;t++)if(i=arguments[t],"string"==typeof i)o.push(l(i));else if(e.isArray(i))for(n=0;n<i.length;n++)"string"==typeof i[n]&&o.push(l(i[n]));for(t=0;t<o.length;t++)-1===e.inArray(t,a)&&(i=o[t],i=s[i]||i,i=i.replace(/\$(\d+)/g,function(e,n){return n=t+parseInt(n),n>0&&o[n]&&a.push(n),o[n]||""}),o[t]=i);return e.map(o,function(t,n){return-1===e.inArray(n,a)?t:null}).join("<br>")},mime2class:function(e){var t="elfinder-cwd-icon-";return e=e.split("/"),t+e[0]+("image"!=e[0]&&e[1]?" "+t+e[1].replace(/(\.|\+)/g,"-"):"")},mime2kind:function(e){var t,n="object"==typeof e?e.mime:e;return t=e.alias?"Alias":this.kinds[n]?this.kinds[n]:0===n.indexOf("text")?"Text":0===n.indexOf("image")?"Image":0===n.indexOf("audio")?"Audio":0===n.indexOf("video")?"Video":0===n.indexOf("application")?"App":n,this.messages["kind"+t]?this.i18n("kind"+t):n;var n,t},formatDate:function(e,t){var n,i,r,s,o,a,l,c,d,u,h,p=this,t=t||e.ts,f=p.i18;return p.options.clientFormatDate&&t>0?(n=new Date(1e3*t),c=n[p.getHours](),d=c>12?c-12:c,u=n[p.getMinutes](),h=n[p.getSeconds](),s=n[p.getDate](),o=n[p.getDay](),a=n[p.getMonth]()+1,l=n[p.getFullYear](),i=t>=this.yesterday?this.fancyFormat:this.dateFormat,r=i.replace(/[a-z]/gi,function(e){switch(e){case"d":return s>9?s:"0"+s;case"j":return s;case"D":return p.i18n(f.daysShort[o]);case"l":return p.i18n(f.days[o]);case"m":return a>9?a:"0"+a;case"n":return a;case"M":return p.i18n(f.monthsShort[a-1]);case"F":return p.i18n(f.months[a-1]);case"Y":return l;case"y":return(""+l).substr(2);case"H":return c>9?c:"0"+c;case"G":return c;case"g":return d;case"h":return d>9?d:"0"+d;case"a":return c>12?"pm":"am";case"A":return c>12?"PM":"AM";case"i":return u>9?u:"0"+u;case"s":return h>9?h:"0"+h}return e}),t>=this.yesterday?r.replace("$1",this.i18n(t>=this.today?"Today":"Yesterday")):r):e.date?e.date.replace(/([a-z]+)\s/i,function(e,t){return p.i18n(t)+" "}):p.i18n("dateUnknown")},perms2class:function(e){var t="";return e.read||e.write?e.read?e.write||(t="elfinder-ro"):t="elfinder-wo":t="elfinder-na",t},formatPermissions:function(e){var t=[];return e.read&&t.push(this.i18n("read")),e.write&&t.push(this.i18n("write")),t.length?t.join(" "+this.i18n("and")+" "):this.i18n("noaccess")},formatSize:function(e){var t=1,n="b";return"unknown"==e?this.i18n("unknown"):(e>1073741824?(t=1073741824,n="GB"):e>1048576?(t=1048576,n="MB"):e>1024&&(t=1024,n="KB"),e/=t,(e>0?t>=1048576?e.toFixed(2):Math.round(e):0)+" "+n)},navHash2Id:function(e){return"nav-"+e},navId2Hash:function(e){return"string"==typeof e?e.substr(4):!1},log:function(e){return window.console&&window.console.log&&window.console.log(e),this},debug:function(t,n){var i=this.options.debug;return("all"==i||i===!0||e.isArray(i)&&-1!=e.inArray(t,i))&&window.console&&window.console.log&&window.console.log("elfinder debug: ["+t+"] ["+this.id+"]",n),this},time:function(e){window.console&&window.console.time&&window.console.time(e)},timeEnd:function(e){window.console&&window.console.timeEnd&&window.console.timeEnd(e)}},elFinder.prototype.version="2.x (Nightly: e7423bf)",e.fn.elfinder=function(e){return"instance"==e?this.getElFinder():this.each(function(){var t="string"==typeof e?e:"";switch(this.elfinder||new elFinder(this,"object"==typeof e?e:{}),t){case"close":case"hide":this.elfinder.hide();break;case"open":case"show":this.elfinder.show();break;case"destroy":this.elfinder.destroy()}})},e.fn.getElFinder=function(){var e;return this.each(function(){return this.elfinder?(e=this.elfinder,!1):void 0}),e},elFinder.prototype._options={url:"",requestType:"get",transport:{},urlUpload:"",dragUploadAllow:"auto",iframeTimeout:0,customData:{},handlers:{},lang:"en",cssClass:"",commands:["open","reload","home","up","back","forward","getfile","quicklook","download","rm","duplicate","rename","mkdir","mkfile","upload","copy","cut","paste","edit","extract","archive","search","info","view","help","resize","sort","netmount"],commandsOptions:{getfile:{onlyURL:!1,multiple:!1,folders:!1,oncomplete:""},upload:{ui:"uploadbutton"},quicklook:{autoplay:!0,jplayer:"extensions/jplayer"},edit:{mimes:[],editors:[]},info:{nullUrlDirLinkSelf:!0},help:{view:["about","shortcuts","help"]}},getFileCallback:null,defaultView:"icons",ui:["toolbar","tree","path","stat"],uiOptions:{toolbar:[["back","forward"],["netmount"],["mkdir","mkfile","upload"],["open","download","getfile"],["info"],["quicklook"],["copy","cut","paste"],["rm"],["duplicate","rename","edit","resize"],["extract","archive"],["search"],["view","sort"],["help"]],tree:{openRootOnLoad:!0,syncTree:!0},navbar:{minWidth:150,maxWidth:500},cwd:{oldSchool:!1}},onlyMimes:[],sortRules:{},sortType:"name",sortOrder:"asc",sortStickFolders:!0,clientFormatDate:!0,UTCDate:!1,dateFormat:"",fancyDateFormat:"",width:"auto",height:400,resizable:!0,notifyDelay:500,allowShortcuts:!0,rememberLastDir:!0,useBrowserHistory:!0,showFiles:30,showThreshold:50,validName:!1,sync:0,loadTmbs:5,cookie:{expires:30,domain:"",path:"/",secure:!1},contextmenu:{navbar:["open","|","copy","cut","paste","duplicate","|","rm","|","info"],cwd:["reload","back","|","upload","mkdir","mkfile","paste","|","sort","|","info"],files:["getfile","|","open","quicklook","|","download","|","copy","cut","paste","duplicate","|","rm","|","edit","rename","resize","|","archive","extract","|","info"]},debug:["error","warning","event-destroy"]},elFinder.prototype.history=function(t){var n,i=this,r=!0,s=[],o=function(){s=[t.cwd().hash],n=0,r=!0},a=t.options.useBrowserHistory&&window.history&&window.history.pushState?window.history:null,l=function(a){return a&&i.canForward()||!a&&i.canBack()?(r=!1,t.exec("open",s[a?++n:--n]).fail(o)):e.Deferred().reject()};this.canBack=function(){return n>0},this.canForward=function(){return n<s.length-1},this.back=l,this.forward=function(){return l(!0)},t.open(function(){var e=s.length,i=t.cwd().hash;r&&(n>=0&&e>n+1&&s.splice(n+1),s[s.length-1]!=i&&s.push(i),n=s.length-1),r=!0,a&&(a.state?a.state.thash!=i&&a.pushState({thash:i},null,location.pathname+location.search+"#elf_"+i):a.replaceState({thash:i},null,location.pathname+location.search+"#elf_"+i))}).reload(o)},elFinder.prototype.command=function(t){this.fm=t,this.name="",this.title="",this.state=-1,this.alwaysEnabled=!1,this._disabled=!1,this.disableOnSearch=!1,this.updateOnSelect=!0,this._handlers={enable:function(){this.update(void 0,this.value)},disable:function(){this.update(-1,this.value)},"open reload load":function(){this._disabled=!(this.alwaysEnabled||this.fm.isCommandEnabled(this.name)),this.update(void 0,this.value),this.change()}},this.handlers={},this.shortcuts=[],this.options={ui:"button"},this.setup=function(t,n){var i,r,s=this,o=this.fm;for(this.name=t,this.title=o.messages["cmd"+t]?o.i18n("cmd"+t):t,this.options=e.extend({},this.options,n),this.listeners=[],this.updateOnSelect&&(this._handlers.select=function(){this.update(void 0,this.value)}),e.each(e.extend({},s._handlers,s.handlers),function(t,n){o.bind(t,e.proxy(n,s))}),i=0;i<this.shortcuts.length;i++)r=this.shortcuts[i],r.callback=e.proxy(r.callback||function(){this.exec()},this),!r.description&&(r.description=this.title),o.shortcut(r);this.disableOnSearch&&o.bind("search searchend",function(e){s._disabled="search"==e.type,s.update(void 0,s.value)}),this.init()},this.init=function(){},this.exec=function(){return e.Deferred().reject()},this.disabled=function(){return this.state<0},this.enabled=function(){return this.state>-1},this.active=function(){return this.state>0},this.getstate=function(){return-1},this.update=function(e,t){var n=this.state,i=this.value;this.state=this._disabled?-1:void 0!==e?e:this.getstate(),this.value=t,(n!=this.state||i!=this.value)&&this.change()},this.change=function(e){var t,n;if("function"==typeof e)this.listeners.push(e);else for(n=0;n<this.listeners.length;n++){t=this.listeners[n];try{t(this.state,this.value)}catch(i){this.fm.debug("error",i)}}return this},this.hashes=function(n){return n?e.map(e.isArray(n)?n:[n],function(e){return t.file(e)?e:null}):t.selected()},this.files=function(t){var n=this.fm;return t?e.map(e.isArray(t)?t:[t],function(e){return n.file(e)||null}):n.selectedFiles()}},elFinder.prototype.resources={"class":{hover:"ui-state-hover",active:"ui-state-active",disabled:"ui-state-disabled",draggable:"ui-draggable",droppable:"ui-droppable",adroppable:"elfinder-droppable-active",cwdfile:"elfinder-cwd-file",cwd:"elfinder-cwd",tree:"elfinder-tree",treeroot:"elfinder-navbar-root",navdir:"elfinder-navbar-dir",navdirwrap:"elfinder-navbar-dir-wrapper",navarrow:"elfinder-navbar-arrow",navsubtree:"elfinder-navbar-subtree",navcollapse:"elfinder-navbar-collapsed",navexpand:"elfinder-navbar-expanded",treedir:"elfinder-tree-dir",placedir:"elfinder-place-dir",searchbtn:"elfinder-button-search"},tpl:{perms:'<span class="elfinder-perms"/>',symlink:'<span class="elfinder-symlink"/>',navicon:'<span class="elfinder-nav-icon"/>',navspinner:'<span class="elfinder-navbar-spinner"/>',navdir:'<div class="elfinder-navbar-wrapper"><span id="{id}" class="ui-corner-all elfinder-navbar-dir {cssclass}"><span class="elfinder-navbar-arrow"/><span class="elfinder-navbar-icon"/>{symlink}{permissions}{name}</span><div class="elfinder-navbar-subtree"/></div>'},mimes:{text:["application/x-empty","application/javascript","application/xhtml+xml","audio/x-mp3-playlist","application/x-web-config","application/docbook+xml","application/x-php","application/x-perl","application/x-awk","application/x-config","application/x-csh","application/xml"]},mixin:{make:function(){var t=this.fm,n=this.name,i=t.getUI("cwd"),r=e.Deferred().fail(function(e){i.trigger("unselectall"),e&&t.error(e)}).always(function(){d.remove(),c.remove(),t.enable()}),s="tmp_"+parseInt(1e5*Math.random()),o=t.cwd().hash,a=new Date,l={hash:s,name:t.uniqueName(this.prefix),mime:this.mime,read:!0,write:!0,date:"Today "+a.getHours()+":"+a.getMinutes()},c=i.trigger("create."+t.namespace,l).find("#"+s),d=e('<input type="text"/>').keydown(function(t){t.stopImmediatePropagation(),t.keyCode==e.ui.keyCode.ESCAPE?r.reject():t.keyCode==e.ui.keyCode.ENTER&&d.blur()}).mousedown(function(e){e.stopPropagation()}).blur(function(){var i=e.trim(d.val()),a=d.parent();if(a.length){if(!i)return r.reject("errInvName");if(t.fileByName(i,o))return r.reject(["errExists",i]);a.html(t.escape(i)),t.lockfiles({files:[s]}),t.request({data:{cmd:n,name:i,target:o},notify:{type:n,cnt:1},preventFail:!0,syncOnFail:!0}).fail(function(e){r.reject(e)}).done(function(e){r.resolve(e)})}});return this.disabled()||!c.length?r.reject():(t.disable(),c.find(".elfinder-cwd-filename").empty("").append(d.val(l.name)),d.select().focus(),d[0].setSelectionRange&&d[0].setSelectionRange(0,l.name.replace(/\..+$/,"").length),r)}}},e.fn.dialogelfinder=function(t){var n="elfinderPosition",i="elfinderDestroyOnClose";if(this.not(".elfinder").each(function(){{var r=(e(document),e('<div class="ui-widget-header dialogelfinder-drag ui-corner-top">'+(t.title||"Files")+"</div>")),s=(e('<a href="#" class="dialogelfinder-drag-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').appendTo(r).click(function(e){e.preventDefault(),s.dialogelfinder("close")}),e(this).addClass("dialogelfinder").css("position","absolute").hide().appendTo("body").draggable({handle:".dialogelfinder-drag",containment:"window"}).elfinder(t).prepend(r));s.elfinder("instance")}s.width(parseInt(s.width())||840).data(i,!!t.destroyOnClose).find(".elfinder-toolbar").removeClass("ui-corner-top"),t.position&&s.data(n,t.position),t.autoOpen!==!1&&e(this).dialogelfinder("open")}),"open"==t){var r=e(this),s=r.data(n)||{top:parseInt(e(document).scrollTop()+(e(window).height()<r.height()?2:(e(window).height()-r.height())/2)),left:parseInt(e(document).scrollLeft()+(e(window).width()<r.width()?2:(e(window).width()-r.width())/2))},o=100;r.is(":hidden")&&(e("body").find(":visible").each(function(){var t,n=e(this);this!==r[0]&&"absolute"==n.css("position")&&(t=parseInt(n.zIndex()))>o&&(o=t+1)}),r.zIndex(o).css(s).show().trigger("resize"),setTimeout(function(){r.trigger("resize").mousedown()},200))}else if("close"==t){var r=e(this);r.is(":visible")&&(r.data(i)?r.elfinder("destroy").remove():r.elfinder("close"))}else if("instance"==t)return e(this).getElFinder();return this},elFinder&&elFinder.prototype&&"object"==typeof elFinder.prototype.i18&&(elFinder.prototype.i18.en={translator:"Troex Nevelin &lt;troex@fury.scancode.ru&gt;",language:"English",direction:"ltr",dateFormat:"M d, Y h:i A",fancyDateFormat:"$1 h:i A",messages:{error:"Error",errUnknown:"Unknown error.",errUnknownCmd:"Unknown command.",errJqui:"Invalid jQuery UI configuration. Selectable, draggable and droppable components must be included.",errNode:"elFinder requires DOM Element to be created.",errURL:"Invalid elFinder configuration! URL option is not set.",errAccess:"Access denied.",errConnect:"Unable to connect to backend.",errAbort:"Connection aborted.",errTimeout:"Connection timeout.",errNotFound:"Backend not found.",errResponse:"Invalid backend response.",errConf:"Invalid backend configuration.",errJSON:"PHP JSON module not installed.",errNoVolumes:"Readable volumes not available.",errCmdParams:'Invalid parameters for command "$1".',errDataNotJSON:"Data is not JSON.",errDataEmpty:"Data is empty.",errCmdReq:"Backend request requires command name.",errOpen:'Unable to open "$1".',errNotFolder:"Object is not a folder.",errNotFile:"Object is not a file.",errRead:'Unable to read "$1".',errWrite:'Unable to write into "$1".',errPerm:"Permission denied.",errLocked:'"$1" is locked and can not be renamed, moved or removed.',errExists:'File named "$1" already exists.',errInvName:"Invalid file name.",errFolderNotFound:"Folder not found.",errFileNotFound:"File not found.",errTrgFolderNotFound:'Target folder "$1" not found.',errPopup:"Browser prevented opening popup window. To open file enable it in browser options.",errMkdir:'Unable to create folder "$1".',errMkfile:'Unable to create file "$1".',errRename:'Unable to rename "$1".',errCopyFrom:'Copying files from volume "$1" not allowed.',errCopyTo:'Copying files to volume "$1" not allowed.',errUpload:"Upload error.",errUploadFile:'Unable to upload "$1".',errUploadNoFiles:"No files found for upload.",errUploadTotalSize:"Data exceeds the maximum allowed size.",errUploadFileSize:"File exceeds maximum allowed size.",errUploadMime:"File type not allowed.",errUploadTransfer:'"$1" transfer error.',errNotReplace:'Object "$1" already exists at this location and can not be replaced by object with another type.',errReplace:'Unable to replace "$1".',errSave:'Unable to save "$1".',errCopy:'Unable to copy "$1".',errMove:'Unable to move "$1".',errCopyInItself:'Unable to copy "$1" into itself.',errRm:'Unable to remove "$1".',errRmSrc:"Unable remove source file(s).",errExtract:'Unable to extract files from "$1".',errArchive:"Unable to create archive.",errArcType:"Unsupported archive type.",errNoArchive:"File is not archive or has unsupported archive type.",errCmdNoSupport:"Backend does not support this command.",errReplByChild:"The folder “$1” can’t be replaced by an item it contains.",errArcSymlinks:"For security reason denied to unpack archives contains symlinks or files with not allowed names.",errArcMaxSize:"Archive files exceeds maximum allowed size.",errResize:'Unable to resize "$1".',errResizeDegree:"Invalid rotate degree.",errResizeRotate:"Image dose not rotated.",errResizeSize:"Invalid image size.",errResizeNoChange:"Image size not changed.",errUsupportType:"Unsupported file type.",errNotUTF8Content:'File "$1" is not in UTF-8 and cannot be edited.',errNetMount:'Unable to mount "$1".',errNetMountNoDriver:"Unsupported protocol.",errNetMountFailed:"Mount failed.",errNetMountHostReq:"Host required.",errSessionExpires:"Your session has expired due to inactivity.",errCreatingTempDir:'Unable to create temporary directory: "$1"',errFtpDownloadFile:'Unable to download file from FTP: "$1"',errFtpUploadFile:'Unable to upload file to FTP: "$1"',errFtpMkdir:'Unable to create remote directory on FTP: "$1"',errArchiveExec:'Error while archiving files: "$1"',errExtractExec:'Error while extracting files: "$1"',cmdarchive:"Create archive",cmdback:"Back",cmdcopy:"Copy",cmdcut:"Cut",cmddownload:"Download",cmdduplicate:"Duplicate",cmdedit:"Edit file",cmdextract:"Extract files from archive",cmdforward:"Forward",cmdgetfile:"Select files",cmdhelp:"About this software",cmdhome:"Home",cmdinfo:"Get info",cmdmkdir:"New folder",cmdmkfile:"New text file",cmdopen:"Open",cmdpaste:"Paste",cmdquicklook:"Preview",cmdreload:"Reload",cmdrename:"Rename",cmdrm:"Delete",cmdsearch:"Find files",cmdup:"Go to parent directory",cmdupload:"Upload files",cmdview:"View",cmdresize:"Resize & Rotate",cmdsort:"Sort",cmdnetmount:"Mount network volume",btnClose:"Close",btnSave:"Save",btnRm:"Remove",btnApply:"Apply",btnCancel:"Cancel",btnNo:"No",btnYes:"Yes",btnMount:"Mount",ntfopen:"Open folder",ntffile:"Open file",ntfreload:"Reload folder content",ntfmkdir:"Creating directory",ntfmkfile:"Creating files",ntfrm:"Delete files",ntfcopy:"Copy files",ntfmove:"Move files",ntfprepare:"Prepare to copy files",ntfrename:"Rename files",ntfupload:"Uploading files",ntfdownload:"Downloading files",ntfsave:"Save files",ntfarchive:"Creating archive",ntfextract:"Extracting files from archive",ntfsearch:"Searching files",ntfresize:"Resizing images",ntfsmth:"Doing something",ntfloadimg:"Loading image",ntfnetmount:"Mounting network volume",ntfdim:"Acquiring image dimension",dateUnknown:"unknown",Today:"Today",Yesterday:"Yesterday",msJan:"Jan",msFeb:"Feb",msMar:"Mar",msApr:"Apr",msMay:"May",msJun:"Jun",msJul:"Jul",msAug:"Aug",msSep:"Sep",msOct:"Oct",msNov:"Nov",msDec:"Dec",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",sortname:"by name",sortkind:"by kind",sortsize:"by size",sortdate:"by date",sortFoldersFirst:"Folders first",confirmReq:"Confirmation required",confirmRm:"Are you sure you want to remove files?<br/>This cannot be undone!",confirmRepl:"Replace old file with new one?",apllyAll:"Apply to all",name:"Name",size:"Size",perms:"Permissions",modify:"Modified",kind:"Kind",read:"read",write:"write",noaccess:"no access",and:"and",unknown:"unknown",selectall:"Select all files",selectfiles:"Select file(s)",selectffile:"Select first file",selectlfile:"Select last file",viewlist:"List view",viewicons:"Icons view",places:"Places",calc:"Calculate",path:"Path",aliasfor:"Alias for",locked:"Locked",dim:"Dimensions",files:"Files",folders:"Folders",items:"Items",yes:"yes",no:"no",link:"Link",searcresult:"Search results",selected:"selected items",about:"About",shortcuts:"Shortcuts",help:"Help",webfm:"Web file manager",ver:"Version",protocolver:"protocol version",homepage:"Project home",docs:"Documentation",github:"Fork us on Github",twitter:"Follow us on twitter",facebook:"Join us on facebook",team:"Team",chiefdev:"chief developer",developer:"developer",contributor:"contributor",maintainer:"maintainer",translator:"translator",icons:"Icons",dontforget:"and don't forget to take your towel",shortcutsof:"Shortcuts disabled",dropFiles:"Drop files here",or:"or",selectForUpload:"Select files to upload",moveFiles:"Move files",copyFiles:"Copy files",rmFromPlaces:"Remove from places",aspectRatio:"Aspect ratio",scale:"Scale",width:"Width",height:"Height",resize:"Resize",crop:"Crop",rotate:"Rotate","rotate-cw":"Rotate 90 degrees CW","rotate-ccw":"Rotate 90 degrees CCW",degree:"°",netMountDialogTitle:"Mount network volume",protocol:"Protocol",host:"Host",port:"Port",user:"User",pass:"Password",kindUnknown:"Unknown",kindFolder:"Folder",kindAlias:"Alias",kindAliasBroken:"Broken alias",kindApp:"Application",kindPostscript:"Postscript document",kindMsOffice:"Microsoft Office document",kindMsWord:"Microsoft Word document",kindMsExcel:"Microsoft Excel document",kindMsPP:"Microsoft Powerpoint presentation",kindOO:"Open Office document",kindAppFlash:"Flash application",kindPDF:"Portable Document Format (PDF)",kindTorrent:"Bittorrent file",kind7z:"7z archive",kindTAR:"TAR archive",kindGZIP:"GZIP archive",kindBZIP:"BZIP archive",kindXZ:"XZ archive",kindZIP:"ZIP archive",kindRAR:"RAR archive",kindJAR:"Java JAR file",kindTTF:"True Type font",kindOTF:"Open Type font",kindRPM:"RPM package",kindText:"Text document",kindTextPlain:"Plain text",kindPHP:"PHP source",kindCSS:"Cascading style sheet",kindHTML:"HTML document",kindJS:"Javascript source",kindRTF:"Rich Text Format",kindC:"C source",kindCHeader:"C header source",kindCPP:"C++ source",kindCPPHeader:"C++ header source",kindShell:"Unix shell script",kindPython:"Python source",kindJava:"Java source",kindRuby:"Ruby source",kindPerl:"Perl script",kindSQL:"SQL source",kindXML:"XML document",kindAWK:"AWK source",kindCSV:"Comma separated values",kindDOCBOOK:"Docbook XML document",kindImage:"Image",kindBMP:"BMP image",kindJPEG:"JPEG image",kindGIF:"GIF Image",kindPNG:"PNG Image",kindTIFF:"TIFF image",kindTGA:"TGA image",kindPSD:"Adobe Photoshop image",kindXBITMAP:"X bitmap image",kindPXM:"Pixelmator image",kindAudio:"Audio media",kindAudioMPEG:"MPEG audio",kindAudioMPEG4:"MPEG-4 audio",kindAudioMIDI:"MIDI audio",kindAudioOGG:"Ogg Vorbis audio",kindAudioWAV:"WAV audio",AudioPlaylist:"MP3 playlist",kindVideo:"Video media",kindVideoDV:"DV movie",kindVideoMPEG:"MPEG movie",kindVideoMPEG4:"MPEG-4 movie",kindVideoAVI:"AVI movie",kindVideoMOV:"Quick Time movie",kindVideoWM:"Windows Media movie",kindVideoFlash:"Flash movie",kindVideoMKV:"Matroska movie",kindVideoOGG:"Ogg movie"}}),e.fn.elfinderbutton=function(t){return this.each(function(){var n,i="class",r=t.fm,s=r.res(i,"disabled"),o=r.res(i,"active"),a=r.res(i,"hover"),l="elfinder-button-menu-item",c="elfinder-button-menu-item-selected",d=e(this).addClass("ui-state-default elfinder-button").attr("title",t.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+t.name+'"/>').hover(function(e){!d.is("."+s)&&d["mouseleave"==e.type?"removeClass":"addClass"](a)
}).click(function(e){d.is("."+s)||(n&&t.variants.length>1?(n.is(":hidden")&&t.fm.getUI().click(),e.stopPropagation(),n.slideToggle(100)):t.exec())}),u=function(){n.hide()};e.isArray(t.variants)&&(d.addClass("elfinder-menubutton"),n=e('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(d).zIndex(12+d.zIndex()).delegate("."+l,"hover",function(){e(this).toggleClass(a)}).delegate("."+l,"click",function(n){n.preventDefault(),n.stopPropagation(),d.removeClass(a),t.exec(t.fm.selected(),e(this).data("value"))}),t.fm.bind("disable select",u).getUI().click(u),t.change(function(){n.html(""),e.each(t.variants,function(i,r){n.append(e('<div class="'+l+'">'+r[1]+"</div>").data("value",r[0]).addClass(r[0]==t.value?c:""))})})),t.change(function(){t.disabled()?d.removeClass(o+" "+a).addClass(s):(d.removeClass(s),d[t.active()?"addClass":"removeClass"](o))}).change()})},e.fn.elfindercontextmenu=function(t){return this.each(function(){var n=e(this).addClass("ui-helper-reset ui-widget ui-state-default ui-corner-all elfinder-contextmenu elfinder-contextmenu-"+t.direction).hide().appendTo("body").delegate(".elfinder-contextmenu-item","mouseenter mouseleave",function(){e(this).toggleClass("ui-state-hover")}),i="ltr"==t.direction?"left":"right",r=e.extend({},t.options.contextmenu),s='<div class="elfinder-contextmenu-item"><span class="elfinder-button-icon {icon} elfinder-contextmenu-icon"/><span>{label}</span></div>',o=function(t,n,i){return e(s.replace("{icon}",n?"elfinder-button-icon-"+n:"").replace("{label}",t)).click(function(e){e.stopPropagation(),e.stopPropagation(),i()})},a=function(r,s){var o=e(window),a=n.outerWidth(),l=n.outerHeight(),c=o.width(),d=o.height(),u=o.scrollTop(),h=o.scrollLeft(),p=t.UA.Touch?10:0,f={top:(d>s+p+l?s+p:s-p-l>0?s-p-l:s+p)+u,left:(c>r+p+a?r+p:r-p-a)+h,"z-index":100+t.getUI("workzone").zIndex()};n.css(f).show(),f={"z-index":f["z-index"]+10},f[i]=parseInt(n.width()),n.find(".elfinder-contextmenu-sub").css(f)},l=function(){n.hide().empty()},c=function(i,s){var a=!1;e.each(r[i]||[],function(i,r){var c,d,u,h;if("|"==r&&a)return n.append('<div class="elfinder-contextmenu-separator"/>'),void(a=!1);if(c=t.command(r),c&&-1!=c.getstate(s)){if(c.variants){if(!c.variants.length)return;d=o(c.title,c.name,function(){}),u=e('<div class="ui-corner-all elfinder-contextmenu-sub"/>').appendTo(d.append('<span class="elfinder-contextmenu-arrow"/>')),h=function(){var t,n,i,r=e(window),s=e(d).offset().left,o=e(d).offset().top,a=e(d).outerWidth(),l=u.outerWidth(),c=u.outerHeight(),h=r.scrollLeft()+r.width(),p=r.scrollTop()+r.height(),f=5;i=s+a+l+f-h,t=i>0?a-i:a,i=o+5+c+f-p,n=i>0?5-i:5;var m={left:t,top:n};u.css(m).toggle()},d.addClass("elfinder-contextmenu-group").hover(function(){h()}).on("touchstart",function(e){return d.hasClass("ui-state-hover")?!0:(d.addClass("ui-state-hover"),e.preventDefault(),h(),!1)}),e.each(c.variants,function(t,n){u.append(e('<div class="elfinder-contextmenu-item"><span>'+n[1]+"</span></div>").on("click touchstart",function(e){e.stopPropagation(),l(),c.exec(s,n[0])}))})}else d=o(c.title,c.name,function(){l(),c.exec(s)});n.append(d),a=!0}})},d=function(t){e.each(t,function(e,t){var i;t.label&&"function"==typeof t.callback&&(i=o(t.label,t.icon,function(){l(),t.callback()}),n.append(i))})};t.one("load",function(){t.bind("contextmenu",function(e){var t=e.data;l(),t.type&&t.targets?c(t.type,t.targets):t.raw&&d(t.raw),n.children().length&&a(t.x,t.y)}).one("destroy",function(){n.remove()}).bind("disable select",l).getUI().click(l)})})},e.fn.elfindercwd=function(t,n){return this.not(".elfinder-cwd").each(function(){var i="list"==t.viewType,r="select."+t.namespace,s="unselect."+t.namespace,o="disable."+t.namespace,a="enable."+t.namespace,l="class",c=t.res(l,"cwdfile"),d="."+c,u="ui-selected",h=t.res(l,"disabled"),p=t.res(l,"draggable"),f=t.res(l,"droppable"),m=t.res(l,"hover"),g=t.res(l,"adroppable"),v=c+"-tmp",b=t.options.loadTmbs>0?t.options.loadTmbs:5,y="",w=[],x={icon:'<div id="{hash}" class="'+c+' {permsclass} {dirclass} ui-corner-all" title="{tooltip}"><div class="elfinder-cwd-file-wrapper ui-corner-all"><div class="elfinder-cwd-icon {mime} ui-corner-all" unselectable="on" {style}/>{marker}</div><div class="elfinder-cwd-filename" title="{name}">{name}</div></div>',row:'<tr id="{hash}" class="'+c+' {permsclass} {dirclass}" title="{tooltip}"><td><div class="elfinder-cwd-file-wrapper"><span class="elfinder-cwd-icon {mime}"/>{marker}<span class="elfinder-cwd-filename">{name}</span></div></td><td>{perms}</td><td>{date}</td><td>{size}</td><td>{kind}</td></tr>'},_=t.res("tpl","perms"),C=t.res("tpl","symlink"),k={permsclass:function(e){return t.perms2class(e)},perms:function(e){return t.formatPermissions(e)},dirclass:function(e){return"directory"==e.mime?"directory":""},mime:function(e){return t.mime2class(e.mime)},size:function(e){return t.formatSize(e.size)},date:function(e){return t.formatDate(e)},kind:function(e){return t.mime2kind(e)},marker:function(e){return(e.alias||"symlink-broken"==e.mime?C:"")+(e.read&&e.write?"":_)},tooltip:function(e){var n=t.formatDate(e)+(e.size>0?" ("+t.formatSize(e.size)+")":"");return e.tooltip?t.escape(e.tooltip).replace(/"/g,"&quot;").replace(/\r/g,"&#13;")+"&#13;"+n:n}},T=function(e){return e.name=t.escape(e.name),x[i?"row":"icon"].replace(/\{([a-z]+)\}/g,function(t,n){return k[n]?k[n](e):e[n]?e[n]:""})},S=!1,I=function(t,n){function o(e,t){return e[t+"All"]("[id]:not(."+h+"):not(.elfinder-cwd-parent):first")}var a,l,c,d,p,f=e.ui.keyCode,m=t==f.LEFT||t==f.UP,g=W.find("[id]."+u);if(g.length)if(a=g.filter(m?":first":":last"),c=o(a,m?"prev":"next"),c.length)if(i||t==f.LEFT||t==f.RIGHT)l=c;else if(d=a.position().top,p=a.position().left,l=a,m){do l=l.prev("[id]");while(l.length&&!(l.position().top<d&&l.position().left<=p));l.is("."+h)&&(l=o(l,"next"))}else{do l=l.next("[id]");while(l.length&&!(l.position().top>d&&l.position().left>=p));l.is("."+h)&&(l=o(l,"prev")),l.length||(c=W.find("[id]:not(."+h+"):last"),c.position().top>d&&(l=c))}else l=a;else l=W.find("[id]:not(."+h+"):not(.elfinder-cwd-parent):"+(m?"last":"first"));l&&l.length&&!l.is(".elfinder-cwd-parent")&&(n?l=a.add(a[m?"prevUntil":"nextUntil"]("#"+l.attr("id"))).add(l):g.trigger(s),l.trigger(r),R(l.filter(m?":first":":last")),P())},D=[],M=function(e){W.find("#"+e).trigger(r)},A=function(){var n=t.cwd().hash;W.find("[id]:not(."+u+"):not(.elfinder-cwd-parent)").trigger(r),D=e.map(t.files(),function(e){return e.phash==n?e.hash:null}),P()},E=function(){D=[],W.find("[id]."+u).trigger(s),P()},P=function(){t.trigger("select",{selected:D})},R=function(e){var t=e.position().top,n=e.outerHeight(!0),i=V.scrollTop(),r=V.innerHeight();t+n>i+r?V.scrollTop(parseInt(t+n-r)):i>t&&V.scrollTop(t)},F=[],j=function(e){for(var t=F.length;t--;)if(F[t].hash==e)return t;return-1},$="scroll."+t.namespace,N=function(){var n,s=[],o=!1,a=[],l={},c=W.find("[id]:last"),d=!c.length,h=i?W.children("table").children("tbody"):W;if(!F.length)return V.unbind($);for(;(!c.length||c.position().top<=V.height()+V.scrollTop()+t.options.showThreshold)&&(n=F.splice(0,t.options.showFiles)).length;)s=e.map(n,function(e){return e.hash&&e.name?("directory"==e.mime&&(o=!0),e.tmb&&(1===e.tmb?a.push(e.hash):l[e.hash]=e.tmb),T(e)):null}),h.append(s.join("")),c=W.find("[id]:last"),d&&W.scrollTop(0);L(l),a.length&&B(a),o&&z(),D.length&&h.find("[id]:not(."+u+"):not(.elfinder-cwd-parent)").each(function(){var t=this.id;-1!==e.inArray(t,D)&&e(this).trigger(r)})},O=e.extend({},t.droppable,{over:function(n,i){var r=t.cwd().hash;e.each(i.helper.data("files"),function(e,n){return t.file(n).phash==r?(W.removeClass(g),!1):void 0})}}),z=function(){setTimeout(function(){W.find(".directory:not(."+f+",.elfinder-na,.elfinder-ro)").droppable(t.droppable)},20)},L=function(n){var i,r=t.option("tmbUrl"),s=!0;return e.each(n,function(t,n){var o=W.find("#"+t);o.length?!function(t,n){e("<img/>").load(function(){t.find(".elfinder-cwd-icon").css("background","url('"+n+"') center center no-repeat")}).attr("src",n)}(o,r+n):(s=!1,-1!=(i=j(t))&&(F[i].tmb=n))}),s},B=function(e){var n=[];return t.oldAPI?void t.request({data:{cmd:"tmb",current:t.cwd().hash},preventFail:!0}).done(function(e){L(e.images||[])&&e.tmb&&B()}):(n=n=e.splice(0,b),void(n.length&&t.request({data:{cmd:"tmb",targets:n},preventFail:!0}).done(function(t){L(t.images||[])&&B(e)})))},H=function(e){for(var n,r,s,o,a=i?W.find("tbody"):W,l=e.length,c=[],d={},u=!1,h=function(e){for(var n,i=W.find("[id]:first");i.length;){if(n=t.file(i.attr("id")),!i.is(".elfinder-cwd-parent")&&n&&t.compare(e,n)<0)return i;i=i.next("[id]")}},p=function(e){var n,i=F.length;for(n=0;i>n;n++)if(t.compare(e,F[n])<0)return n;return i||-1};l--;)n=e[l],r=n.hash,W.find("#"+r).length||((s=h(n))&&s.length?s.before(T(n)):(o=p(n))>=0?F.splice(o,0,n):a.append(T(n)),W.find("#"+r).length&&("directory"==n.mime?u=!0:n.tmb&&(1===n.tmb?c.push(r):d[r]=n.tmb)));L(d),c.length&&B(c),u&&z()},U=function(e){for(var n,i,r,s=e.length;s--;)if(n=e[s],(i=W.find("#"+n)).length)try{i.detach()}catch(o){t.debug("error",o)}else-1!=(r=j(n))&&F.splice(r,1)},q={name:t.i18n("name"),perm:t.i18n("perms"),mod:t.i18n("modify"),size:t.i18n("size"),kind:t.i18n("kind")},G=function(r,s){var o=t.cwd().hash;E();try{W.children("table,"+d).remove()}catch(a){W.html("")}if(W.removeClass("elfinder-cwd-view-icons elfinder-cwd-view-list").addClass("elfinder-cwd-view-"+(i?"list":"icons")),V[i?"addClass":"removeClass"]("elfinder-cwd-wrapper-list"),i&&W.html('<table><thead><tr class="ui-state-default"><td class="elfinder-cwd-view-th-name">'+q.name+'</td><td class="elfinder-cwd-view-th-perm">'+q.perm+'</td><td class="elfinder-cwd-view-th-date">'+q.mod+'</td><td class="elfinder-cwd-view-th-size">'+q.size+'</td><td class="elfinder-cwd-view-th-kind">'+q.kind+"</td></tr></thead><tbody/></table>"),F=e.map(r,function(e){return s||e.phash==o?e:null}),F=t.sortFiles(F),V.bind($,N).trigger($),o=t.cwd().phash,n.oldSchool&&o&&!y){var l=e.extend(!0,{},t.file(o),{name:"..",mime:"directory"});l=e(T(l)).addClass("elfinder-cwd-parent").bind("mousedown click mouseup touchstart touchmove touchend dblclick mouseenter",function(e){e.preventDefault(),e.stopPropagation()}).dblclick(function(){t.exec("open",this.id)}),(i?W.find("tbody"):W).prepend(l)}},W=e(this).addClass("ui-helper-clearfix elfinder-cwd").attr("unselectable","on").delegate(d,"click."+t.namespace,function(n){var i,o=this.id?e(this):e(this).parents("[id]:first"),a=o.prevAll("."+u+":first"),l=o.nextAll("."+u+":first"),c=a.length,d=l.length;if(W.data("longtap"))return void n.stopPropagation();if(n.stopImmediatePropagation(),n.shiftKey&&(c||d))i=c?o.prevUntil("#"+a.attr("id")):o.nextUntil("#"+l.attr("id")),i.add(o).trigger(r);else if(n.ctrlKey||n.metaKey)o.trigger(o.is("."+u)?s:r);else{if(o.data("touching")&&o.is("."+u))return o.data("touching",null),t.dblclick({file:this.id}),void E();E(),o.trigger(r)}P()}).delegate(d,"dblclick."+t.namespace,function(){t.dblclick({file:this.id})}).delegate(d,"touchstart."+t.namespace,function(n){if(n.stopPropagation(),"INPUT"!=n.target.nodeName){var i=this.id?e(this):e(this).parents("[id]:first"),o=i.prevAll("."+u+":first").length+i.nextAll("."+u+":first").length;W.data("longtap",null),i.data("touching",!0),i.data("tmlongtap",setTimeout(function(){W.data("longtap",!0),i.is("."+u)&&o>0?(i.trigger(s),P()):("TD"!=n.target.nodeName||t.selected().length>0)&&(i.trigger(r),P(),i.trigger(t.trigger("contextmenu",{type:"files",targets:t.selected(),x:n.originalEvent.touches[0].clientX,y:n.originalEvent.touches[0].clientY})))},500))}}).delegate(d,"touchmove."+t.namespace+" touchend."+t.namespace,function(t){if(t.stopPropagation(),"INPUT"!=t.target.nodeName){var n=this.id?e(this):e(this).parents("[id]:first");clearTimeout(n.data("tmlongtap"))}}).delegate(d,"mouseenter."+t.namespace,function(){var n=e(this),r=i?n:n.children();n.is("."+v)||r.is("."+p+",."+h)||r.draggable(t.draggable)}).delegate(d,r,function(){var t=e(this),n=t.attr("id");S||t.is("."+h)||(t.addClass(u).children().addClass(m),-1===e.inArray(n,D)&&D.push(n))}).delegate(d,s,function(){var t,n=e(this),i=n.attr("id");S||(e(this).removeClass(u).children().removeClass(m),t=e.inArray(i,D),-1!==t&&D.splice(t,1))}).delegate(d,o,function(){var t=e(this).removeClass(u).addClass(h),n=(i?t:t.children()).removeClass(m);t.is("."+f)&&t.droppable("disable"),n.is("."+p)&&n.draggable("disable"),!i&&n.removeClass(h)}).delegate(d,a,function(){var t=e(this).removeClass(h),n=i?t:t.children();t.is("."+f)&&t.droppable("enable"),n.is("."+p)&&n.draggable("enable")}).delegate(d,"scrolltoview",function(){R(e(this))}).delegate(d,"mouseenter."+t.namespace+" mouseleave."+t.namespace,function(n){t.trigger("hover",{hash:e(this).attr("id"),type:n.type}),e(this).toggleClass("ui-state-hover")}).bind("contextmenu."+t.namespace,function(n){var i=e(n.target).closest("."+c);i.length&&("TD"!=n.target.nodeName||e.inArray(i.get(0).id,t.selected())>-1)&&(n.stopPropagation(),n.preventDefault(),i.is("."+h)||i.data("touching")||(i.is("."+u)||(E(),i.trigger(r),P()),t.trigger("contextmenu",{type:"files",targets:t.selected(),x:n.clientX,y:n.clientY})))}).bind("click."+t.namespace,function(e){return W.data("longtap")?void e.stopPropagation():void(!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&E())}).selectable({filter:d,stop:P,delay:250,selected:function(t,n){e(n.selected).trigger(r)},unselected:function(t,n){e(n.unselected).trigger(s)}}).droppable(O).bind("create."+t.namespace,function(t,n){var r=i?W.find("tbody"):W,s=r.find(".elfinder-cwd-parent"),n=e(T(n)).addClass(v);E(),s.length?s.after(n):r.prepend(n),W.scrollTop(0)}).bind("unselectall",E).bind("selectfile",function(e,t){W.find("#"+t).trigger(r),P()}),V=e('<div class="elfinder-cwd-wrapper"/>').bind("contextmenu",function(e){e.preventDefault(),t.trigger("contextmenu",{type:"cwd",targets:[t.cwd().hash],x:e.clientX,y:e.clientY})}).bind("touchstart."+t.namespace,function(n){var i=e(this);W.data("longtap",null),i.data("touching",!0),i.data("tmlongtap",setTimeout(function(){W.data("longtap",!0),t.trigger("contextmenu",{type:"cwd",targets:[t.cwd().hash],x:n.originalEvent.touches[0].clientX,y:n.originalEvent.touches[0].clientY})},500))}).bind("touchmove."+t.namespace+" touchend."+t.namespace,function(){clearTimeout(e(this).data("tmlongtap"))}),Y=function(){var t=0;V.siblings(".elfinder-panel:visible").each(function(){t+=e(this).outerHeight(!0)}),V.height(X.height()-t)},J=e(this).parent().resize(Y),X=J.children(".elfinder-workzone").append(V.append(this));e("body").on("touchstart touchmove touchend",function(){}),t.dragUpload&&(V[0].addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation(),V.addClass(g)},!1),V[0].addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),e.target==W[0]&&V.removeClass(g)},!1),V[0].addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),V[0].addEventListener("drop",function(e){e.preventDefault(),V.removeClass(g),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&t.exec("upload",{files:e.dataTransfer.files})},!1)),t.bind("open",function(e){G(e.data.files)}).bind("search",function(e){w=e.data.files,G(w,!0)}).bind("searchend",function(){w=[],y&&(y="",G(t.files()))}).bind("searchstart",function(e){y=e.data.query}).bind("sortchange",function(){G(y?w:t.files(),!!y)}).bind("viewchange",function(){var n=t.selected(),r="list"==t.storage("view");r!=i&&(i=r,G(y?w:t.files(),!!y),e.each(n,function(e,t){M(t)}),P()),Y()}).add(function(n){var i=t.cwd().hash,r=y?e.map(n.data.added||[],function(e){return-1===e.name.indexOf(y)?null:e}):e.map(n.data.added||[],function(e){return e.phash==i?e:null});H(r)}).change(function(n){var i=t.cwd().hash,r=t.selected();y?e.each(n.data.changed||[],function(t,n){U([n.hash]),-1!==n.name.indexOf(y)&&(H([n]),-1!==e.inArray(n.hash,r)&&M(n.hash))}):e.each(e.map(n.data.changed||[],function(e){return e.phash==i?e:null}),function(t,n){U([n.hash]),H([n]),-1!==e.inArray(n.hash,r)&&M(n.hash)}),P()}).remove(function(e){U(e.data.removed||[]),P()}).bind("open add search searchend",function(){W.css("height","auto"),W.outerHeight(!0)<V.height()&&W.height(V.height()-(W.outerHeight(!0)-W.height())-2)}).dragstart(function(t){var n=e(t.data.target),i=t.data.originalEvent;n.is(d)&&(n.is("."+u)||(!(i.ctrlKey||i.metaKey||i.shiftKey)&&E(),n.trigger(r),P()),W.droppable("disable")),W.selectable("disable").removeClass(h),S=!0}).dragstop(function(){W.selectable("enable").droppable("enable"),S=!1}).bind("lockfiles unlockfiles",function(e){for(var t="lockfiles"==e.type?o:a,n=e.data.files||[],i=n.length;i--;)W.find("#"+n[i]).trigger(t);P()}).bind("mkdir mkfile duplicate upload rename archive extract",function(n){var i=t.cwd().hash;E(),e.each(n.data.added||[],function(e,t){t&&t.phash==i&&M(t.hash)}),P()}).shortcut({pattern:"ctrl+a",description:"selectall",callback:A}).shortcut({pattern:"left right up down shift+left shift+right shift+up shift+down",description:"selectfiles",type:"keydown",callback:function(e){I(e.keyCode,e.shiftKey)}}).shortcut({pattern:"home",description:"selectffile",callback:function(){E(),R(W.find("[id]:first").trigger(r)),P()}}).shortcut({pattern:"end",description:"selectlfile",callback:function(){E(),R(W.find("[id]:last").trigger(r)),P()}})}),this},e.fn.elfinderdialog=function(t){var n;return"string"==typeof t&&(n=this.closest(".ui-dialog")).length&&("open"==t?"none"==n.css("display")&&n.fadeIn(120,function(){n.trigger("open")}):"close"==t?"none"!=n.css("display")&&n.hide().trigger("close"):"destroy"==t?n.hide().remove():"toTop"==t&&n.trigger("totop")),t=e.extend({},e.fn.elfinderdialog.defaults,t),this.filter(":not(.ui-dialog-content)").each(function(){var n,i=e(this).addClass("ui-dialog-content ui-widget-content"),r=i.parent(),s="elfinder-dialog-active",o="elfinder-dialog",a="elfinder-dialog-notify",l="ui-state-hover",c=parseInt(1e6*Math.random()),d=r.children(".elfinder-overlay"),u=e('<div class="ui-dialog-buttonset"/>'),h=e('<div class=" ui-helper-clearfix ui-dialog-buttonpane ui-widget-content"/>').append(u),p=e('<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable std42-dialog  '+o+" "+t.cssClass+'"/>').hide().append(i).appendTo(r).draggable({handle:".ui-dialog-titlebar",containment:"document"}).css({width:t.width,height:t.height}).mousedown(function(t){t.stopPropagation(),e(document).mousedown(),p.is("."+s)||(r.find("."+o+":visible").removeClass(s),p.addClass(s).zIndex(f()+1))}).bind("open",function(){p.trigger("totop"),"function"==typeof t.open&&e.proxy(t.open,i[0])(),p.is("."+a)||r.find("."+o+":visible").not("."+a).each(function(){var t=e(this),n=parseInt(t.css("top")),i=parseInt(t.css("left")),r=parseInt(p.css("top")),s=parseInt(p.css("left"));t[0]==p[0]||n!=r&&i!=s||p.css({top:n+10+"px",left:i+10+"px"})})}).bind("close",function(){var n=r.find(".elfinder-dialog:visible"),s=f();e(this).data("modal")&&d.elfinderoverlay("hide"),n.length?n.each(function(){var t=e(this);return t.zIndex()>=s?(t.trigger("totop"),!1):void 0}):setTimeout(function(){r.mousedown().click()},10),"function"==typeof t.close?e.proxy(t.close,i[0])():t.destroyOnClose&&p.hide().remove()}).bind("totop",function(){e(this).mousedown().find(".ui-button:first").focus().end().find(":text:first").focus(),e(this).data("modal")&&d.elfinderoverlay("show"),d.zIndex(e(this).zIndex())}).data({modal:t.modal}),f=function(){var t=r.zIndex()+10;return r.find("."+o+":visible").each(function(){var n;this!=p[0]&&(n=e(this).zIndex(),n>t&&(t=n))}),t};t.position||(n=parseInt((r.height()-p.outerHeight())/2-42),t.position={top:(n>0?n:0)+"px",left:parseInt((r.width()-p.outerWidth())/2)+"px"}),p.css(t.position),t.closeOnEscape&&e(document).bind("keyup."+c,function(t){t.keyCode==e.ui.keyCode.ESCAPE&&p.is("."+s)&&(i.elfinderdialog("close"),e(document).unbind("keyup."+c))}),p.prepend(e('<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">'+t.title+"</div>").prepend(e('<a href="#" class="ui-dialog-titlebar-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').mousedown(function(e){e.preventDefault(),i.elfinderdialog("close")}))),e.each(t.buttons,function(t,n){var r=e('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">'+t+"</span></button>").click(e.proxy(n,i[0])).hover(function(t){e(this)["mouseenter"==t.type?"focus":"blur"]()}).focus(function(){e(this).addClass(l)}).blur(function(){e(this).removeClass(l)}).keydown(function(t){var n;t.keyCode==e.ui.keyCode.ENTER?e(this).click():t.keyCode==e.ui.keyCode.TAB&&(n=e(this).next(".ui-button"),n.length?n.focus():e(this).parent().children(".ui-button:first").focus())});u.append(r)}),u.children().length&&p.append(h),t.resizable&&e.fn.resizable&&p.resizable({minWidth:t.minWidth,minHeight:t.minHeight,alsoResize:this}),"function"==typeof t.create&&e.proxy(t.create,this)(),t.autoOpen&&i.elfinderdialog("open")}),this},e.fn.elfinderdialog.defaults={cssClass:"",title:"",modal:!1,resizable:!0,autoOpen:!0,closeOnEscape:!0,destroyOnClose:!1,buttons:{},position:null,width:320,height:"auto",minWidth:200,minHeight:110},e.fn.elfindernavbar=function(t,n){return this.not(".elfinder-navbar").each(function(){var i,r=e(this).addClass("ui-state-default elfinder-navbar"),s=r.parent().resize(function(){r.height(o.height()-a)}),o=s.children(".elfinder-workzone").append(r),a=r.outerHeight()-r.height(),l="ltr"==t.direction;e.fn.resizable&&(i=r.resizable({handles:l?"e":"w",minWidth:n.minWidth||150,maxWidth:n.maxWidth||500}).bind("resize scroll",function(){var e=t.UA.Opera&&r.scrollLeft()?20:2;i.css({top:parseInt(r.scrollTop())+"px",left:l?"auto":parseInt(r.scrollLeft()+e),right:l?-1*parseInt(r.scrollLeft()-e):"auto"})}).find(".ui-resizable-handle").zIndex(r.zIndex()+10),l||r.resize(function(){r.css("left",null).css("right",0)}),t.one("open",function(){setTimeout(function(){r.trigger("resize")},150)}))}),this},e.fn.elfinderoverlay=function(t){if(this.filter(":not(.elfinder-overlay)").each(function(){t=e.extend({},t),e(this).addClass("ui-widget-overlay elfinder-overlay").hide().mousedown(function(e){e.preventDefault(),e.stopPropagation()}).data({cnt:0,show:"function"==typeof t.show?t.show:function(){},hide:"function"==typeof t.hide?t.hide:function(){}})}),"show"==t){var n=this.eq(0),i=n.data("cnt")+1,r=n.data("show");n.data("cnt",i),n.is(":hidden")&&(n.zIndex(n.parent().zIndex()+1),n.show(),r())}if("hide"==t){var n=this.eq(0),i=n.data("cnt")-1,s=n.data("hide");n.data("cnt",i),0==i&&n.is(":visible")&&(n.hide(),s())}return this},e.fn.elfinderpanel=function(t){return this.each(function(){var n=e(this).addClass("elfinder-panel ui-state-default ui-corner-all"),i="margin-"+("ltr"==t.direction?"left":"right");t.one("load",function(){var e=t.getUI("navbar");n.css(i,parseInt(e.outerWidth(!0))),e.bind("resize",function(){n.is(":visible")&&n.css(i,parseInt(e.outerWidth(!0)))})})})},e.fn.elfinderpath=function(t){return this.each(function(){var n=e(this).addClass("elfinder-path").html("&nbsp;").delegate("a","click",function(n){var i=e(this).attr("href").substr(1);n.preventDefault(),i!=t.cwd().hash&&t.exec("open",i)}).prependTo(t.getUI("statusbar").show());t.bind("open searchend",function(){var i=[];e.each(t.parents(t.cwd().hash),function(e,n){i.push('<a href="#'+n+'">'+t.escape(t.file(n).name)+"</a>")}),n.html(i.join(t.option("separator")))}).bind("search",function(){n.html(t.i18n("searcresult"))})})},e.fn.elfinderplaces=function(t,n){return this.each(function(){var i=[],r="class",s=t.res(r,"navdir"),o=t.res(r,"navcollapse"),a=t.res(r,"navexpand"),l=(t.res(r,"hover"),t.res(r,"treeroot")),c=t.res("tpl","navdir"),d=t.res("tpl","perms"),u=e(t.res("tpl","navspinner")),h=function(e){return e.substr(6)},p=function(e){return"place-"+e},f=function(){t.storage("places",i.join(","))},m=function(n){return e(c.replace(/\{id\}/,p(n.hash)).replace(/\{name\}/,t.escape(n.name)).replace(/\{cssclass\}/,t.perms2class(n)).replace(/\{permissions\}/,n.read&&n.write?"":d).replace(/\{symlink\}/,""))},g=function(n){t.files().hasOwnProperty(n.hash)||t.trigger("tree",{tree:[n]});var r=m(n);w.children().length&&e.each(w.children(),function(){var t=e(this);return n.name.localeCompare(t.children("."+s).text())<0?!r.insertBefore(t):void 0}),i.push(n.hash),!r.parent().length&&w.append(r),y.addClass(o),r.draggable({appendTo:"body",revert:!1,helper:function(){var n=e(this);return n.children().removeClass("ui-state-hover"),e('<div class="elfinder-place-drag elfinder-'+t.direction+'"/>').append(n.clone()).data("hash",h(n.children(":first").attr("id")))},start:function(){e(this).hide()},stop:function(t,n){var i=x.offset().top,r=x.offset().left,s=x.width(),o=x.height(),a=t.clientX,l=t.clientY;a>r&&r+s>a&&l>i&&l+o>l?e(this).show():(v(n.helper.data("hash")),f())}})},v=function(t){var n=e.inArray(t,i);-1!==n&&(i.splice(n,1),w.find("#"+p(t)).parent().remove(),!w.children().length&&y.removeClass(o+" "+a))},b=m({hash:"root-"+t.namespace,name:t.i18n(n.name,"places"),read:!0,write:!0}),y=b.children("."+s).addClass(l).click(function(){y.is("."+o)&&(x.toggleClass(a),w.slideToggle(),t.storage("placesState",x.is("."+a)?1:0))}),w=b.children("."+t.res(r,"navsubtree")),x=e(this).addClass(t.res(r,"tree")+" elfinder-places ui-corner-all").hide().append(b).appendTo(t.getUI("navbar")).delegate("."+s,"hover",function(){e(this).toggleClass("ui-state-hover")}).delegate("."+s,"click",function(){t.exec("open",e(this).attr("id").substr(6))}).delegate("."+s+":not(."+l+")","contextmenu",function(n){var i=e(this).attr("id").substr(6);n.preventDefault(),t.trigger("contextmenu",{raw:[{label:t.i18n("rmFromPlaces"),icon:"rm",callback:function(){v(i),f()}}],x:n.clientX,y:n.clientY})}).droppable({tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-tree-dir,.elfinder-cwd-file",hoverClass:t.res("class","adroppable"),drop:function(n,r){var s=!0;e.each(r.helper.data("files"),function(n,r){var o=t.file(r);o&&"directory"==o.mime&&-1===e.inArray(o.hash,i)?g(o):s=!1}),f(),s&&r.helper.hide()}});t.one("load",function(){t.oldAPI||(x.show().parent().show(),i=e.map((t.storage("places")||"").split(","),function(e){return e||null}),i.length&&(y.prepend(u),t.request({data:{cmd:"info",targets:i},preventDefault:!0}).done(function(n){i=[],e.each(n.files,function(e,t){"directory"==t.mime&&g(t)}),f(),t.storage("placesState")>0&&y.click()}).always(function(){u.remove()})),t.remove(function(t){e.each(t.data.removed,function(e,t){v(t)}),f()}).change(function(t){e.each(t.data.changed,function(t,n){-1!==e.inArray(n.hash,i)&&(v(n.hash),"directory"==n.mime&&g(n))}),f()}).bind("sync",function(){i.length&&(y.prepend(u),t.request({data:{cmd:"info",targets:i},preventDefault:!0}).done(function(t){e.each(t.files||[],function(t,n){-1===e.inArray(n.hash,i)&&v(n.hash)}),f()}).always(function(){u.remove()}))}))})})},e.fn.elfindersearchbutton=function(t){return this.each(function(){var n=!1,i=e(this).hide().addClass("ui-widget-content elfinder-button "+t.fm.res("class","searchbtn")),r=function(){var i=e.trim(o.val());i?t.exec(i).done(function(){n=!0,o.focus()}):t.fm.trigger("searchend")},s=function(){o.val(""),n&&(n=!1,t.fm.trigger("searchend"))},o=e('<input type="text" size="42"/>').appendTo(i).keypress(function(e){e.stopPropagation()}).keydown(function(e){e.stopPropagation(),13==e.keyCode&&r(),27==e.keyCode&&(e.preventDefault(),s())});e('<span class="ui-icon ui-icon-search" title="'+t.title+'"/>').appendTo(i).click(r),e('<span class="ui-icon ui-icon-close"/>').appendTo(i).click(s),setTimeout(function(){if(i.parent().detach(),t.fm.getUI("toolbar").prepend(i.show()),t.fm.UA.ltIE7){var e=i.children("ltr"==t.fm.direction?".ui-icon-close":".ui-icon-search");e.css({right:"",left:parseInt(i.width())-e.outerWidth(!0)})}},200),t.fm.select(function(){o.blur()}).bind("searchend",function(){o.val("")}).shortcut({pattern:"ctrl+f f3",description:t.title,callback:function(){o.select().focus()}})})},e.fn.elfindersortbutton=function(t){return this.each(function(){var n=t.fm,i=t.name,r="class",s=n.res(r,"disabled"),o=n.res(r,"hover"),a="elfinder-button-menu-item",l=a+"-selected",c=l+"-asc",d=l+"-desc",u=e(this).addClass("ui-state-default elfinder-button elfinder-menubutton elfiner-button-"+i).attr("title",t.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+i+'"/>').hover(function(){!u.is("."+s)&&u.toggleClass(o)}).click(function(e){u.is("."+s)||(e.stopPropagation(),h.is(":hidden")&&t.fm.getUI().click(),h.slideToggle(100))}),h=e('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(u).zIndex(12+u.zIndex()).delegate("."+a,"hover",function(){e(this).toggleClass(o)}).delegate("."+a,"click",function(e){e.preventDefault(),e.stopPropagation(),f()}),p=function(){h.children(":not(:last)").removeClass(l+" "+c+" "+d).filter('[rel="'+n.sortType+'"]').addClass(l+" "+("asc"==n.sortOrder?c:d)),h.children(":last").toggleClass(l,n.sortStickFolders)},f=function(){h.hide()};e.each(n.sortRules,function(t){h.append(e('<div class="'+a+'" rel="'+t+'"><span class="ui-icon ui-icon-arrowthick-1-n"/><span class="ui-icon ui-icon-arrowthick-1-s"/>'+n.i18n("sort"+t)+"</div>").data("type",t))}),h.children().click(function(){var i=e(this).attr("rel");t.exec([],{type:i,order:i==n.sortType?"asc"==n.sortOrder?"desc":"asc":n.sortOrder,stick:n.sortStickFolders})}),e('<div class="'+a+" "+a+'-separated"><span class="ui-icon ui-icon-check"/>'+n.i18n("sortFoldersFirst")+"</div>").appendTo(h).click(function(){t.exec([],{type:n.sortType,order:n.sortOrder,stick:!n.sortStickFolders})}),n.bind("disable select",f).getUI().click(f),n.bind("sortchange",p),h.children().length>1?t.change(function(){u.toggleClass(s,t.disabled()),p()}).change():u.addClass(s)})},e.fn.elfinderstat=function(t){return this.each(function(){var n=e(this).addClass("elfinder-stat-size"),i=e('<div class="elfinder-stat-selected"/>'),r=t.i18n("size").toLowerCase(),s=t.i18n("items").toLowerCase(),o=t.i18n("selected"),a=function(i,o){var a=0,l=0;e.each(i,function(e,t){o&&t.phash!=o||(a++,l+=parseInt(t.size)||0)}),n.html(s+": "+a+", "+r+": "+t.formatSize(l))};t.getUI("statusbar").prepend(n).append(i).show(),t.bind("open reload add remove change searchend",function(){a(t.files(),t.cwd().hash)}).search(function(e){a(e.data.files)}).select(function(){var n=0,s=0,a=t.selectedFiles();return 1==a.length?(n=a[0].size,void i.html(t.escape(a[0].name)+(n>0?", "+t.formatSize(n):""))):(e.each(a,function(e,t){s++,n+=parseInt(t.size)||0}),void i.html(s?o+": "+s+", "+r+": "+t.formatSize(n):"&nbsp;"))})})},e.fn.elfindertoolbar=function(t,n){return this.not(".elfinder-toolbar").each(function(){var i,r,s,o,a=t._commands,l=e(this).addClass("ui-helper-clearfix ui-widget-header ui-corner-top elfinder-toolbar"),c=n||[],d=c.length;for(l.prev().length&&l.parent().prepend(this);d--;)if(c[d]){for(s=e('<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>'),i=c[d].length;i--;)(r=a[c[d][i]])&&(o="elfinder"+r.options.ui,e.fn[o]&&s.prepend(e("<div/>")[o](r)));s.children().length&&l.prepend(s),s.children(":gt(0)").before('<span class="ui-widget-content elfinder-toolbar-button-separator"/>')}l.children().length&&l.show()}),this},e.fn.elfindertree=function(t,n){var i=t.res("class","tree");return this.not("."+i).each(function(){var r="class",s=t.res(r,"treeroot"),o=n.openRootOnLoad,a=t.res(r,"navsubtree"),l=t.res(r,"treedir"),c=t.res(r,"navcollapse"),d=t.res(r,"navexpand"),u="elfinder-subtree-loaded",h=t.res(r,"navarrow"),p=t.res(r,"active"),f=t.res(r,"adroppable"),m=t.res(r,"hover"),g=t.res(r,"disabled"),v=t.res(r,"draggable"),b=t.res(r,"droppable"),y=function(e){var t=$.offset().left;return e>=t&&e<=t+$.width()},w=t.droppable.drop,x=e.extend(!0,{},t.droppable,{over:function(t){var n=e(this),i=m+" "+f;y(t.clientX)?(n.addClass(i),n.is("."+c+":not(."+d+")")&&setTimeout(function(){n.is("."+f)&&n.children("."+h).click()},500)):n.removeClass(i)},out:function(){e(this).removeClass(m+" "+f)},drop:function(e,t){y(e.clientX)&&w.call(this,e,t)}}),_=e(t.res("tpl","navspinner")),C=t.res("tpl","navdir"),k=t.res("tpl","perms"),T=t.res("tpl","symlink"),S={id:function(e){return t.navHash2Id(e.hash)
},cssclass:function(e){return(e.phash?"":s)+" "+l+" "+t.perms2class(e)+" "+(e.dirs&&!e.link?c:"")},permissions:function(e){return e.read&&e.write?"":k},symlink:function(e){return e.alias?T:""}},I=function(e){return e.name=t.escape(e.i18||e.name),C.replace(/(?:\{([a-z]+)\})/gi,function(t,n){return e[n]||(S[n]?S[n](e):"")})},D=function(t){return e.map(t||[],function(e){return"directory"==e.mime?e:null})},M=function(e){return e?j.find("#"+t.navHash2Id(e)).next("."+a):j},A=function(n,i){for(var r,s=n.children(":first");s.length;){if(r=t.file(t.navId2Hash(s.children("[id]").attr("id"))),(r=t.file(t.navId2Hash(s.children("[id]").attr("id"))))&&i.name.toLowerCase().localeCompare(r.name.toLowerCase())<0)return s;s=s.next()}return e("")},E=function(e){for(var n,i,r,s,o=e.length,a=[],l=e.length,c=!0;l--;)n=e[l],j.find("#"+t.navHash2Id(n.hash)).length||((r=M(n.phash)).length?(i=I(n),n.phash&&(s=A(r,n)).length?s.before(i):(r[c||n.phash?"append":"prepend"](i),c=!1)):a.push(n));return a.length&&a.length<o?E(a):void setTimeout(function(){R()},10)},P=function(){var e,i,r=t.cwd().hash,c=j.find("#"+t.navHash2Id(r));if(o&&(e=j.find("#"+t.navHash2Id(t.root())),e.is("."+u)&&e.addClass(d).next("."+a).show(),o=!1),c.is("."+p)||(j.find("."+l+"."+p).removeClass(p),c.addClass(p)),n.syncTree){if(c.length)return c.parentsUntil("."+s).filter("."+a).show().prev("."+l).addClass(d);if(t.newAPI){if(i=t.file(r),i&&i.phash&&j.find("#"+t.navHash2Id(i.phash)).length)return E([i]),P();t.request({data:{cmd:"parents",target:r},preventFail:!0}).done(function(e){var n=D(e.tree);E(n),F(n,u),r==t.cwd().hash&&P(!0)})}}},R=function(){j.find("."+l+":not(."+b+",.elfinder-ro,.elfinder-na)").droppable(x)},F=function(n,i){var r=i==u?"."+c+":not(."+u+")":":not(."+c+")";e.each(n,function(n,s){j.find("#"+t.navHash2Id(s.phash)+r).filter(function(){return e(this).next("."+a).children().length>0}).addClass(i)})},j=e(this).addClass(i).delegate("."+l,"hover",function(n){var i=e(this),r="mouseenter"==n.type;i.is("."+f+" ,."+g)||(r&&!i.is("."+s+",."+v+",.elfinder-na,.elfinder-wo")&&i.draggable(t.draggable),i.toggleClass(m,r))}).delegate("."+l,"dropover dropout drop",function(t){e(this)["dropover"==t.type?"addClass":"removeClass"](f+" "+m)}).delegate("."+l,"click",function(){var n=e(this),i=t.navId2Hash(n.attr("id")),r=t.file(i);t.trigger("searchend"),i==t.cwd().hash||n.is("."+g)?n.is("."+c)&&n.children("."+h).click():t.exec("open",r.thash||i)}).delegate("."+l+"."+c+" ."+h,"click",function(n){var i=e(this),r=i.parent("."+l),s=r.next("."+a);n.stopPropagation(),r.is("."+u)?(r.toggleClass(d),s.slideToggle()):(_.insertBefore(i),r.removeClass(c),t.request({cmd:"tree",target:t.navId2Hash(r.attr("id"))}).done(function(e){E(D(e.tree)),s.children().length&&(r.addClass(c+" "+d),s.slideDown()),P()}).always(function(){_.remove(),r.addClass(u)}))}).delegate("."+l,"contextmenu",function(n){n.preventDefault(),t.trigger("contextmenu",{type:"navbar",targets:[t.navId2Hash(e(this).attr("id"))],x:n.clientX,y:n.clientY})}),$=t.getUI("navbar").append(j).show();t.open(function(e){var t=e.data,n=D(t.files);t.init&&j.empty(),n.length&&(E(n),F(n,u)),P()}).add(function(e){var t=D(e.data.added);t.length&&(E(t),F(t,c))}).change(function(n){for(var i,r,s,o,c,h,p,f,m,g=D(n.data.changed),v=g.length;v--;)if(i=g[v],(r=j.find("#"+t.navHash2Id(i.hash))).length){if(i.phash){if(o=r.closest("."+a),c=M(i.phash),h=r.parent().next(),p=A(c,i),!c.length)continue;(c[0]!==o[0]||h.get(0)!==p.get(0))&&(p.length?p.before(r):c.append(r))}f=r.is("."+d),m=r.is("."+u),s=e(I(i)),r.replaceWith(s.children("."+l)),i.dirs&&(f||m)&&(r=j.find("#"+t.navHash2Id(i.hash)))&&r.next("."+a).children().length&&(f&&r.addClass(d),m&&r.addClass(u))}P(),R()}).remove(function(e){for(var n,i,r=e.data.removed,s=r.length;s--;)(n=j.find("#"+t.navHash2Id(r[s]))).length&&(i=n.closest("."+a),n.parent().detach(),i.children().length||i.hide().prev("."+l).removeClass(c+" "+d+" "+u))}).bind("search searchend",function(e){j.find("#"+t.navHash2Id(t.cwd().hash))["search"==e.type?"removeClass":"addClass"](p)}).bind("lockfiles unlockfiles",function(n){var i="lockfiles"==n.type,r=i?"disable":"enable",s=e.map(n.data.files||[],function(e){var n=t.file(e);return n&&"directory"==n.mime?e:null});e.each(s,function(e,n){var s=j.find("#"+t.navHash2Id(n));s.length&&(s.is("."+v)&&s.draggable(r),s.is("."+b)&&s.droppable(r),s[i?"addClass":"removeClass"](g))})})}),this},e.fn.elfinderuploadbutton=function(t){return this.each(function(){var n=e(this).elfinderbutton(t).unbind("click"),i=e("<form/>").appendTo(n),r=e('<input type="file" multiple="true"/>').change(function(){var n=e(this);n.val()&&(t.exec({input:n.remove()[0]}),r.clone(!0).appendTo(i))});i.append(r.clone(!0)),t.change(function(){i[t.disabled()?"hide":"show"]()}).change()})},e.fn.elfinderviewbutton=function(t){return this.each(function(){var n=e(this).elfinderbutton(t),i=n.children(".elfinder-button-icon");t.change(function(){var e="icons"==t.value;i.toggleClass("elfinder-button-icon-view-list",e),n.attr("title",t.fm.i18n(e?"viewlist":"viewicons"))})})},e.fn.elfinderworkzone=function(){var t="elfinder-workzone";return this.not("."+t).each(function(){var n=e(this).addClass(t),i=n.outerHeight(!0)-n.height(),r=n.parent();r.add(window).bind("resize",function(){var s=r.height();r.children(":visible:not(."+t+")").each(function(){var t=e(this);"absolute"!=t.css("position")&&"fixed"!=t.css("position")&&(s-=t.outerHeight(!0))}),n.height(s-i)})}),this},elFinder.prototype.commands.archive=function(){var t=this,n=t.fm,i=[];this.variants=[],this.disableOnSearch=!0,n.bind("open reload",function(){t.variants=[],e.each(i=n.option("archivers").create||[],function(e,i){t.variants.push([i,n.mime2kind(i)])}),t.change()}),this.getstate=function(){return!this._disabled&&i.length&&n.selected().length&&n.cwd().write?0:-1},this.exec=function(t,r){var s,o=this.files(t),a=o.length,l=r||i[0],c=n.cwd(),d=["errArchive","errPerm","errCreatingTempDir","errFtpDownloadFile","errFtpUploadFile","errFtpMkdir","errArchiveExec","errExtractExec","errRm"],u=e.Deferred().fail(function(e){e&&n.error(e)});if(!(this.enabled()&&a&&i.length&&-1!==e.inArray(l,i)))return u.reject();if(!c.write)return u.reject(d);for(s=0;a>s;s++)if(!o[s].read)return u.reject(d);return n.request({data:{cmd:"archive",targets:this.hashes(t),type:l},notify:{type:"archive",cnt:1},syncOnFail:!0})}},elFinder.prototype.commands.back=function(){this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+left backspace"}],this.getstate=function(){return this.fm.history.canBack()?0:-1},this.exec=function(){return this.fm.history.back()}},elFinder.prototype.commands.copy=function(){this.shortcuts=[{pattern:"ctrl+c ctrl+insert"}],this.getstate=function(t){var t=this.files(t),n=t.length;return n&&e.map(t,function(e){return e.phash&&e.read?e:null}).length==n?0:-1},this.exec=function(t){var n=this.fm,i=e.Deferred().fail(function(e){n.error(e)});return e.each(this.files(t),function(e,t){return t.read&&t.phash?void 0:!i.reject(["errCopy",t.name,"errPerm"])}),"rejected"==i.state()?i:i.resolve(n.clipboard(this.hashes(t)))}},elFinder.prototype.commands.cut=function(){this.shortcuts=[{pattern:"ctrl+x shift+insert"}],this.getstate=function(t){var t=this.files(t),n=t.length;return n&&e.map(t,function(e){return e.phash&&e.read&&!e.locked?e:null}).length==n?0:-1},this.exec=function(t){var n=this.fm,i=e.Deferred().fail(function(e){n.error(e)});return e.each(this.files(t),function(e,t){return t.read&&t.phash?t.locked?!i.reject(["errLocked",t.name]):void 0:!i.reject(["errCopy",t.name,"errPerm"])}),"rejected"==i.state()?i:i.resolve(n.clipboard(this.hashes(t),!0))}},elFinder.prototype.commands.download=function(){var t=this,n=this.fm,i=function(n){return e.map(t.files(n),function(e){return"directory"==e.mime?null:e})};this.shortcuts=[{pattern:"shift+enter"}],this.getstate=function(){var e=this.fm.selected(),t=e.length;return this._disabled||!t||n.UA.IE&&1!=t||t!=i(e).length?-1:0},this.exec=function(t){var n,r=this.fm,s=r.options.url,o=i(t),a=e.Deferred(),l="",c="";if(this.disabled())return a.reject();if(r.oldAPI)return r.error("errCmdNoSupport"),a.reject();for(c=e.param(r.options.customData||{}),c&&(c="&"+c),s+=-1===s.indexOf("?")?"?":"&",n=0;n<o.length;n++)l+='<iframe class="downloader" id="downloader-'+o[n].hash+'" style="display:none" src="'+s+"cmd=file&target="+o[n].hash+"&download=1"+c+'"/>';return e(l).appendTo("body").ready(function(){setTimeout(function(){e(l).each(function(){e("#"+e(this).attr("id")).remove()})},r.UA.Firefox?2e4+1e4*n:1e3)}),r.trigger("download",{files:o}),a.resolve(t)}},elFinder.prototype.commands.duplicate=function(){var t=this.fm;this.getstate=function(n){var n=this.files(n),i=n.length;return!this._disabled&&i&&t.cwd().write&&e.map(n,function(e){return e.phash&&e.read?e:null}).length==i?0:-1},this.exec=function(t){var n=this.fm,i=this.files(t),r=i.length,s=e.Deferred().fail(function(e){e&&n.error(e)});return!r||this._disabled?s.reject():(e.each(i,function(e,t){return t.read&&n.file(t.phash).write?void 0:!s.reject(["errCopy",t.name,"errPerm"])}),"rejected"==s.state()?s:n.request({data:{cmd:"duplicate",targets:this.hashes(t)},notify:{type:"copy",cnt:r}}))}},elFinder.prototype.commands.edit=function(){var t=this,n=this.fm,i=n.res("mimes","text")||[],r=function(n){return e.map(n,function(n){return 0!==n.mime.indexOf("text/")&&-1===e.inArray(n.mime,i)||!n.mime.indexOf("text/rtf")||t.onlyMimes.length&&-1===e.inArray(n.mime,t.onlyMimes)||!n.read||!n.write?null:n})},s=function(i,r,s){var o=e.Deferred(),a=e('<textarea class="elfinder-file-edit" rows="20" id="'+i+'-ta">'+n.escape(s)+"</textarea>"),l=function(){a.editor&&a.editor.save(a[0],a.editor.instance),o.resolve(a.getContent()),a.elfinderdialog("close")},c=function(){o.reject(),a.elfinderdialog("close")},d={title:r.name,width:t.options.dialogWidth||450,buttons:{},close:function(){a.editor&&a.editor.close(a[0],a.editor.instance),e(this).elfinderdialog("destroy")},open:function(){n.disable(),a.focus(),a[0].setSelectionRange&&a[0].setSelectionRange(0,0),a.editor&&a.editor.load(a[0])}};return a.getContent=function(){return a.val()},e.each(t.options.editors||[],function(t,n){return-1!==e.inArray(r.mime,n.mimes||[])&&"function"==typeof n.load&&"function"==typeof n.save?(a.editor={load:n.load,save:n.save,close:"function"==typeof n.close?n.close:function(){},instance:null},!1):void 0}),a.editor||a.keydown(function(e){var t,n,i=e.keyCode;e.stopPropagation(),9==i&&(e.preventDefault(),this.setSelectionRange&&(t=this.value,n=this.selectionStart,this.value=t.substr(0,n)+"	"+t.substr(this.selectionEnd),n+=1,this.setSelectionRange(n,n))),(e.ctrlKey||e.metaKey)&&((81==i||87==i)&&(e.preventDefault(),c()),83==i&&(e.preventDefault(),l()))}),d.buttons[n.i18n("Save")]=l,d.buttons[n.i18n("Cancel")]=c,n.dialog(a,d).attr("id",i),o.promise()},o=function(t){var i,r=t.hash,o=(n.options,e.Deferred()),a=(n.url(r)||n.options.url,"edit-"+n.namespace+"-"+t.hash),l=n.getUI().find("#"+a);return l.length?(l.elfinderdialog("toTop"),o.resolve()):t.read&&t.write?(n.request({data:{cmd:"get",target:r},notify:{type:"openfile",cnt:1},syncOnFail:!0}).done(function(e){s(a,t,e.content).done(function(e){n.request({options:{type:"post"},data:{cmd:"put",target:r,content:e},notify:{type:"save",cnt:1},syncOnFail:!0}).fail(function(e){o.reject(e)}).done(function(e){e.changed&&e.changed.length&&n.change(e),o.resolve(e)})})}).fail(function(e){o.reject(e)}),o.promise()):(i=["errOpen",t.name,"errPerm"],n.error(i),o.reject(i))};this.shortcuts=[{pattern:"ctrl+e"}],this.init=function(){this.onlyMimes=this.options.mimes||[]},this.getstate=function(e){var e=this.files(e),t=e.length;return!this._disabled&&t&&r(e).length==t?0:-1},this.exec=function(t){var n,i=r(this.files(t)),s=[];if(this.disabled())return e.Deferred().reject();for(;n=i.shift();)s.push(o(n));return s.length?e.when.apply(null,s):e.Deferred().reject()}},elFinder.prototype.commands.extract=function(){var t=this,n=t.fm,i=[],r=function(t){return e.map(t,function(t){return t.read&&-1!==e.inArray(t.mime,i)?t:null})};this.disableOnSearch=!0,n.bind("open reload",function(){i=n.option("archivers").extract||[],t.change()}),this.getstate=function(e){var e=this.files(e),t=e.length;return!this._disabled&&t&&this.fm.cwd().write&&r(e).length==t?0:-1},this.exec=function(t){var r,s,o,a=this.files(t),l=e.Deferred(),c=a.length,d=!1,u=!1,h=e.map(n.files(t),function(e){return e.name}),p={};e.map(n.files(t),function(e){p[e.name]=e});var f=function(e){switch(e){case"overwrite_all":d=!0;break;case"omit_all":u=!0}},m=function(t){t.read&&n.file(t.phash).write?-1===e.inArray(t.mime,i)?(s=["errExtract",t.name,"errNoArchive"],n.error(s),l.reject(s)):n.request({data:{cmd:"extract",target:t.hash},notify:{type:"extract",cnt:1},syncOnFail:!0}).fail(function(e){"rejected"!=l.state()&&l.reject(e)}).done(function(){}):(s=["errExtract",t.name,"errPerm"],n.error(s),l.reject(s))},g=function(t,i){var s=t[i],a=s.name.replace(/\.((tar\.(gz|bz|bz2|z|lzo))|cpio\.gz|ps\.gz|xcf\.(gz|bz2)|[a-z0-9]{1,4})$/gi,""),v=e.inArray(a,h)>=0;v&&"directory"!=p[a].mime?n.confirm({title:n.i18n("ntfextract"),text:n.i18n(["errExists",a,"confirmRepl"]),accept:{label:"btnYes",callback:function(e){if(o=e?"overwrite_all":"overwrite",f(o),d||u){if(d){for(r=0;c>r;r++)m(t[r]);l.resolve()}}else"overwrite"==o&&m(s),c>i+1?g(t,i+1):l.resolve()}},reject:{label:"btnNo",callback:function(e){o=e?"omit_all":"omit",f(o),!d&&!u&&c>i+1?g(t,i+1):u&&l.resolve()}},cancel:{label:"btnCancel",callback:function(){l.resolve()}},all:c>1}):(m(s),c>i+1?g(t,i+1):l.resolve())};return this.enabled()&&c&&i.length?(c>0&&g(a,0),l):l.reject()}},elFinder.prototype.commands.forward=function(){this.alwaysEnabled=!0,this.updateOnSelect=!0,this.shortcuts=[{pattern:"ctrl+right"}],this.getstate=function(){return this.fm.history.canForward()?0:-1},this.exec=function(){return this.fm.history.forward()}},elFinder.prototype.commands.getfile=function(){var t=this,n=this.fm,i=function(n){var i=t.options;return n=e.map(n,function(e){return"directory"!=e.mime||i.folders?e:null}),i.multiple||1==n.length?n:[]};this.alwaysEnabled=!0,this.callback=n.options.getFileCallback,this._disabled="function"==typeof this.callback,this.getstate=function(e){var e=this.files(e),t=e.length;return this.callback&&t&&i(e).length==t?0:-1},this.exec=function(n){var i,r,s,o=this.fm,a=this.options,l=this.files(n),c=l.length,d=o.option("url"),u=o.option("tmbUrl"),h=e.Deferred().done(function(e){o.trigger("getfile",{files:e}),t.callback(e,o),"close"==a.oncomplete?o.hide():"destroy"==a.oncomplete&&o.destroy()}),p=function(){return a.onlyURL?a.multiple?e.map(l,function(e){return e.url}):l[0].url:a.multiple?l:l[0]},f=[];if(-1==this.getstate())return h.reject();for(i=0;c>i;i++){if(r=l[i],"directory"==r.mime&&!a.folders)return h.reject();r.baseUrl=d,r.url=o.url(r.hash),r.path=o.path(r.hash),r.tmb&&1!=r.tmb&&(r.tmb=u+r.tmb),r.width||r.height||(r.dim?(s=r.dim.split("x"),r.width=s[0],r.height=s[1]):-1!==r.mime.indexOf("image")&&f.push(o.request({data:{cmd:"dim",target:r.hash},notify:{type:"dim",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(e){if(e.dim){var t=e.dim.split("x"),n=o.file(this.hash);n.width=this.width=t[0],n.height=this.height=t[1]}}.bind(r))))}return f.length?(e.when.apply(null,f).always(function(){h.resolve(p(l))}),h):h.resolve(p(l))}},elFinder.prototype.commands.help=function(){var t=this.fm,n=this,i='<div class="elfinder-help-link"> <a href="{url}" target="_blank">{link}</a></div>',r='<div class="elfinder-help-team"><div>{author}</div>{work}</div>',s=/\{url\}/,o=/\{link\}/,a=/\{author\}/,l=/\{work\}/,c="replace",d="ui-priority-primary",u="ui-priority-secondary",h="elfinder-help-license",p='<li class="ui-state-default ui-corner-top"><a href="#{id}">{title}</a></li>',f=['<div class="ui-tabs ui-widget ui-widget-content ui-corner-all elfinder-help">','<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">'],m='<div class="elfinder-help-shortcut"><div class="elfinder-help-shortcut-pattern">{pattern}</div> {descrip}</div>',g='<div class="elfinder-help-separator"/>',v=function(){f.push('<div id="about" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="elfinder-help-logo"/>'),f.push("<h3>elFinder</h3>"),f.push('<div class="'+d+'">'+t.i18n("webfm")+"</div>"),f.push('<div class="'+u+'">'+t.i18n("ver")+": "+t.version+", "+t.i18n("protocolver")+': <span id="apiver"></span></div>'),f.push('<div class="'+u+'">jQuery/jQuery UI: '+e().jquery+"/"+e.ui.version+"</div>"),f.push(g),f.push(i[c](s,"http://elfinder.org/")[c](o,t.i18n("homepage"))),f.push(i[c](s,"https://github.com/Studio-42/elFinder/wiki")[c](o,t.i18n("docs"))),f.push(i[c](s,"https://github.com/Studio-42/elFinder")[c](o,t.i18n("github"))),f.push(i[c](s,"http://twitter.com/elrte_elfinder")[c](o,t.i18n("twitter"))),f.push(g),f.push('<div class="'+d+'">'+t.i18n("team")+"</div>"),f.push(r[c](a,'Dmitry "dio" Levashov &lt;dio@std42.ru&gt;')[c](l,t.i18n("chiefdev"))),f.push(r[c](a,"Troex Nevelin &lt;troex@fury.scancode.ru&gt;")[c](l,t.i18n("maintainer"))),f.push(r[c](a,"Alexey Sukhotin &lt;strogg@yandex.ru&gt;")[c](l,t.i18n("contributor"))),f.push(r[c](a,"Naoki Sawada &lt;hypweb@gmail.com&gt;")[c](l,t.i18n("contributor"))),t.i18[t.lang].translator&&f.push(r[c](a,t.i18[t.lang].translator)[c](l,t.i18n("translator")+" ("+t.i18[t.lang].language+")")),f.push(g),f.push('<div class="'+h+'">'+t.i18n("icons")+': Pixelmixer, <a href="http://p.yusukekamiyamane.com" target="_blank">Fugue</a></div>'),f.push(g),f.push('<div class="'+h+'">Licence: BSD Licence</div>'),f.push('<div class="'+h+'">Copyright © 2009-2015, Studio 42</div>'),f.push('<div class="'+h+'">„ …'+t.i18n("dontforget")+" ”</div>"),f.push("</div>")},b=function(){var n=t.shortcuts();f.push('<div id="shortcuts" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),n.length?(f.push('<div class="ui-widget-content elfinder-help-shortcuts">'),e.each(n,function(e,t){f.push(m.replace(/\{pattern\}/,t[0]).replace(/\{descrip\}/,t[1]))}),f.push("</div>")):f.push('<div class="elfinder-help-disabled">'+t.i18n("shortcutsof")+"</div>"),f.push("</div>")},y=function(){f.push('<div id="help" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),f.push('<a href="http://elfinder.org/forum/" target="_blank" class="elfinder-dont-panic"><span>DON\'T PANIC</span></a>'),f.push("</div>")},w="";this.alwaysEnabled=!0,this.updateOnSelect=!1,this.state=0,this.shortcuts=[{pattern:"f1",description:this.title}],setTimeout(function(){var i=n.options.view||["about","shortcuts","help"];e.each(i,function(e,n){f.push(p[c](/\{id\}/,n)[c](/\{title\}/,t.i18n(n)))}),f.push("</ul>"),-1!==e.inArray("about",i)&&v(),-1!==e.inArray("shortcuts",i)&&b(),-1!==e.inArray("help",i)&&y(),f.push("</div>"),w=e(f.join("")),w.find(".ui-tabs-nav li").hover(function(){e(this).toggleClass("ui-state-hover")}).children().click(function(t){var n=e(this);t.preventDefault(),t.stopPropagation(),n.is(".ui-tabs-selected")||(n.parent().addClass("ui-tabs-selected ui-state-active").siblings().removeClass("ui-tabs-selected").removeClass("ui-state-active"),w.find(".ui-tabs-panel").hide().filter(n.attr("href")).show())}).filter(":first").click()},200),this.getstate=function(){return 0},this.exec=function(){this.dialog||(w.find("#apiver").text(this.fm.api),this.dialog=this.fm.dialog(w,{title:this.title,width:530,autoOpen:!1,destroyOnClose:!1})),this.dialog.elfinderdialog("open").find(".ui-tabs-nav li a:first").click()}},elFinder.prototype.commands.home=function(){this.title="Home",this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+home ctrl+shift+up",description:"Home"}],this.getstate=function(){var e=this.fm.root(),t=this.fm.cwd().hash;return e&&t&&e!=t?0:-1},this.exec=function(){return this.fm.exec("open",this.fm.root())}},elFinder.prototype.commands.info=function(){var t=this.fm,n="elfinder-info-spinner",i={calc:t.i18n("calc"),size:t.i18n("size"),unknown:t.i18n("unknown"),path:t.i18n("path"),aliasfor:t.i18n("aliasfor"),modify:t.i18n("modify"),perms:t.i18n("perms"),locked:t.i18n("locked"),dim:t.i18n("dim"),kind:t.i18n("kind"),files:t.i18n("files"),folders:t.i18n("folders"),items:t.i18n("items"),yes:t.i18n("yes"),no:t.i18n("no"),link:t.i18n("link")};this.tpl={main:'<div class="ui-helper-clearfix elfinder-info-title"><span class="elfinder-cwd-icon {class} ui-corner-all"/>{title}</div><table class="elfinder-info-tb">{content}</table>',itemTitle:'<strong>{name}</strong><span class="elfinder-info-kind">{kind}</span>',groupTitle:"<strong>{items}: {num}</strong>",row:"<tr><td>{label} : </td><td>{value}</td></tr>",spinner:'<span>{text}</span> <span class="'+n+'"/>'},this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+i"}],this.init=function(){e.each(i,function(e,n){i[e]=t.i18n(n)})},this.getstate=function(){return 0},this.exec=function(t){var r=this.files(t);r.length||(r=this.files([this.fm.cwd().hash]));var s,o,a,l,c,d=this.fm,u=this.options,h=this.tpl,p=h.row,f=r.length,m=[],g=h.main,v="{label}",b="{value}",y={title:this.title,width:"auto",close:function(){e(this).elfinderdialog("destroy")}},w=[],x=function(e){C.find("."+n).parent().text(e)},_=d.namespace+"-info-"+e.map(r,function(e){return e.hash}).join("-"),C=d.getUI().find("#"+_);if(!f)return e.Deferred().reject();if(C.length)return C.elfinderdialog("toTop"),e.Deferred().resolve();if(1==f){if(a=r[0],g=g.replace("{class}",d.mime2class(a.mime)),l=h.itemTitle.replace("{name}",d.escape(a.i18||a.name)).replace("{kind}",d.mime2kind(a)),a.tmb&&(o=d.option("tmbUrl")+a.tmb),a.read?"directory"!=a.mime||a.alias?s=d.formatSize(a.size):(s=h.spinner.replace("{text}",i.calc),w.push(a.hash)):s=i.unknown,m.push(p.replace(v,i.size).replace(b,s)),a.alias&&m.push(p.replace(v,i.aliasfor).replace(b,a.alias)),m.push(p.replace(v,i.path).replace(b,d.escape(d.path(a.hash,!0)))),a.read){var k;if(u.nullUrlDirLinkSelf&&"directory"==a.mime&&null===a.url){var T=window.location;k=T.pathname+T.search+"#elf_"+a.hash}else k=d.url(a.hash);m.push(p.replace(v,i.link).replace(b,'<a href="'+k+'" target="_blank">'+a.name+"</a>"))}a.dim?m.push(p.replace(v,i.dim).replace(b,a.dim)):-1!==a.mime.indexOf("image")&&(a.width&&a.height?m.push(p.replace(v,i.dim).replace(b,a.width+"x"+a.height)):(m.push(p.replace(v,i.dim).replace(b,h.spinner.replace("{text}",i.calc))),d.request({data:{cmd:"dim",target:a.hash},preventDefault:!0}).fail(function(){x(i.unknown)}).done(function(e){if(x(e.dim||i.unknown),e.dim){var t=e.dim.split("x"),n=d.file(a.hash);n.width=t[0],n.height=t[1]}}))),m.push(p.replace(v,i.modify).replace(b,d.formatDate(a))),m.push(p.replace(v,i.perms).replace(b,d.formatPermissions(a))),m.push(p.replace(v,i.locked).replace(b,a.locked?i.yes:i.no))}else g=g.replace("{class}","elfinder-cwd-icon-group"),l=h.groupTitle.replace("{items}",i.items).replace("{num}",f),c=e.map(r,function(e){return"directory"==e.mime?1:null}).length,c?(m.push(p.replace(v,i.kind).replace(b,c==f?i.folders:i.folders+" "+c+", "+i.files+" "+(f-c))),m.push(p.replace(v,i.size).replace(b,h.spinner.replace("{text}",i.calc))),w=e.map(r,function(e){return e.hash})):(s=0,e.each(r,function(e,t){var n=parseInt(t.size);n>=0&&s>=0?s+=n:s="unknown"}),m.push(p.replace(v,i.kind).replace(b,i.files)),m.push(p.replace(v,i.size).replace(b,d.formatSize(s))));g=g.replace("{title}",l).replace("{content}",m.join("")),C=d.dialog(g,y),C.attr("id",_),o&&e("<img/>").load(function(){C.find(".elfinder-cwd-icon").css("background",'url("'+o+'") center center no-repeat')}).attr("src",o),w.length&&d.request({data:{cmd:"size",targets:w},preventDefault:!0}).fail(function(){x(i.unknown)}).done(function(e){var t=parseInt(e.size);x(t>=0?d.formatSize(t):i.unknown)})}},elFinder.prototype.commands.mkdir=function(){this.disableOnSearch=!0,this.updateOnSelect=!1,this.mime="directory",this.prefix="untitled folder",this.exec=e.proxy(this.fm.res("mixin","make"),this),this.shortcuts=[{pattern:"ctrl+shift+n"}],this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1}},elFinder.prototype.commands.mkfile=function(){this.disableOnSearch=!0,this.updateOnSelect=!1,this.mime="text/plain",this.prefix="untitled file.txt",this.exec=e.proxy(this.fm.res("mixin","make"),this),this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1}},elFinder.prototype.commands.netmount=function(){var t=this;this.alwaysEnabled=!0,this.updateOnSelect=!1,this.drivers=[],this.handlers={load:function(){this.drivers=this.fm.netDrivers}},this.getstate=function(){return this.drivers.length?0:-1},this.exec=function(){var n=t.fm,i=e.Deferred(),r=function(){var r={protocol:e("<select/>"),host:e('<input type="text"/>'),port:e('<input type="text"/>'),path:e('<input type="text" value="/"/>'),user:e('<input type="text"/>'),pass:e('<input type="password"/>')},s={title:n.i18n("netMountDialogTitle"),resizable:!1,modal:!0,destroyOnClose:!0,close:function(){delete t.dialog,"pending"==i.state()&&i.reject()},buttons:{}},o=e('<table class="elfinder-info-tb elfinder-netmount-tb"/>');return e.each(t.drivers,function(e,t){r.protocol.append('<option value="'+t+'">'+n.i18n(t)+"</option>")}),e.each(r,function(t,i){"protocol"!=t&&i.addClass("ui-corner-all"),o.append(e("<tr/>").append(e("<td>"+n.i18n(t)+"</td>")).append(e("<td/>").append(i)))}),s.buttons[n.i18n("btnMount")]=function(){var n={cmd:"netmount"};return e.each(r,function(t,i){var r=e.trim(i.val());r&&(n[t]=r)}),n.host?(t.fm.request({data:n,notify:{type:"netmount",cnt:1}}).done(function(){i.resolve()}).fail(function(e){i.reject(e)}),void t.dialog.elfinderdialog("close")):t.fm.trigger("error",{error:"errNetMountHostReq"})},s.buttons[n.i18n("btnCancel")]=function(){t.dialog.elfinderdialog("close")},n.dialog(o,s)};return t.dialog||(t.dialog=r()),i.promise()}},elFinder.prototype.commands.open=function(){this.alwaysEnabled=!0,this._handlers={dblclick:function(e){e.preventDefault(),this.exec()},"select enable disable reload":function(e){this.update("disable"==e.type?-1:void 0)}},this.shortcuts=[{pattern:"ctrl+down numpad_enter"+("mac"!=this.fm.OS&&" enter")}],this.getstate=function(t){var t=this.files(t),n=t.length;return 1==n?0:n&&e.map(t,function(e){return"directory"==e.mime?null:e}).length==n?0:-1},this.exec=function(t){var n,i,r,s,o=this.fm,a=e.Deferred().fail(function(e){e&&o.error(e)}),l=this.files(t),c=l.length;if(!c)return a.reject();if(1==c&&(n=l[0])&&"directory"==n.mime)return n&&!n.read?a.reject(["errOpen",n.name,"errPerm"]):o.request({data:{cmd:"open",target:n.thash||n.hash},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!0});if(l=e.map(l,function(e){return"directory"!=e.mime?e:null}),c!=l.length)return a.reject();for(c=l.length;c--;){if(n=l[c],!n.read)return a.reject(["errOpen",n.name,"errPerm"]);(i=o.url(n.hash))||(i=o.options.url,i=i+(-1===i.indexOf("?")?"?":"&")+(o.oldAPI?"cmd=open&current="+n.phash:"cmd=file")+"&target="+n.hash),n.dim?(r=n.dim.split("x"),s="width="+(parseInt(r[0])+20)+",height="+(parseInt(r[1])+20)):s="width="+parseInt(2*e(window).width()/3)+",height="+parseInt(2*e(window).height()/3);var d=window.open("","new_window",s+",top=50,left=50,scrollbars=yes,resizable=yes");if(!d)return a.reject("errPopup");var u=document.createElement("form");u.action=o.options.url,u.method="POST",u.target="new_window",u.style.display="none";var h=e.extend({},o.options.customData,{cmd:"file",target:n.hash});e.each(h,function(e,t){var n=document.createElement("input");n.name=e,n.value=t,u.appendChild(n)}),document.body.appendChild(u),u.submit()}return a.resolve(t)}},elFinder.prototype.commands.paste=function(){this.updateOnSelect=!1,this.handlers={changeclipboard:function(){this.update()}},this.shortcuts=[{pattern:"ctrl+v shift+insert"}],this.getstate=function(t){if(this._disabled)return-1;if(t){if(e.isArray(t)){if(1!=t.length)return-1;t=this.fm.file(t[0])}}else t=this.fm.cwd();return this.fm.clipboard().length&&"directory"==t.mime&&t.write?0:-1},this.exec=function(t){var n,i,r=this,s=r.fm,t=t?this.files(t)[0]:s.cwd(),o=s.clipboard(),a=o.length,l=a?o[0].cut:!1,c=l?"errMove":"errCopy",d=[],u=[],h=e.Deferred().fail(function(e){e&&s.error(e)}),p=function(t){return t.length&&s._commands.duplicate?s.exec("duplicate",t):e.Deferred().resolve()},f=function(n){var i=e.Deferred(),o=[],a=function(t,n){for(var i=[],r=t.length;r--;)-1!==e.inArray(t[r].name,n)&&i.unshift(r);return i},c=function(e){var t=o[e],r=n[t],a=e==o.length-1;r&&s.confirm({title:s.i18n(l?"moveFiles":"copyFiles"),text:s.i18n(["errExists",r.name,"confirmRepl"]),all:!a,accept:{label:"btnYes",callback:function(t){a||t?u(n):c(++e)}},reject:{label:"btnNo",callback:function(t){var i;if(t)for(i=o.length;e<i--;)n[o[i]].remove=!0;else n[o[e]].remove=!0;a||t?u(n):c(++e)}},cancel:{label:"btnCancel",callback:function(){i.resolve()}}})},d=function(e){o=a(n,e),o.length?c(0):u(n)},u=function(n){var r,n=e.map(n,function(e){return e.remove?null:e}),o=n.length;return o?(r=n[0].phash,n=e.map(n,function(e){return e.hash}),void s.request({data:{cmd:"paste",dst:t.hash,targets:n,cut:l?1:0,src:r},notify:{type:l?"move":"copy",cnt:o}}).always(function(){i.resolve(),s.unlockfiles({files:n})})):i.resolve()};return r._disabled||!n.length?i.resolve():(s.oldAPI?u(n):s.option("copyOverwrite")?t.hash==s.cwd().hash?d(e.map(s.files(),function(e){return e.phash==t.hash?e.name:null})):s.request({data:{cmd:"ls",target:t.hash},notify:{type:"prepare",cnt:1,hideCnt:!0},preventFail:!0}).always(function(e){d(e.list||[])}):u(n),i)};return a&&t&&"directory"==t.mime?t.write?(n=s.parents(t.hash),e.each(o,function(r,a){return a.read?l&&a.locked?!h.reject(["errLocked",a.name]):-1!==e.inArray(a.hash,n)?!h.reject(["errCopyInItself",a.name]):(i=s.parents(a.hash),i.pop(),-1!==e.inArray(t.hash,i)&&e.map(i,function(e){var n=s.file(e);return n.phash==t.hash&&n.name==a.name?n:null}).length?!h.reject(["errReplByChild",a.name]):void(a.phash==t.hash?u.push(a.hash):d.push({hash:a.hash,phash:a.phash,name:a.name}))):!h.reject([c,o[0].name,"errPerm"])}),"rejected"==h.state()?h:e.when(p(u),f(d)).always(function(){l&&s.clipboard([])})):h.reject([c,o[0].name,"errPerm"]):h.reject()}},elFinder.prototype.commands.quicklook=function(){var t,n,i,r,s=this,o=s.fm,a=0,l=1,c=2,d=a,u="elfinder-quicklook-navbar-icon",h="elfinder-quicklook-fullscreen",p=function(t){e(document).trigger(e.Event("keydown",{keyCode:t,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}))},f=function(e){return{opacity:0,width:20,height:"list"==o.view?1:20,top:e.offset().top+"px",left:e.offset().left+"px"}},m=function(){var i=e(window);return{opacity:1,width:t,height:n,top:parseInt((i.height()-n)/2+i.scrollTop()),left:parseInt((i.width()-t)/2+i.scrollLeft())}},g=function(e){var t=document.createElement(e.substr(0,e.indexOf("/"))),n=!1;try{n=t.canPlayType&&t.canPlayType(e)}catch(i){}return n&&""!==n&&"no"!=n},v=e('<div class="elfinder-quicklook-title"/>'),b=e("<div/>"),y=e('<div class="elfinder-quicklook-info"/>'),w=e('<div class="'+u+" "+u+'-fullscreen"/>').mousedown(function(t){var n=s.window,r=n.is("."+h),a="scroll."+o.namespace,l=e(window);t.stopPropagation(),r?(n.css(n.data("position")).unbind("mousemove"),l.unbind(a).trigger(s.resize).unbind(s.resize),x.unbind("mouseenter").unbind("mousemove")):(n.data("position",{left:n.css("left"),top:n.css("top"),width:n.width(),height:n.height()}).css({width:"100%",height:"100%"}),e(window).bind(a,function(){n.css({left:parseInt(e(window).scrollLeft())+"px",top:parseInt(e(window).scrollTop())+"px"})}).bind(s.resize,function(){s.preview.trigger("changesize")}).trigger(a).trigger(s.resize),n.bind("mousemove",function(){x.stop(!0,!0).show().delay(3e3).fadeOut("slow")}).mousemove(),x.mouseenter(function(){x.stop(!0,!0).show()}).mousemove(function(e){e.stopPropagation()})),x.attr("style","").draggable(r?"destroy":{}),n.toggleClass(h),e(this).toggleClass(u+"-fullscreen-off"),e.fn.resizable&&i.add(n).resizable(r?"enable":"disable").removeClass("ui-state-disabled")}),x=e('<div class="elfinder-quicklook-navbar"/>').append(e('<div class="'+u+" "+u+'-prev"/>').mousedown(function(){p(37)})).append(w).append(e('<div class="'+u+" "+u+'-next"/>').mousedown(function(){p(39)
})).append('<div class="elfinder-quicklook-navbar-separator"/>').append(e('<div class="'+u+" "+u+'-close"/>').mousedown(function(){s.window.trigger("close")}));this.resize="resize."+o.namespace,this.info=e('<div class="elfinder-quicklook-info-wrapper"/>').append(b).append(y),this.preview=e('<div class="elfinder-quicklook-preview ui-helper-clearfix"/>').bind("change",function(){s.info.attr("style","").hide(),b.removeAttr("class").attr("style",""),y.html("")}).bind("update",function(t){var n,i=s.fm,r=(s.preview,t.file),o='<div class="elfinder-quicklook-info-data">{value}</div>';r?(!r.read&&t.stopImmediatePropagation(),s.window.data("hash",r.hash),s.preview.unbind("changesize").trigger("change").children().remove(),v.html(i.escape(r.name)),y.html(o.replace(/\{value\}/,r.name)+o.replace(/\{value\}/,i.mime2kind(r))+("directory"==r.mime?"":o.replace(/\{value\}/,i.formatSize(r.size)))+o.replace(/\{value\}/,i.i18n("modify")+": "+i.formatDate(r))),b.addClass("elfinder-cwd-icon ui-corner-all "+i.mime2class(r.mime)),r.tmb&&e("<img/>").hide().appendTo(s.preview).load(function(){b.css("background",'url("'+n+'") center center no-repeat'),e(this).remove()}).attr("src",n=i.tmb(r.hash)),s.info.delay(100).fadeIn(10)):t.stopImmediatePropagation()}),this.window=e('<div class="ui-helper-reset ui-widget elfinder-quicklook" style="position:absolute"/>').click(function(e){e.stopPropagation()}).append(e('<div class="elfinder-quicklook-titlebar"/>').append(v).append(e('<span class="ui-icon ui-icon-circle-close"/>').mousedown(function(e){e.stopPropagation(),s.window.trigger("close")}))).append(this.preview.add(x)).append(s.info.hide()).draggable({handle:"div.elfinder-quicklook-titlebar"}).bind("open",function(){var e,t=s.window,n=s.value;s.closed()&&n&&(e=r.find("#"+n.hash)).length&&(x.attr("style",""),d=l,e.trigger("scrolltoview"),t.css(f(e)).show().animate(m(),550,function(){d=c,s.update(1,s.value)}))}).bind("close",function(){var e=s.window,t=s.preview.trigger("change"),n=(s.value,r.find("#"+e.data("hash"))),i=function(){d=a,e.hide(),t.children().remove(),s.update(0,s.value)};s.opened()&&(d=l,e.is("."+h)&&w.mousedown(),n.length?e.animate(f(n),500,i):i())}),this.alwaysEnabled=!0,this.value=null,this.handlers={select:function(){this.update(void 0,this.fm.selectedFiles()[0])},error:function(){s.window.is(":visible")&&s.window.data("hash","").trigger("close")},"searchshow searchhide":function(){this.opened()&&this.window.trigger("close")}},this.shortcuts=[{pattern:"space"}],this.support={audio:{ogg:g('audio/ogg; codecs="vorbis"'),mp3:g("audio/mpeg;"),wav:g('audio/wav; codecs="1"'),m4a:g("audio/x-m4a;")||g("audio/aac;")},video:{ogg:g('video/ogg; codecs="theora"'),webm:g('video/webm; codecs="vp8, vorbis"'),mp4:g('video/mp4; codecs="avc1.42E01E"')||g('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}},this.closed=function(){return d==a},this.opened=function(){return d==c},this.init=function(){var a=this.options,l=this.window,c=this.preview;t=a.width>0?parseInt(a.width):450,n=a.height>0?parseInt(a.height):300,o.one("load",function(){i=o.getUI(),r=o.getUI("cwd"),l.appendTo("body").zIndex(100+i.zIndex()),e(document).keydown(function(e){27==e.keyCode&&s.opened()&&l.trigger("close")}),e.fn.resizable&&l.resizable({handles:"se",minWidth:350,minHeight:120,resize:function(){c.trigger("changesize")}}),s.change(function(){s.opened()&&(s.value?c.trigger(e.Event("update",{file:s.value})):l.trigger("close"))}),e.each(o.commands.quicklook.plugins||[],function(e,t){"function"==typeof t&&new t(s)}),c.bind("update",function(){s.info.show()})})},this.getstate=function(){return 1==this.fm.selected().length?d==c?1:0:-1},this.exec=function(){this.enabled()&&this.window.trigger(this.opened()?"close":"open")},this.hideinfo=function(){this.info.stop(!0).hide()}},elFinder.prototype.commands.quicklook.plugins=[function(t){var n=["image/jpeg","image/png","image/gif"],i=t.preview;e.each(navigator.mimeTypes,function(t,i){var r=i.type;0===r.indexOf("image/")&&e.inArray(r,n)&&n.push(r)}),i.bind("update",function(r){var s,o=r.file;-1!==e.inArray(o.mime,n)&&(r.stopImmediatePropagation(),s=e("<img/>").hide().appendTo(i).load(function(){setTimeout(function(){var e=(s.width()/s.height()).toFixed(2);i.bind("changesize",function(){var t,n,r=parseInt(i.width()),o=parseInt(i.height());e<(r/o).toFixed(2)?(n=o,t=Math.floor(n*e)):(t=r,n=Math.floor(t/e)),s.width(t).height(n).css("margin-top",o>n?Math.floor((o-n)/2):0)}).trigger("changesize"),t.hideinfo(),s.fadeIn(100)},1)}).attr("src",t.fm.url(o.hash)))})},function(t){var n=["text/html","application/xhtml+xml"],i=t.preview,r=t.fm;i.bind("update",function(s){var o,a=s.file;-1!==e.inArray(a.mime,n)&&(s.stopImmediatePropagation(),i.one("change",function(){"pending"==o.state()&&o.reject()}),o=r.request({data:{cmd:"get",target:a.hash,current:a.phash},preventDefault:!0}).done(function(n){t.hideinfo(),doc=e('<iframe class="elfinder-quicklook-preview-html"/>').appendTo(i)[0].contentWindow.document,doc.open(),doc.write(n.content),doc.close()}))})},function(t){var n=t.fm,i=n.res("mimes","text"),r=t.preview;r.bind("update",function(s){var o,a=s.file,l=a.mime;(0===l.indexOf("text/")||-1!==e.inArray(l,i))&&(s.stopImmediatePropagation(),r.one("change",function(){"pending"==o.state()&&o.reject()}),o=n.request({data:{cmd:"get",target:a.hash},preventDefault:!0}).done(function(i){t.hideinfo(),e('<div class="elfinder-quicklook-preview-text-wrapper"><pre class="elfinder-quicklook-preview-text">'+n.escape(i.content)+"</pre></div>").appendTo(r)}))})},function(t){var n=t.fm,i="application/pdf",r=t.preview,s=!1;n.UA.Safari&&"mac"==n.OS||n.UA.IE?s=!0:e.each(navigator.plugins,function(t,n){e.each(n,function(e,t){return t.type==i?!(s=!0):void 0})}),s&&r.bind("update",function(s){var o,a=s.file;a.mime==i&&(s.stopImmediatePropagation(),r.one("change",function(){o.unbind("load").remove()}),o=e('<iframe class="elfinder-quicklook-preview-pdf"/>').hide().appendTo(r).load(function(){t.hideinfo(),o.show()}).attr("src",n.url(a.hash)))})},function(t){var n=t.fm,i="application/x-shockwave-flash",r=t.preview,s=!1;e.each(navigator.plugins,function(t,n){e.each(n,function(e,t){return t.type==i?!(s=!0):void 0})}),s&&r.bind("update",function(s){var o,a=s.file;a.mime==i&&(s.stopImmediatePropagation(),t.hideinfo(),r.append(o=e('<embed class="elfinder-quicklook-preview-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+n.url(a.hash)+'" quality="high" type="application/x-shockwave-flash" />')))})},function(t){var n,i=t.preview,r=!!t.options.autoplay,s={"audio/mpeg":"mp3","audio/mpeg3":"mp3","audio/mp3":"mp3","audio/x-mpeg3":"mp3","audio/x-mp3":"mp3","audio/x-wav":"wav","audio/wav":"wav","audio/x-m4a":"m4a","audio/aac":"m4a","audio/mp4":"m4a","audio/x-mp4":"m4a","audio/ogg":"ogg"};i.bind("update",function(o){var a=o.file,l=s[a.mime];t.support.audio[l]&&(o.stopImmediatePropagation(),n=e('<audio class="elfinder-quicklook-preview-audio" controls preload="auto" autobuffer><source src="'+t.fm.url(a.hash)+'" /></audio>').appendTo(i),r&&n[0].play())}).bind("change",function(){n&&n.parent().length&&(n[0].pause(),n.remove(),n=null)})},function(t){var n,i=t.preview,r=!!t.options.autoplay,s={"video/mp4":"mp4","video/x-m4v":"mp4","video/ogg":"ogg","application/ogg":"ogg","video/webm":"webm"};i.bind("update",function(o){var a=o.file,l=s[a.mime];t.support.video[l]&&(o.stopImmediatePropagation(),t.hideinfo(),n=e('<video class="elfinder-quicklook-preview-video" controls preload="auto" autobuffer><source src="'+t.fm.url(a.hash)+'" /></video>').appendTo(i),r&&n[0].play())}).bind("change",function(){n&&n.parent().length&&(n[0].pause(),n.remove(),n=null)})},function(t){var n,i=t.preview,r=[];e.each(navigator.plugins,function(t,n){e.each(n,function(e,t){(0===t.type.indexOf("audio/")||0===t.type.indexOf("video/"))&&r.push(t.type)})}),i.bind("update",function(s){var o,a=s.file,l=a.mime;-1!==e.inArray(a.mime,r)&&(s.stopImmediatePropagation(),(o=0===l.indexOf("video/"))&&t.hideinfo(),n=e('<embed src="'+t.fm.url(a.hash)+'" type="'+l+'" class="elfinder-quicklook-preview-'+(o?"video":"audio")+'"/>').appendTo(i))}).bind("change",function(){n&&n.parent().length&&(n.remove(),n=null)})}],elFinder.prototype.commands.reload=function(){var t=!1;this.alwaysEnabled=!0,this.updateOnSelect=!0,this.shortcuts=[{pattern:"ctrl+shift+r f5"}],this.getstate=function(){return 0},this.init=function(){this.fm.bind("search searchend",function(e){t="search"==e.type})},this.exec=function(){var n=this.fm;if(!t){var i=n.sync(),r=setTimeout(function(){n.notify({type:"reload",cnt:1,hideCnt:!0}),i.always(function(){n.notify({type:"reload",cnt:-1})})},n.notifyDelay);return i.always(function(){clearTimeout(r),n.trigger("reload")})}e("div.elfinder-toolbar > div."+n.res("class","searchbtn")+" > span.ui-icon-search").click()}},elFinder.prototype.commands.rename=function(){this.shortcuts=[{pattern:"f2"+("mac"==this.fm.OS?" enter":"")}],this.getstate=function(){var e=this.fm.selectedFiles();return this._disabled||1!=e.length||!e[0].phash||e[0].locked?-1:0},this.exec=function(){var t=this.fm,n=t.getUI("cwd"),i=t.selected(),r=i.length,s=t.file(i.shift()),o=".elfinder-cwd-filename",a=e.Deferred().fail(function(e){var i=l.parent(),r=t.escape(s.name);i.length?(l.remove(),i.html(r)):(n.find("#"+s.hash).find(o).html(r),setTimeout(function(){n.find("#"+s.hash).click()},50)),e&&t.error(e)}).always(function(){t.enable()}),l=e('<input type="text"/>').keydown(function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.keyCode==e.ui.keyCode.ESCAPE?a.reject():t.keyCode==e.ui.keyCode.ENTER&&l.blur()}).mousedown(function(e){e.stopPropagation()}).click(function(e){e.stopPropagation()}).dblclick(function(e){e.stopPropagation(),e.preventDefault()}).blur(function(){var n=e.trim(l.val()),i=l.parent();if(i.length){if(l[0].setSelectionRange&&l[0].setSelectionRange(0,0),n==s.name)return a.reject();if(!n)return a.reject("errInvName");if(t.fileByName(n,s.phash))return a.reject(["errExists",n]);i.html(t.escape(n)),t.lockfiles({files:[s.hash]}),t.request({data:{cmd:"rename",target:s.hash,name:n},notify:{type:"rename",cnt:1}}).fail(function(){a.reject(),t.sync()}).done(function(e){a.resolve(e)}).always(function(){t.unlockfiles({files:[s.hash]})})}}),c=n.find("#"+s.hash).find(o).empty().append(l.val(s.name)),d=l.val().replace(/\.((tar\.(gz|bz|bz2|z|lzo))|cpio\.gz|ps\.gz|xcf\.(gz|bz2)|[a-z0-9]{1,4})$/gi,"");return this.disabled()?a.reject():!s||r>1||!c.length?a.reject("errCmdParams",this.title):s.locked?a.reject(["errLocked",s.name]):(t.one("select",function(){l.parent().length&&s&&-1===e.inArray(s.hash,t.selected())&&l.blur()}),l.select().focus(),l[0].setSelectionRange&&l[0].setSelectionRange(0,d.length),a)}},elFinder.prototype.commands.resize=function(){this.updateOnSelect=!1,this.getstate=function(){var e=this.fm.selectedFiles();return!this._disabled&&1==e.length&&e[0].read&&e[0].write&&-1!==e[0].mime.indexOf("image/")?0:-1},this.exec=function(t){var n,i,r=this.fm,s=this.files(t),o=e.Deferred(),a=function(t,n){var i=e('<div class="elfinder-dialog-resize"/>'),s='<input type="text" size="5"/>',a='<div class="elfinder-resize-row"/>',l='<div class="elfinder-resize-label"/>',c=e('<div class="elfinder-resize-control"/>'),d=e('<div class="elfinder-resize-preview"/>'),u=e('<div class="elfinder-resize-spinner">'+r.i18n("ntfloadimg")+"</div>"),h=e('<div class="elfinder-resize-handle"/>'),p=e('<div class="elfinder-resize-handle"/>'),f=e('<div class="elfinder-resize-uiresize"/>'),m=e('<div class="elfinder-resize-uicrop"/>'),g='<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>',v='<div class="ui-state-default elfinder-button"/>',b='<span class="ui-widget-content elfinder-toolbar-button-separator"/>',y=e('<div class="elfinder-resize-rotate"/>'),w=e(v).attr("title",r.i18n("rotate-cw")).append(e('<span class="elfinder-button-icon elfinder-button-icon-rotate-l"/>').click(function(){q-=90,Z.update(q)})),x=e(v).attr("title",r.i18n("rotate-ccw")).append(e('<span class="elfinder-button-icon elfinder-button-icon-rotate-r"/>').click(function(){q+=90,Z.update(q)})),_=e("<span />"),C=e('<div class="ui-state-default ui-corner-all elfinder-resize-reset"><span class="ui-icon ui-icon-arrowreturnthick-1-w"/></div>'),k=e('<div class="elfinder-resize-type"/>').append('<input type="radio" name="type" id="'+n+'-resize" value="resize" checked="checked" /><label for="'+n+'-resize">'+r.i18n("resize")+"</label>").append('<input type="radio" name="type" id="'+n+'-crop" value="crop" /><label for="'+n+'-crop">'+r.i18n("crop")+"</label>").append('<input type="radio" name="type" id="'+n+'-rotate" value="rotate" /><label for="'+n+'-rotate">'+r.i18n("rotate")+"</label>"),T=e("input",k).attr("disabled","disabled").change(function(){var t=e("input:checked",k).val();X(),et(!0),tt(!0),nt(!0),"resize"==t?(f.show(),y.hide(),m.hide(),et()):"crop"==t?(y.hide(),f.hide(),m.show(),tt()):"rotate"==t&&(f.hide(),m.hide(),y.show(),nt())}),S=e('<input type="checkbox" checked="checked"/>').change(function(){z=!!S.prop("checked"),K.fixHeight(),et(!0),et()}),I=e(s).change(function(){var e=parseInt(I.val()),t=parseInt(z?Math.round(e/j):D.val());e>0&&t>0&&(K.updateView(e,t),D.val(t))}),D=e(s).change(function(){var e=parseInt(D.val()),t=parseInt(z?Math.round(e*j):I.val());t>0&&e>0&&(K.updateView(t,e),I.val(t))}),M=e(s).change(function(){Q.updateView()}),A=e(s).change(function(){Q.updateView()}),E=e(s).change(function(){Q.updateView()}),P=e(s).change(function(){Q.updateView()}),R=e('<input type="text" size="3" maxlength="3" value="0" />').change(function(){Z.update()}),F=e('<div class="elfinder-resize-rotate-slider"/>').slider({min:0,max:359,value:R.val(),animate:!0,change:function(e,t){t.value!=F.slider("value")&&Z.update(t.value)},slide:function(e,t){Z.update(t.value,!1)}}),j=1,$=1,N=0,O=0,z=!0,L=0,B=0,H=0,U=0,q=0,G=e("<img/>").load(function(){u.remove(),N=G.width(),O=G.height(),j=N/O,K.updateView(N,O),h.append(G.show()).show(),I.val(N),D.val(O);var t=Math.min(L,B)/Math.sqrt(Math.pow(N,2)+Math.pow(O,2));H=N*t,U=O*t,T.button("enable"),c.find("input,select").removeAttr("disabled").filter(":text").keydown(function(t){var n,i=t.keyCode;return t.stopPropagation(),i>=37&&40>=i||i==e.ui.keyCode.BACKSPACE||i==e.ui.keyCode.DELETE||65==i&&(t.ctrlKey||t.metaKey)||27==i?void 0:(9==i&&(n=e(this).parent()[t.shiftKey?"prev":"next"](".elfinder-resize-row").children(":text"),n.length?n.focus():e(this).parent().parent().find(":text:"+(t.shiftKey?"last":"first")).focus()),13==i?void r.confirm({title:e("input:checked",k).val(),text:"confirmReq",accept:{label:"btnApply",callback:function(){it()}},cancel:{label:"btnCancel",callback:function(){}}}):void(i>=48&&57>=i||i>=96&&105>=i||t.preventDefault()))}).filter(":first").focus(),et(),C.hover(function(){C.toggleClass("ui-state-hover")}).click(X)}).error(function(){u.text("Unable to load image").css("background","transparent")}),W=e("<div/>"),V=e("<img/>"),Y=e("<div/>"),J=e("<img/>"),X=function(){I.val(N),D.val(O),K.updateView(N,O)},K={update:function(){I.val(Math.round(G.width()/$)),D.val(Math.round(G.height()/$))},updateView:function(e,t){e>L||t>B?e/L>t/B?($=L/e,G.width(L).height(Math.ceil(t*$))):($=B/t,G.height(B).width(Math.ceil(e*$))):G.width(e).height(t),$=G.width()/e,_.text("1 : "+(1/$).toFixed(2)),K.updateHandle()},updateHandle:function(){h.width(G.width()).height(G.height())},fixWidth:function(){var e,t;z&&(t=D.val(),t=Math.round(t*j),K.updateView(e,t),I.val(e))},fixHeight:function(){var e,t;z&&(e=I.val(),t=Math.round(e/j),K.updateView(e,t),D.val(t))}},Q={update:function(){E.val(Math.round((p.data("w")||p.width())/$)),P.val(Math.round((p.data("h")||p.height())/$)),M.val(Math.round(((p.data("x")||p.offset().left)-V.offset().left)/$)),A.val(Math.round(((p.data("y")||p.offset().top)-V.offset().top)/$))},updateView:function(){var e=parseInt(M.val())*$+V.offset().left,t=parseInt(A.val())*$+V.offset().top,n=E.val()*$,i=P.val()*$;p.data({x:e,y:t,w:n,h:i}),p.width(Math.round(n)),p.height(Math.round(i)),Y.width(p.width()),Y.height(p.height()),p.offset({left:Math.round(e),top:Math.round(t)})},resize_update:function(){p.data({w:null,h:null}),Q.update(),Y.width(p.width()),Y.height(p.height())},drag_update:function(){p.data({x:null,y:null}),Q.update()}},Z={mouseStartAngle:0,imageStartAngle:0,imageBeingRotated:!1,update:function(e,t){"undefined"==typeof e&&(q=e=parseInt(R.val())),"undefined"==typeof t&&(t=!0),!t||r.UA.Opera||r.UA.ltIE8?J.rotate(e):J.animate({rotate:e+"deg"}),e%=360,0>e&&(e+=360),R.val(parseInt(e)),F.slider("value",R.val())},execute:function(e){if(Z.imageBeingRotated){var t=Z.getCenter(J),n=e.pageX-t[0],i=e.pageY-t[1],r=Math.atan2(i,n),s=r-Z.mouseStartAngle+Z.imageStartAngle;return s=Math.round(180*parseFloat(s)/Math.PI),e.shiftKey&&(s=15*Math.round((s+6)/15)),J.rotate(s),s%=360,0>s&&(s+=360),R.val(s),F.slider("value",R.val()),!1}},start:function(t){Z.imageBeingRotated=!0;var n=Z.getCenter(J),i=t.pageX-n[0],r=t.pageY-n[1];return Z.mouseStartAngle=Math.atan2(r,i),Z.imageStartAngle=parseFloat(J.rotate())*Math.PI/180,e(document).mousemove(Z.execute),!1},stop:function(){return Z.imageBeingRotated?(e(document).unbind("mousemove",Z.execute),setTimeout(function(){Z.imageBeingRotated=!1},10),!1):void 0},getCenter:function(){var e=J.rotate();J.rotate(0);var t=J.offset(),n=t.left+J.width()/2,i=t.top+J.height()/2;return J.rotate(e),Array(n,i)}},et=function(t){e.fn.resizable&&(t?(h.filter(":ui-resizable").resizable("destroy"),h.hide()):(h.show(),h.resizable({alsoResize:G,aspectRatio:z,resize:K.update,stop:K.fixHeight})))},tt=function(t){e.fn.draggable&&e.fn.resizable&&(t?(p.filter(":ui-resizable").resizable("destroy"),p.filter(":ui-draggable").draggable("destroy"),W.hide()):(V.width(G.width()).height(G.height()),Y.width(G.width()).height(G.height()),p.width(V.width()).height(V.height()).offset(V.offset()).resizable({containment:W,resize:Q.resize_update,handles:"all"}).draggable({handle:Y,containment:V,drag:Q.drag_update}),W.show().width(G.width()).height(G.height()),Q.update()))},nt=function(t){e.fn.draggable&&e.fn.resizable&&(t?J.hide():J.show().width(H).height(U).css("margin-top",(B-U)/2+"px").css("margin-left",(L-H)/2+"px"))},it=function(){var n,s,a,l,c,d=e("input:checked",k).val();if("resize"==d)n=parseInt(I.val())||0,s=parseInt(D.val())||0;else if("crop"==d)n=parseInt(E.val())||0,s=parseInt(P.val())||0,a=parseInt(M.val())||0,l=parseInt(A.val())||0;else if("rotate"==d){if(n=N,s=O,c=parseInt(R.val())||0,0>c||c>360)return r.error("Invalid rotate degree");if(0==c||360==c)return r.error("Image dose not rotated")}if("rotate"!=d){if(0>=n||0>=s)return r.error("Invalid image size");if(n==N&&s==O)return r.error("Image size not changed")}i.elfinderdialog("close"),r.request({data:{cmd:"resize",target:t.hash,width:n,height:s,x:a,y:l,degree:c,mode:d},notify:{type:"resize",cnt:1}}).fail(function(e){o.reject(e)}).done(function(){o.resolve()})},rt={},st="elfinder-resize-handle-hline",ot="elfinder-resize-handle-vline",at="elfinder-resize-handle-point",lt=r.url(t.hash);J.mousedown(Z.start),e(document).mouseup(Z.stop),f.append(e(a).append(e(l).text(r.i18n("width"))).append(I).append(C)).append(e(a).append(e(l).text(r.i18n("height"))).append(D)).append(e(a).append(e("<label/>").text(r.i18n("aspectRatio")).prepend(S))).append(e(a).append(r.i18n("scale")+" ").append(_)),m.append(e(a).append(e(l).text("X")).append(M)).append(e(a).append(e(l).text("Y")).append(A)).append(e(a).append(e(l).text(r.i18n("width"))).append(E)).append(e(a).append(e(l).text(r.i18n("height"))).append(P)),y.append(e(a).append(e(l).text(r.i18n("rotate"))).append(e('<div style="float:left; width: 130px;">').append(e('<div style="float:left;">').append(R).append(e("<span/>").text(r.i18n("degree")))).append(e(g).append(w).append(e(b)).append(x))).append(F)),i.append(k),c.append(e(a)).append(f).append(m.hide()).append(y.hide()).find("input,select").attr("disabled","disabled"),h.append('<div class="'+st+" "+st+'-top"/>').append('<div class="'+st+" "+st+'-bottom"/>').append('<div class="'+ot+" "+ot+'-left"/>').append('<div class="'+ot+" "+ot+'-right"/>').append('<div class="'+at+" "+at+'-e"/>').append('<div class="'+at+" "+at+'-se"/>').append('<div class="'+at+" "+at+'-s"/>'),d.append(u).append(h.hide()).append(G.hide()),p.css("position","absolute").append('<div class="'+st+" "+st+'-top"/>').append('<div class="'+st+" "+st+'-bottom"/>').append('<div class="'+ot+" "+ot+'-left"/>').append('<div class="'+ot+" "+ot+'-right"/>').append('<div class="'+at+" "+at+'-n"/>').append('<div class="'+at+" "+at+'-e"/>').append('<div class="'+at+" "+at+'-s"/>').append('<div class="'+at+" "+at+'-w"/>').append('<div class="'+at+" "+at+'-ne"/>').append('<div class="'+at+" "+at+'-se"/>').append('<div class="'+at+" "+at+'-sw"/>').append('<div class="'+at+" "+at+'-nw"/>'),d.append(W.css("position","absolute").hide().append(V).append(p.append(Y))),d.append(J.hide()),d.css("overflow","hidden"),i.append(d).append(c),rt[r.i18n("btnApply")]=it,rt[r.i18n("btnCancel")]=function(){i.elfinderdialog("close")},r.dialog(i,{title:t.name,width:650,resizable:!1,destroyOnClose:!0,buttons:rt,open:function(){d.zIndex(1+e(this).parent().zIndex())}}).attr("id",n),r.UA.ltIE8&&e(".elfinder-dialog").css("filter",""),C.css("left",I.position().left+I.width()+12),Y.css({opacity:.2,"background-color":"#fff",position:"absolute"}),p.css("cursor","move"),p.find(".elfinder-resize-handle-point").css({"background-color":"#fff",opacity:.5,"border-color":"#000"}),J.css("cursor","pointer"),k.buttonset(),L=d.width()-(h.outerWidth()-h.width()),B=d.height()-(h.outerHeight()-h.height()),G.attr("src",lt+(-1===lt.indexOf("?")?"?":"&")+"_="+Math.random()),V.attr("src",G.attr("src")),J.attr("src",G.attr("src"))};return s.length&&-1!==s[0].mime.indexOf("image/")?(n="resize-"+r.namespace+"-"+s[0].hash,i=r.getUI().find("#"+n),i.length?(i.elfinderdialog("toTop"),o.resolve()):(a(s[0],n),o)):o.reject()}},function(e){var t=function(e,t){var n=0;for(n in t)if("undefined"!=typeof e[t[n]])return t[n];return e[t[n]]="",t[n]};if(e.cssHooks.rotate={get:function(t){return e(t).rotate()},set:function(t,n){return e(t).rotate(n),n}},e.cssHooks.transform={get:function(e){var n=t(e.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return e.style[n]},set:function(e,n){var i=t(e.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return e.style[i]=n,n}},e.fn.rotate=function(e){if("undefined"==typeof e){if(window.opera){var t=this.css("transform").match(/rotate\((.*?)\)/);return t&&t[1]?Math.round(180*parseFloat(t[1])/Math.PI):0}var t=this.css("transform").match(/rotate\((.*?)\)/);return t&&t[1]?parseInt(t[1]):0}return this.css("transform",this.css("transform").replace(/none|rotate\(.*?\)/,"")+"rotate("+parseInt(e)+"deg)"),this},e.fx.step.rotate=function(t){0==t.state&&(t.start=e(t.elem).rotate(),t.now=t.start),e(t.elem).rotate(t.now)},"undefined"==typeof window.addEventListener&&"undefined"==typeof document.getElementsByClassName){var n=function(e){for(var t=e,n=t.offsetLeft,i=t.offsetTop;t.offsetParent&&(t=t.offsetParent,t==document.body||"static"==t.currentStyle.position);)t!=document.body&&t!=document.documentElement&&(n-=t.scrollLeft,i-=t.scrollTop),n+=t.offsetLeft,i+=t.offsetTop;return{x:n,y:i}},i=function(e){if("static"==e.currentStyle.position){var t=n(e);e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px"}},r=function(e,t){var n,r=1,s=1,o=1,a=1;if("undefined"!=typeof e.style.msTransform)return!0;i(e),n=t.match(/rotate\((.*?)\)/);var l=n&&n[1]?parseInt(n[1]):0;l%=360,0>l&&(l=360+l);var c=l*Math.PI/180,d=Math.cos(c),u=Math.sin(c);r*=d,s*=-u,o*=u,a*=d,e.style.filter=(e.style.filter||"").replace(/progid:DXImageTransform\.Microsoft\.Matrix\([^)]*\)/,"")+("progid:DXImageTransform.Microsoft.Matrix(M11="+r+",M12="+s+",M21="+o+",M22="+a+",FilterType='bilinear',sizingMethod='auto expand')");var h=parseInt(e.style.width||e.width||0),p=parseInt(e.style.height||e.height||0),c=l*Math.PI/180,f=Math.abs(Math.cos(c)),m=Math.abs(Math.sin(c)),g=(h-(h*f+p*m))/2,v=(p-(h*m+p*f))/2;return e.style.marginLeft=Math.floor(g)+"px",e.style.marginTop=Math.floor(v)+"px",!0},s=e.cssHooks.transform.set;e.cssHooks.transform.set=function(e,t){return s.apply(this,[e,t]),r(e,t),t}}}(jQuery),elFinder.prototype.commands.rm=function(){this.shortcuts=[{pattern:"delete ctrl+backspace"}],this.getstate=function(t){var n=this.fm;return t=t||n.selected(),!this._disabled&&t.length&&e.map(t,function(e){var t=n.file(e);return t&&t.phash&&!t.locked?e:null}).length==t.length?0:-1},this.exec=function(t){var n=this,i=this.fm,r=e.Deferred().fail(function(e){e&&i.error(e)}),s=this.files(t),o=s.length,a=i.cwd().hash,l=!1;return!o||this._disabled?r.reject():(e.each(s,function(e,t){return t.phash?t.locked?!r.reject(["errLocked",t.name]):void(t.hash==a&&(l=i.root(t.hash))):!r.reject(["errRm",t.name,"errPerm"])}),"pending"==r.state()&&(s=this.hashes(t),i.confirm({title:n.title,text:"confirmRm",accept:{label:"btnRm",callback:function(){i.lockfiles({files:s}),i.request({data:{cmd:"rm",targets:s},notify:{type:"rm",cnt:o},preventFail:!0}).fail(function(e){r.reject(e)}).done(function(e){r.done(e),l&&i.exec("open",l)}).always(function(){i.unlockfiles({files:s})})}},cancel:{label:"btnCancel",callback:function(){r.reject()}}})),r)}},elFinder.prototype.commands.search=function(){this.title="Find files",this.options={ui:"searchbutton"},this.alwaysEnabled=!0,this.updateOnSelect=!1,this.getstate=function(){return 0},this.exec=function(t){var n=this.fm;return"string"==typeof t&&t?(n.trigger("searchstart",{query:t}),n.request({data:{cmd:"search",q:t},notify:{type:"search",cnt:1,hideCnt:!0}})):(n.getUI("toolbar").find("."+n.res("class","searchbtn")+" :text").focus(),e.Deferred().reject())}},elFinder.prototype.commands.sort=function(){var t=this,n=t.fm;this.options={ui:"sortbutton"},n.bind("open sortchange",function(){t.variants=[],e.each(n.sortRules,function(e){var i={type:e,order:e==n.sortType?"asc"==n.sortOrder?"desc":"asc":n.sortOrder},r=e==n.sortType?"asc"==i.order?"n":"s":"";t.variants.push([i,(r?'<span class="ui-icon ui-icon-arrowthick-1-'+r+'"></span>':"")+"&nbsp;"+n.i18n("sort"+e)])})}),n.bind("open sortchange viewchange",function(){var i=null;i&&clearTimeout(i),i=setTimeout(function(){var i=e(n.cwd).find("div.elfinder-cwd-wrapper-list table");i.length&&e.each(n.sortRules,function(r){var s=i.find("thead tr td.elfinder-cwd-view-th-"+r);if(s.length){var o,a=r==n.sortType,l={type:r,order:a?"asc"==n.sortOrder?"desc":"asc":n.sortOrder};a&&(o="asc"==n.sortOrder?"n":"s",e('<span class="ui-icon ui-icon-triangle-1-'+o+'"/>').css({left:"+center+"}).appendTo(s)),e(s).on("click",function(e){e.stopPropagation(),t.exec([],l)}).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}})},100)}),this.getstate=function(){return 0},this.exec=function(t,n){var i=this.fm,r=e.extend({type:i.sortType,order:i.sortOrder,stick:i.sortStickFolders},n);return this.fm.setSort(r.type,r.order,r.stick),e.Deferred().resolve()}},elFinder.prototype.commands.up=function(){this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+up"}],this.getstate=function(){return this.fm.cwd().phash?0:-1},this.exec=function(){return this.fm.cwd().phash?this.fm.exec("open",this.fm.cwd().phash):e.Deferred().reject()}},elFinder.prototype.commands.upload=function(){var t=this.fm.res("class","hover");this.disableOnSearch=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+u"}],this.getstate=function(){return!this._disabled&&this.fm.cwd().write?0:-1},this.exec=function(n){var i,r,s,o,a,l=this.fm,c=function(e){r.elfinderdialog("close"),l.upload(e).fail(function(e){i.reject(e)}).done(function(e){i.resolve(e)})};return this.disabled()?e.Deferred().reject():n&&(n.input||n.files)?l.upload(n):(i=e.Deferred(),s=e('<input type="file" multiple="true"/>').change(function(){c({input:s[0]})}),o=e('<div class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">'+l.i18n("selectForUpload")+"</span></div>").append(e("<form/>").append(s)).hover(function(){o.toggleClass(t)}),r=e('<div class="elfinder-upload-dialog-wrapper"/>').append(o),l.dragUpload&&(a=e('<div class="ui-corner-all elfinder-upload-dropbox">'+l.i18n("dropFiles")+"</div>").prependTo(r).after('<div class="elfinder-upload-dialog-or">'+l.i18n("or")+"</div>")[0],a.addEventListener("dragenter",function(n){n.stopPropagation(),n.preventDefault(),e(a).addClass(t)},!1),a.addEventListener("dragleave",function(n){n.stopPropagation(),n.preventDefault(),e(a).removeClass(t)},!1),a.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault()},!1),a.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),c({files:e.dataTransfer.files})},!1)),l.dialog(r,{title:this.title,modal:!0,resizable:!1,destroyOnClose:!0}),i)}},elFinder.prototype.commands.view=function(){this.value=this.fm.viewType,this.alwaysEnabled=!0,this.updateOnSelect=!1,this.options={ui:"viewbutton"},this.getstate=function(){return 0},this.exec=function(){var e=this.fm.storage("view","list"==this.value?"icons":"list");this.fm.viewchange(),this.update(void 0,e)}}}(jQuery)}.apply(e,arguments)})}(this),function(e){define("elfinder_i18n",["elfinder"],function(){return function(){elFinder&&elFinder.prototype&&"object"==typeof elFinder.prototype.i18&&(elFinder.prototype.i18.zh_CN={translator:"翻译者 deerchao &lt;deerchao@gmail.com&gt;, Andy Hu &lt;andyhu7@yahoo.com.hk&gt;",language:"简体中文",direction:"ltr",dateFormat:"Y-m-d H:i",fancyDateFormat:"$1 H:i",messages:{error:"错误",errUnknown:"未知的错误.",errUnknownCmd:"未知的命令.",errJqui:"无效的 jQuery UI 配置. 必须包含 Selectable, draggable 以及 droppable 组件.",errNode:"elFinder 需要能创建 DOM 元素.",errURL:"无效的 elFinder 配置! URL 选项未配置.",errAccess:"访问被拒绝.",errConnect:"不能连接到后端.",errAbort:"连接中止.",errTimeout:"连接超时.",errNotFound:"未找到后端.",errResponse:"无效的后端响应.",errConf:"无效的后端配置.",errJSON:"PHP JSON 模块未安装.",errNoVolumes:"无可读的卷.",errCmdParams:'无效的参数, 命令: "$1".',errDataNotJSON:"响应不符合 JSON 格式.",errDataEmpty:"响应为空.",errCmdReq:"后端请求需要命令名称.",errOpen:'无法打开 "$1".',errNotFolder:"对象不是文件夹.",errNotFile:"对象不是文件.",errRead:'无法读取 "$1".',errWrite:'无法写入 "$1".',errPerm:"无权限.",errLocked:'"$1" 被锁定,不能重命名, 移动或删除.',errExists:'文件 "$1" 已经存在了.',errInvName:"无效的文件名.",errFolderNotFound:"未找到文件夹.",errFileNotFound:"未找到文件.",errTrgFolderNotFound:'未找到目标文件夹 "$1".',errPopup:"浏览器拦截了弹出窗口. 请在选项中允许弹出窗口.",errMkdir:'不能创建文件夹 "$1".',errMkfile:'不能创建文件 "$1".',errRename:'不能重命名 "$1".',errCopyFrom:'不允许从卷 "$1" 复制.',errCopyTo:'不允许向卷 "$1" 复制.',errUpload:"上传出错.",errUploadFile:'无法上传 "$1".',errUploadNoFiles:"未找到要上传的文件.",errUploadTotalSize:"数据超过了允许的最大大小.",errUploadFileSize:"文件超过了允许的最大大小.",errUploadMime:"不允许的文件类型.",errUploadTransfer:'"$1" 传输错误.',errNotReplace:'对象 "$1" 已经在此位置存在, 不能被其他对象替换.',errReplace:'无法替换 "$1".',errSave:'无法保存 "$1".',errCopy:'无法复制 "$1".',errMove:'无法移动 "$1".',errCopyInItself:'不能移动 "$1" 到原有位置.',errRm:'无法删除 "$1".',errRmSrc:"不能删除源文件.",errExtract:'无法从 "$1" 提取文件.',errArchive:"无法创建压缩包.",errArcType:"不支持的压缩格式.",errNoArchive:"文件不是压缩包, 或者不支持该压缩格式.",errCmdNoSupport:"后端不支持该命令.",errReplByChild:"文件夹 “$1” 不能被它所包含的项目替换.",errArcSymlinks:"出于安全上的考虑，不允许解压包含符号链接的压缩包.",errArcMaxSize:"压缩包文件超过最大允许文件大小范围.",errResize:'无法重新调整大小 "$1".',errResizeDegree:"Invalid rotate degree.",errResizeRotate:"Image dose not rotated.",errResizeSize:"Invalid image size.",errResizeNoChange:"Image size not changed.",errUsupportType:"不被支持的文件格式.",errNotUTF8Content:'文件 "$1" 不是 UTF-8 格式, 不能编辑.',errNetMount:'无法装载 "$1".',errNetMountNoDriver:"不支持该协议.",errNetMountFailed:"装载失败.",errNetMountHostReq:"需要指定主机.",errSessionExpires:"Your session has expired due to inactivity.",errCreatingTempDir:'Unable to create temporary directory: "$1"',errFtpDownloadFile:'Unable to download file from FTP: "$1"',errFtpUploadFile:'Unable to upload file to FTP: "$1"',errFtpMkdir:'Unable to create remote directory on FTP: "$1"',errArchiveExec:'Error while archiving files: "$1"',errExtractExec:'Error while extracting files: "$1"',cmdarchive:"创建压缩包",cmdback:"后退",cmdcopy:"复制",cmdcut:"剪切",cmddownload:"下载",cmdduplicate:"创建复本",cmdedit:"编辑文件",cmdextract:"从压缩包提取文件",cmdforward:"前进",cmdgetfile:"选择文件",cmdhelp:"关于本软件",cmdhome:"首页",cmdinfo:"查看信息",cmdmkdir:"新建文件夹",cmdmkfile:"新建文本文件",cmdopen:"打开",cmdpaste:"粘贴",cmdquicklook:"预览",cmdreload:"刷新",cmdrename:"重命名",cmdrm:"删除",cmdsearch:"查找文件",cmdup:"转到上一级文件夹",cmdupload:"上传文件",cmdview:"查看",cmdresize:"重新调整大小",cmdsort:"排序",cmdnetmount:"装载网络卷",btnClose:"关闭",btnSave:"保存",btnRm:"删除",btnApply:"应用",btnCancel:"取消",btnNo:"否",btnYes:"是",btnMount:"装载",ntfopen:"打开文件夹",ntffile:"打开文件",ntfreload:"刷新文件夹内容",ntfmkdir:"创建文件夹",ntfmkfile:"创建文件",ntfrm:"删除文件",ntfcopy:"复制文件",ntfmove:"移动文件",ntfprepare:"准备复制文件",ntfrename:"重命名文件",ntfupload:"上传文件",ntfdownload:"下载文件",ntfsave:"保存文件",ntfarchive:"创建压缩包",ntfextract:"从压缩包提取文件",ntfsearch:"搜索文件",ntfresize:"正在更改尺寸",ntfsmth:"正在忙 >_<",ntfloadimg:"正在加载图片",ntfnetmount:"正在装载网络卷",ntfdim:"Acquiring image dimension",dateUnknown:"未知",Today:"今天",Yesterday:"昨天",msJan:"一月",msFeb:"二月",msMar:"三月",msApr:"四月",msMay:"五月",msJun:"六月",msJul:"七月",msAug:"八月",msSep:"九月",msOct:"十月",msNov:"十一月",msDec:"十二月",January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",Sunday:"星期日",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",Sun:"周日",Mon:"周一",Tue:"周二",Wed:"周三",Thu:"周四",Fri:"周五",Sat:"周六",sortname:"按名称",sortkind:"按类型",sortsize:"按大小",sortdate:"按日期",sortFoldersFirst:"文件夹优先",confirmReq:"请确认",confirmRm:"确定要删除文件吗?<br/>该操作不可撤销!",confirmRepl:"用新的文件替换原有文件?",apllyAll:"全部应用",name:"名称",size:"大小",perms:"权限",modify:"修改于",kind:"类别",read:"读取",write:"写入",noaccess:"无权限",and:"和",unknown:"未知",selectall:"选择所有文件",selectfiles:"选择文件",selectffile:"选择第一个文件",selectlfile:"选择最后一个文件",viewlist:"列表视图",viewicons:"图标视图",places:"位置",calc:"计算",path:"路径",aliasfor:"别名",locked:"锁定",dim:"尺寸",files:"文件",folders:"文件夹",items:"项目",yes:"是",no:"否",link:"链接",searcresult:"搜索结果",selected:"选中的项目",about:"关于",shortcuts:"快捷键",help:"帮助",webfm:"网络文件管理器",ver:"版本",protocolver:"协议版本",homepage:"项目主页",docs:"文档",github:"Fork us on Github",twitter:"Follow us on twitter",facebook:"Join us on facebook",team:"团队",chiefdev:"首席开发",developer:"开发",contributor:"贡献",maintainer:"维护",translator:"翻译",icons:"图标",dontforget:"别忘了带上你擦汗的毛巾",shortcutsof:"快捷键已禁用",dropFiles:"把文件拖到这里",or:"或者",selectForUpload:"选择要上传的文件",moveFiles:"移动文件",copyFiles:"复制文件",rmFromPlaces:"从位置中删除",aspectRatio:"保持比例",scale:"高宽比",width:"宽",height:"高",resize:"重新调整大小",crop:"裁切",rotate:"旋转","rotate-cw":"顺时针旋转90度","rotate-ccw":"逆时针旋转90度",degree:"度",netMountDialogTitle:"Mount network volume",protocol:"Protocol",host:"Host",port:"端口",user:"用户",pass:"密码",kindUnknown:"未知",kindFolder:"文件夹",kindAlias:"别名",kindAliasBroken:"错误的别名",kindApp:"程序",kindPostscript:"Postscript 文档",kindMsOffice:"Microsoft Office 文档",kindMsWord:"Microsoft Word 文档",kindMsExcel:"Microsoft Excel 文档",kindMsPP:"Microsoft Powerpoint 演示",kindOO:"Open Office 文档",kindAppFlash:"Flash 程序",kindPDF:"Portable Document Format (PDF)",kindTorrent:"Bittorrent 文件",kind7z:"7z 压缩包",kindTAR:"TAR 压缩包",kindGZIP:"GZIP 压缩包",kindBZIP:"BZIP 压缩包",kindXZ:"XZ 压缩包",kindZIP:"ZIP 压缩包",kindRAR:"RAR 压缩包",kindJAR:"Java JAR 文件",kindTTF:"True Type 字体",kindOTF:"Open Type 字体",kindRPM:"RPM 包",kindText:"文本文件",kindTextPlain:"纯文本",kindPHP:"PHP 源代码",kindCSS:"层叠样式表(CSS)",kindHTML:"HTML 文档",kindJS:"Javascript 源代码",kindRTF:"富文本格式(RTF)",kindC:"C 源代码",kindCHeader:"C 头文件",kindCPP:"C++ 源代码",kindCPPHeader:"C++ 头文件",kindShell:"Unix 外壳脚本",kindPython:"Python 源代码",kindJava:"Java 源代码",kindRuby:"Ruby 源代码",kindPerl:"Perl 源代码",kindSQL:"SQL 脚本",kindXML:"XML 文档",kindAWK:"AWK 源代码",kindCSV:"逗号分隔值文件(CSV)",kindDOCBOOK:"Docbook XML 文档",kindImage:"图片",kindBMP:"BMP 图片",kindJPEG:"JPEG 图片",kindGIF:"GIF 图片",kindPNG:"PNG 图片",kindTIFF:"TIFF 图片",kindTGA:"TGA 图片",kindPSD:"Adobe Photoshop 图片",kindXBITMAP:"X bitmap 图片",kindPXM:"Pixelmator 图片",kindAudio:"音频",kindAudioMPEG:"MPEG 音频",kindAudioMPEG4:"MPEG-4 音频",kindAudioMIDI:"MIDI 音频",kindAudioOGG:"Ogg Vorbis 音频",kindAudioWAV:"WAV 音频",AudioPlaylist:"MP3 播放列表",kindVideo:"视频",kindVideoDV:"DV 视频",kindVideoMPEG:"MPEG 视频",kindVideoMPEG4:"MPEG-4 视频",kindVideoAVI:"AVI 视频",kindVideoMOV:"Quick Time 视频",kindVideoWM:"Windows Media 视频",kindVideoFlash:"Flash 视频",kindVideoMKV:"Matroska 视频",kindVideoOGG:"Ogg 视频"}})
}.apply(e,arguments)})}(this),define("text!customUI/nodeList/templates/nodeListTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div>\r\n\r\n<div class="modal fade" id="deleteConfirm" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog">	\r\n		<div class="modal-content" style="width:450px">\r\n			<div class="modal-header">\r\n				<button id="deleteConfirm_x" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n	    		</button>\r\n        		<h4 class="modal-title" style="margin-left:-205px" id="jobDeleteLabel">{{nls.cancel_job_confirm}}\r\n        		</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n         		 <div id="delete_jobID_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="delete_jobName_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="delete_submit_time_section" style="margin-left:15px;font-size:14px">\r\n				</div>\r\n         	</div>\r\n     		<div class="modal-footer">\r\n        		<button id="deleteConfirm_btn" type="button" class="btn btn-primary" style="float:left;margin-left:15px;margin-bottom:20px;width:100px">{{nls.confirm}}\r\n        		</button>\r\n        		<button type="button" class="btn btn-default" data-dismiss="modal" style="float:left;margin-left:40px;margin-bottom:20px;width:100px;background-color:#eee">{{nls.cancel}}\r\n        		</button>\r\n 			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="deleteFinishConfirm" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog">	\r\n		<div class="modal-content" style="width:450px">\r\n			<div class="modal-header">\r\n				<button id="deleteFinishConfirm_x" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n	    		</button>\r\n        		<h4 class="modal-title" style="margin-left:-144px;margin-top:5px" id="jobDeleteFinishLabel">{{nls.delete_finish_job_confirm}}\r\n        		</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n         		 <div id="delete_finish_jobID_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="delete_finish_jobName_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="delete_finish_submit_time_section" style="margin-left:15px;font-size:14px">\r\n				</div>\r\n         	</div>\r\n     		<div class="modal-footer">\r\n        		<button id="deleteFinishConfirm_btn" type="button" class="btn btn-primary" style="float:left;margin-left:16px;margin-bottom:20px;width:100px">{{nls.confirm}}\r\n        		</button>\r\n        		<button type="button" class="btn btn-default" data-dismiss="modal" style="float:left;margin-left:40px;margin-bottom:20px;width:100px;background-color:#eee">{{nls.cancel}}\r\n        		</button>\r\n 			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="jobDetailProgressDialog" tabindex ="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog" style="margin-top:150px;width:300px">\r\n		<div class="modal-content">\r\n			<p style="text-align:center;margin-top:30px;margin-bottom:30px"><img src="/static/js/customUI/nodeList/resources/loading.gif" id="job_detail_loading_img"></div></p>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="rerunConfirm" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog">	\r\n		<div class="modal-content" style="width:450px">\r\n			<div class="modal-header">\r\n				<button id="rerunConfirm_x" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n	    		</button>\r\n        		<h4 class="modal-title" style="margin-left:-189px;font-size:16px" id="jobRerunLabel">{{nls.rerun_job_confirm}}\r\n        		</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div id="rerun_jobID_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="rerun_jobName_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="rerun_submit_time_section" style="margin-left:15px;font-size:14px;margin-bottom:5px">\r\n				</div>\r\n				<div id="rerun_finish_time_section" style="margin-left:15px;margin-bottom:15px;font-size:14px">\r\n				</div>\r\n         	</div>\r\n     		<div class="modal-footer">\r\n        		<button id="rerunConfirm_btn" type="button" class="btn btn-primary" style="float:left;margin-left:15px;margin-bottom:20px;width:100px">{{nls.confirm}}\r\n        		</button>\r\n        		<button type="button" class="btn btn-default" data-dismiss="modal" style="float:left;margin-left:40px;margin-bottom:20px;width:100px;background-color:#eee">{{nls.cancel}}\r\n        		</button>\r\n 			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="jobCancelResult" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog" style="margin-top:150px">\r\n		<div style="width:475px;margin-left:+35px">\r\n			<div id ="jobCancelResultArea">\r\n				<img id="jobCancelIcon" style="position:fixed;margin-top:-9px"></img>\r\n				<div id="jobCancelResultText" style="margin-left:45px"></div>\r\n				<div id="jobCancelID" style="margin-left:200px"></div>\r\n				<button style="margin-top:-20px" type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>\r\n     		</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="jobRerunResult" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog" style="margin-top:150px">\r\n		<div style="width:475px;margin-left:+35px">\r\n			<div id ="jobRerunResultArea">\r\n				<img id="jobRerunIcon" style="position:fixed;margin-top:-9px"></img>\r\n				<div id="jobRerunResultText" style="position:fixed;margin-left:45px"></div>\r\n				<div id="jobRerunID" style="margin-left:200px"></div>\r\n				<button style="margin-top:-20px" type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>\r\n     		</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="modal fade" id="jobModify" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n	<div class="modal-dialog">\r\n		<div class="modal-content" style="width:800px">\r\n			<div class="modal-header job-heading">\r\n				<button id="cancel_modify_x" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n        		</button>\r\n        		<h4 class="modal-title" id="jobSubmitConfirmLabel" style="font-weight:bold">{{nls.edit_job}}\r\n        		</h4>\r\n			</div>\r\n			<form class="form-horizontal job-form-group-margin-left" role="form">\r\n				<div class="form-group job-form-group-margin-left" style="margin-top:15px">\r\n					<label class="col-sm-2 control-label job-font-weight-normal" for="modify_job_name">*{{nls.job_name}}</label>\r\n					<div class="col-sm-10">\r\n						<input style="width:250px;margin-left:3px" class="form-control" type="text" id="modify_job_name" placeholder="Edit hint text in properties panel.">\r\n					</div>\r\n				</div>\r\n				<div class="form-group" style="margin-top:15px">\r\n					<label class="col-sm-2 control-label job-font-weight-normal" for="modify_file_name">*{{nls.job_file}}</label>\r\n					<div class="col-sm-10">\r\n						<input style="width:250px;margin-left:3px" class="form-control" type="text" id="modify_file_name" placeholder="Edit hint text in properties panel." readonly>\r\n					</div>\r\n				</div>\r\n				<div class="form-group">\r\n					<label class="col-sm-2 control-label job-font-weight-normal" for="modify_queue_name">*{{nls.queue_name}}</label>\r\n					<select class="form-control" id="modify_queue_name" style="width:110px;margin-left:152px">\r\n						<option value="empty">{{nls.please_select}}</option>\r\n					</select>\r\n				</div>\r\n				<div class="form-group" style="display:none">\r\n					<label class="col-sm-2 control-label" for="modify_work_dir">*{{nls.working_dir}}</label>\r\n					<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="modify_work_dir" placeholder="Edit hint text in properties panel.">\r\n					<button style="margin-left:300px;position:fixed" type="button" id="modify_work_dir_select_btn" class="btn btn-primary">{{nls.browse}}\r\n					</button>\r\n				</div>\r\n				<div class="form-group">\r\n					<label class="col-sm-2 control-label" for="modify_output_dir" style="font-weight:normal;margin-top:-10px">*{{nls.output_path}}<span style="font-size:small;font-weight:normal">({{nls.std_input_output}})</span></label>\r\n					<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="modify_output_dir_text" placeholder="Edit hint text in properties panel.">\r\n					<button style="margin-left:300px;position:fixed" type="button" id="modify_output_dir_select_btn" class="btn btn-primary">{{nls.browse}}\r\n					</button>\r\n				</div>\r\n				<div class="form-group" style="display:none">\r\n					<label class="col-sm-2 control-label" for="modify_MPI_prog">*{{nls.MPI_prog}}</label>\r\n					<input style="width:250px;margin-left:144px;position:fixed" class="form-control" type="text" id="modify_MPI_prog_text" placeholder="Edit hint text in properties panel.">\r\n					<button style="margin-left:300px;position:fixed" type="button" id="modify_MPI_prog_select_btn" class="btn btn-primary">{{nls.browse}}\r\n					</button>\r\n				</div>\r\n					<label class="col-sm-2 control-label" style="font:bold">{{nls.res_req}}</label>\r\n				</div>\r\n				<div class="form-group">\r\n					<label class="col-sm-2 control-label job-font-weight-normal">*{{nls.CPU_core_num}}</label>\r\n					<input style="width:50px;position:fixed;margin-left:152px" class="form-control" type="text" id="modify_CPU_core_num_text">\r\n					<div class="control-label comment_font_color" style="margin-left:210px;position:fixed">{{nls.core}}/div>\r\n					<label class="col-sm-2 control-label job-font-weight-normal" style="margin-left:190px;position:fixed">*{{nls.nodes_num}}</label>\r\n					<input style="width:50px;position:fixed;margin-left:440px" class="form-control" type="text" id="modify_nodes_num">\r\n					<div class="control-label comment_font_color" style="margin-left:500px;position:fixed">{{nls.available}}</div>\r\n					<input style="margin-left:480px;margin-top:9px" type="radio" name="modify_nodesRadios" id="modify_nodesRadios1" value="nodesRadiosOption1">{{nls.share}}\r\n					<input type="radio" name="modify_nodesRadios" id="modify_nodesRadios2" value="nodesRadiosOption2">{{nls.exclusive}}\r\n				</div>\r\n				<div class="form-group">						\r\n					<label class="col-sm-2 control-label job-font-weight-normal">{{nls.mem_size}}</label>\r\n					<input style="width:50px;position:fixed;margin-left:152px" class="form-control" type="text" id="modify_mem_size_text">\r\n					<div class="control-label comment_font_color" style="margin-left:210px;position:fixed">{{nls.giga}}</div>\r\n					<label style="font-size:small;margin-left:157px;margin-top:-8px" class="col-sm-2 control-label job-font-weight-normal">*{{nls.walltime}} (Wall Time)</label>\r\n					<input style="width:130px;position:fixed;margin-left:440px" class="form-control" type="text" id="modify_run_time_text" placeholder="Edit hint text in properties panel.">\r\n					<div class="control-label comment_font_color" style="margin-left:580px;position:absolute">{{nls.hours}}</div>\r\n				</div>\r\n				<div class="form-group">\r\n					<label class="col-sm-2 control-label" style="font:bold">{{nls.status_notify}}</label>\r\n					<div class="checkbox" style="margin-left:152px">\r\n						<label>\r\n							<input id="modify_notice_finish" type="checkbox" value="finish">{{nls.finish}}\r\n						</label>\r\n						<label>\r\n							<input id="modify_notice_suspend" type="checkbox" value="suspend">{{nls.suspend}}\r\n						</label>\r\n					</div>\r\n				</div>\r\n				<div class="form-group" style="margin-bottom:22px">\r\n					<label class="col-sm-2 control-label job-font-weight-normal" for="modify_email">{{nls.mail}}</label>\r\n					<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="modify_email" placeholder="Edit hint text in properties panel.">\r\n					</button>\r\n				</div>\r\n				<div class="form-group" style="margin-bottom:22px">\r\n					<label class="col-sm-2 control-label job-font-weight-normal" for="modify_cell">{{nls.phone}}</label>\r\n					<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="modify_cell" placeholder="Edit hint text in properties panel.">\r\n					</button>\r\n				</div>\r\n				<div style="margin-bottom:30px" class="form-group">\r\n					<label class="col-sm-2 control-label" for="confirm_exec_command">*{{nls.exec_command}}</label>\r\n					<textarea style="width:500px;margin-left:152px" class="form-control" rows="9" id="modify_exec_command"></textarea>\r\n				</div>\r\n				\r\n         		<div class="modal-footer">\r\n            		<button type="button" class="btn btn-primary">{{nls.confirm}}\r\n            		</button>\r\n            		<button type="button" class="btn btn-default" data-dismiss="modal">{{nls.cancel}}\r\n            		</button>\r\n     			</div>\r\n				\r\n			</form>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="row">\r\n    <div class="col-lg-12">\r\n        <div class="panel panel-default" style="margin-top:15px">\r\n            <div class="panel-heading">\r\n                <a class="btn btn-default" href="javascript:void(0)" style="display:none"><i class="fa fa-refresh"></i></a>\r\n                <a class="btn btn-default" href="javascript:void(0)" style="display:none"><i class="fa fa-plus"></i>{{nls.add}}</a>\r\n                <a style="font-weight:bold" id="running_btn" href="javascript:void(0)"><span>运行</span>&nbsp<span id="running_num" style="font-family:Arial;font-size:12px"></span></a>\r\n                <span>|</span>\r\n                <a style="font-weight:bold" id="waiting_btn" href="javascript:void(0)"><span>等待</span>&nbsp<span id="waiting_num" style="font-family:Arial;font-size:12px"></span></a>\r\n                <span>|</span>\r\n                <a style="font-weight:bold" id="finish_btn" href="javascript:void(0)"><span>结束</span>&nbsp<span id="finish_num" style="font-family:Arial;font-size:12px"></span></a>\r\n            </div>\r\n            <!-- /.panel-heading -->\r\n            <div class="panel-body" id="running-tab-panel" hide>\r\n                <div class="dataTable_wrapper">\r\n                    <table class="table table-striped table-bordered table-hover" id="running-dataTables" style="width:100%">\r\n                    </table>\r\n                </div>\r\n                <!-- /.table-responsive -->\r\n            </div>\r\n            <div class="panel-body" id="waiting-tab-panel" hide>\r\n                <div class="dataTable_wrapper">\r\n                    <table class="table table-striped table-bordered table-hover" id="waiting-dataTables" style="width:100%">\r\n                    </table>\r\n                </div>\r\n                <!-- /.table-responsive -->\r\n            </div>\r\n            <div class="panel-body" id="hanging-tab-panel" hide>\r\n                <div class="dataTable_wrapper">\r\n                    <table class="table table-striped table-bordered table-hover" id="hanging-dataTables" style="width:100%">\r\n                    </table>\r\n                </div>\r\n                <!-- /.table-responsive -->\r\n            </div>\r\n            <div class="panel-body"  id="finish-tab-panel" hide>\r\n                <div class="dataTable_wrapper">\r\n                    <table class="table table-striped table-bordered table-hover" id="finish-dataTables" style="width:100%">\r\n                    </table>\r\n                </div>\r\n                <!-- /.table-responsive -->\r\n            </div>\r\n            <!-- /.panel-body -->\r\n        </div>\r\n        <!-- /.panel -->\r\n    </div>\r\n    <!-- /.col-lg-12 -->\r\n</div>\r\n</div>\r\n<!-- /#page-wrapper -->'}),function(e,t,n){!function(e){"function"==typeof define&&define.amd?define("datatables",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(function(i){function r(e){var t,n,s="a aa ai ao as b fn i m o s ",o={};i.each(e,function(i){t=i.match(/^([^A-Z]+?)([A-Z])/),t&&-1!==s.indexOf(t[1]+" ")&&(n=i.replace(t[0],t[2].toLowerCase()),o[n]=i,"o"===t[1]&&r(e[i]))}),e._hungarianMap=o}function s(e,t,o){e._hungarianMap||r(e);var a;i.each(t,function(r){a=e._hungarianMap[r],a===n||!o&&t[a]!==n||("o"===a.charAt(0)?(t[a]||(t[a]={}),i.extend(!0,t[a],t[r]),s(e[a],t[a],o)):t[a]=t[r])})}function o(e){var t=Yt.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Nt(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Nt(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&Wt(i)}function a(e){yn(e,"ordering","bSort"),yn(e,"orderMulti","bSortMulti"),yn(e,"orderClasses","bSortClasses"),yn(e,"orderCellsTop","bSortCellsTop"),yn(e,"order","aaSorting"),yn(e,"orderFixed","aaSortingFixed"),yn(e,"paging","bPaginate"),yn(e,"pagingType","sPaginationType"),yn(e,"pageLength","iDisplayLength"),yn(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;i>n;n++)t[n]&&s(Yt.models.oSearch,t[n])}function l(e){yn(e,"orderable","bSortable"),yn(e,"orderData","aDataSort"),yn(e,"orderSequence","asSorting"),yn(e,"orderDataType","sortDataType")}function c(e){var t=e.oBrowser,n=i("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),r=n.find(".test");t.bScrollOversize=100===r[0].offsetWidth,t.bScrollbarLeft=1!==r.offset().left,n.remove()}function d(e,t,i,r,s,o){var a,l=r,c=!1;for(i!==n&&(a=i,c=!0);l!==s;)e.hasOwnProperty(l)&&(a=c?t(a,e[l],l,e):e[l],c=!0,l+=o);return a}function u(e,n){var r=Yt.defaults.column,s=e.aoColumns.length,o=i.extend({},Yt.models.oColumn,r,{nTh:n?n:t.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[s],mData:r.mData?r.mData:s,idx:s});e.aoColumns.push(o);var a=e.aoPreSearchCols;a[s]=i.extend({},Yt.models.oSearch,a[s]),h(e,s,i(n).data())}function h(e,t,r){var o=e.aoColumns[t],a=e.oClasses,c=i(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=c.attr("width")||null;var d=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(o.sWidthOrig=d[1])}r!==n&&null!==r&&(l(r),s(Yt.defaults.column,r),r.mDataProp===n||r.mData||(r.mData=r.mDataProp),r.sType&&(o._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),i.extend(o,r),Nt(o,r,"sWidth","sWidthOrig"),"number"==typeof r.iDataSort&&(o.aDataSort=[r.iDataSort]),Nt(o,r,"aDataSort"));var u=o.mData,h=I(u),p=o.mRender?I(o.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=i.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),o.fnGetData=function(e,t,i){var r=h(e,t,n,i);return p&&t?p(r,t,e,i):r},o.fnSetData=function(e,t,n){return D(u)(e,t,n)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,c.addClass(a.sSortableNone));var m=-1!==i.inArray("asc",o.asSorting),g=-1!==i.inArray("desc",o.asSorting);o.bSortable&&(m||g)?m&&!g?(o.sSortingClass=a.sSortableAsc,o.sSortingClassJUI=a.sSortJUIAscAllowed):!m&&g?(o.sSortingClass=a.sSortableDesc,o.sSortingClassJUI=a.sSortJUIDescAllowed):(o.sSortingClass=a.sSortable,o.sSortingClassJUI=a.sSortJUI):(o.sSortingClass=a.sSortableNone,o.sSortingClassJUI="")}function p(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;bt(e);for(var n=0,i=t.length;i>n;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;(""!==r.sY||""!==r.sX)&&gt(e),Bt(e,null,"column-sizing",[e])}function f(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(e,t){var n=v(e,"bVisible"),r=i.inArray(t,n);return-1!==r?r:null}function g(e){return v(e,"bVisible").length}function v(e,t){var n=[];return i.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function b(e){var t,i,r,s,o,a,l,c,d,u=e.aoColumns,h=e.aoData,p=Yt.ext.type.detect;for(t=0,i=u.length;i>t;t++)if(l=u[t],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,s=p.length;s>r;r++){for(o=0,a=h.length;a>o&&(d[o]===n&&(d[o]=k(e,o,t,"type")),c=p[r](d[o],e),c||r===p.length-1)&&"html"!==c;o++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function y(e,t,r,s){var o,a,l,c,d,h,p,f=e.aoColumns;if(t)for(o=t.length-1;o>=0;o--){p=t[o];var m=p.targets!==n?p.targets:p.aTargets;for(i.isArray(m)||(m=[m]),l=0,c=m.length;c>l;l++)if("number"==typeof m[l]&&m[l]>=0){for(;f.length<=m[l];)u(e);s(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)s(f.length+m[l],p);else if("string"==typeof m[l])for(d=0,h=f.length;h>d;d++)("_all"==m[l]||i(f[d].nTh).hasClass(m[l]))&&s(d,p)}if(r)for(o=0,a=r.length;a>o;o++)s(o,r[o])}function w(e,t,n,r){var s=e.aoData.length,o=i.extend(!0,{},Yt.models.oRow,{src:n?"dom":"data"});o._aData=t,e.aoData.push(o);for(var a=e.aoColumns,l=0,c=a.length;c>l;l++)n&&T(e,s,l,k(e,s,l)),a[l].sType=null;return e.aiDisplayMaster.push(s),(n||!e.oFeatures.bDeferRender)&&F(e,s,n,r),s}function x(e,t){var n;return t instanceof i||(t=i(t)),t.map(function(t,i){return n=R(e,i),w(e,n.data,i,n.cells)})}function _(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function C(e,t,n){return i.inArray(n,e.aoData[t].anCells)}function k(e,t,i,r){var s=e.iDraw,o=e.aoColumns[i],a=e.aoData[t]._aData,l=o.sDefaultContent,c=o.fnGetData(a,r,{settings:e,row:t,col:i});if(c===n)return e.iDrawError!=s&&null===l&&($t(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t,4),e.iDrawError=s),l;if(c!==a&&null!==c||null===l){if("function"==typeof c)return c.call(a)}else c=l;return null===c&&"display"==r?"":c}function T(e,t,n,i){var r=e.aoColumns[n],s=e.aoData[t]._aData;r.fnSetData(s,i,{settings:e,row:t,col:n})}function S(e){return i.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function I(e){if(i.isPlainObject(e)){var t={};return i.each(e,function(e,n){n&&(t[e]=I(n))}),function(e,i,r,s){var o=t[i]||t._;return o!==n?o(e,i,r,s):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,n,i,r){return e(t,n,i,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var r=function(e,t,i){var s,o,a,l;if(""!==i)for(var c=S(i),d=0,u=c.length;u>d;d++){if(s=c[d].match(wn),o=c[d].match(xn),s){c[d]=c[d].replace(wn,""),""!==c[d]&&(e=e[c[d]]),a=[],c.splice(0,d+1),l=c.join(".");for(var h=0,p=e.length;p>h;h++)a.push(r(e[h],t,l));var f=s[0].substring(1,s[0].length-1);e=""===f?a:a.join(f);break}if(o)c[d]=c[d].replace(xn,""),e=e[c[d]]();else{if(null===e||e[c[d]]===n)return n;e=e[c[d]]}}return e};return function(t,n){return r(t,n,e)}}function D(e){if(i.isPlainObject(e))return D(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var t=function(e,i,r){for(var s,o,a,l,c,d=S(r),u=d[d.length-1],h=0,p=d.length-1;p>h;h++){if(o=d[h].match(wn),a=d[h].match(xn),o){d[h]=d[h].replace(wn,""),e[d[h]]=[],s=d.slice(),s.splice(0,h+1),c=s.join(".");for(var f=0,m=i.length;m>f;f++)l={},t(l,i[f],c),e[d[h]].push(l);return}a&&(d[h]=d[h].replace(xn,""),e=e[d[h]](i)),(null===e[d[h]]||e[d[h]]===n)&&(e[d[h]]={}),e=e[d[h]]}u.match(xn)?e=e[u.replace(xn,"")](i):e[u.replace(wn,"")]=i};return function(n,i){return t(n,i,e)}}function M(e){return pn(e.aoData,"_aData")}function A(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function E(e,t,i){for(var r=-1,s=0,o=e.length;o>s;s++)e[s]==t?r=s:e[s]>t&&e[s]--;-1!=r&&i===n&&e.splice(r,1)}function P(e,t,i,r){var s,o,a=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=k(e,t,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==a.src)){var c=a.anCells;if(c)if(r!==n)l(c[r],r);else for(s=0,o=c.length;o>s;s++)l(c[s],s)}else a._aData=R(e,a,r,r===n?n:a._aData).data;a._aSortData=null,a._aFilterData=null;var d=e.aoColumns;if(r!==n)d[r].sType=null;else{for(s=0,o=d.length;o>s;s++)d[s].sType=null;j(a)}}function R(e,t,r,s){var o,a,l,c=[],d=t.firstChild,u=0,h=e.aoColumns,p=e._rowReadObject;s=s||p?{}:[];var f=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var i=e.substring(n+1),r=D(e);r(s,t.getAttribute(i))}}},m=function(e){if(r===n||r===u)if(a=h[u],l=i.trim(e.innerHTML),a&&a._bAttrSrc){var t=D(a.mData._);t(s,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)}else p?(a._setter||(a._setter=D(a.mData)),a._setter(s,l)):s[u]=l;u++};if(d)for(;d;)o=d.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&(m(d),c.push(d)),d=d.nextSibling;else{c=t.anCells;for(var g=0,v=c.length;v>g;g++)m(c[g])}return{data:s,cells:c}}function F(e,n,i,r){var s,o,a,l,c,d=e.aoData[n],u=d._aData,h=[];if(null===d.nTr){for(s=i||t.createElement("tr"),d.nTr=s,d.anCells=h,s._DT_RowIndex=n,j(d),l=0,c=e.aoColumns.length;c>l;l++)a=e.aoColumns[l],o=i?r[l]:t.createElement(a.sCellType),h.push(o),(!i||a.mRender||a.mData!==l)&&(o.innerHTML=k(e,n,l,"display")),a.sClass&&(o.className+=" "+a.sClass),a.bVisible&&!i?s.appendChild(o):!a.bVisible&&i&&o.parentNode.removeChild(o),a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,o,k(e,n,l),u,n,l);Bt(e,"aoRowCreatedCallback",null,[s,u,n])}d.nTr.setAttribute("role","row")}function j(e){var t=e.nTr,n=e._aData;if(t){if(n.DT_RowId&&(t.id=n.DT_RowId),n.DT_RowClass){var r=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?bn(e.__rowc.concat(r)):r,i(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&i(t).attr(n.DT_RowAttr),n.DT_RowData&&i(t).data(n.DT_RowData)}}function $(e){var t,n,r,s,o,a=e.nTHead,l=e.nTFoot,c=0===i("th, td",a).length,d=e.oClasses,u=e.aoColumns;for(c&&(s=i("<tr/>").appendTo(a)),t=0,n=u.length;n>t;t++)o=u[t],r=i(o.nTh).addClass(o.sClass),c&&r.appendTo(s),e.oFeatures.bSort&&(r.addClass(o.sSortingClass),o.bSortable!==!1&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),At(e,o.nTh,t))),o.sTitle!=r.html()&&r.html(o.sTitle),Ut(e,"header")(e,r,o,d);if(c&&B(e.aoHeader,a),i(a).find(">tr").attr("role","row"),i(a).find(">tr>th, >tr>td").addClass(d.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var h=e.aoFooter[0];for(t=0,n=h.length;n>t;t++)o=u[t],o.nTf=h[t].cell,o.sClass&&i(o.nTf).addClass(o.sClass)}}function N(e,t,r){var s,o,a,l,c,d,u,h,p,f=[],m=[],g=e.aoColumns.length;if(t){for(r===n&&(r=!1),s=0,o=t.length;o>s;s++){for(f[s]=t[s].slice(),f[s].nTr=t[s].nTr,a=g-1;a>=0;a--)e.aoColumns[a].bVisible||r||f[s].splice(a,1);m.push([])}for(s=0,o=f.length;o>s;s++){if(u=f[s].nTr)for(;d=u.firstChild;)u.removeChild(d);for(a=0,l=f[s].length;l>a;a++)if(h=1,p=1,m[s][a]===n){for(u.appendChild(f[s][a].cell),m[s][a]=1;f[s+h]!==n&&f[s][a].cell==f[s+h][a].cell;)m[s+h][a]=1,h++;for(;f[s][a+p]!==n&&f[s][a].cell==f[s][a+p].cell;){for(c=0;h>c;c++)m[s+c][a+p]=1;p++}i(f[s][a].cell).attr("rowspan",h).attr("colspan",p)}}}}function O(e){var t=Bt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==i.inArray(!1,t))return void ft(e,!1);var r=[],s=0,o=e.asStripeClasses,a=o.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,d="ssp"==qt(e),u=e.aiDisplay;e.bDrawing=!0,c!==n&&-1!==c&&(e._iDisplayStart=d?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(d){if(!e.bDestroying&&!q(e))return}else e.iDraw++;if(0!==u.length)for(var f=d?0:h,m=d?e.aoData.length:p,v=f;m>v;v++){var b=u[v],y=e.aoData[b];null===y.nTr&&F(e,b);var w=y.nTr;if(0!==a){var x=o[s%a];y._sRowStripe!=x&&(i(w).removeClass(y._sRowStripe).addClass(x),y._sRowStripe=x)}Bt(e,"aoRowCallback",null,[w,y._aData,s,v]),r.push(w),s++}else{var _=l.sZeroRecords;1==e.iDraw&&"ajax"==qt(e)?_=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(_=l.sEmptyTable),r[0]=i("<tr/>",{"class":a?o[0]:""}).append(i("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(_))[0]}Bt(e,"aoHeaderCallback","header",[i(e.nTHead).children("tr")[0],M(e),h,p,u]),Bt(e,"aoFooterCallback","footer",[i(e.nTFoot).children("tr")[0],M(e),h,p,u]);var C=i(e.nTBody);C.children().detach(),C.append(i(r)),Bt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function z(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;i&&It(e),r?J(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,O(e),e._drawHold=!1}function L(e){var t=e.oClasses,n=i(e.nTable),r=i("<div/>").insertBefore(n),s=e.oFeatures,o=i("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,l,c,d,u,h,p=e.sDom.split(""),f=0;f<p.length;f++){if(a=null,l=p[f],"<"==l){if(c=i("<div/>")[0],d=p[f+1],"'"==d||'"'==d){for(u="",h=2;p[f+h]!=d;)u+=p[f+h],h++;if("H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")){var m=u.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else"#"==u.charAt(0)?c.id=u.substr(1,u.length-1):c.className=u;f+=h}o.append(c),o=i(c)}else if(">"==l)o=o.parent();else if("l"==l&&s.bPaginate&&s.bLengthChange)a=dt(e);else if("f"==l&&s.bFilter)a=Y(e);else if("r"==l&&s.bProcessing)a=pt(e);else if("t"==l)a=mt(e);else if("i"==l&&s.bInfo)a=rt(e);else if("p"==l&&s.bPaginate)a=ut(e);else if(0!==Yt.ext.feature.length)for(var g=Yt.ext.feature,v=0,b=g.length;b>v;v++)if(l==g[v].cFeature){a=g[v].fnInit(e);break}if(a){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(a),o.append(a)}}r.replaceWith(o)}function B(e,t){var n,r,s,o,a,l,c,d,u,h,p,f=i(t).children("tr"),m=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(e.splice(0,e.length),s=0,l=f.length;l>s;s++)e.push([]);for(s=0,l=f.length;l>s;s++)for(n=f[s],d=0,r=n.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=1*r.getAttribute("colspan"),h=1*r.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,c=m(e,s,d),p=1===u?!0:!1,a=0;u>a;a++)for(o=0;h>o;o++)e[s+o][c+a]={cell:r,unique:p},e[s+o].nTr=n;r=r.nextSibling}}function H(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],B(n,t)));for(var r=0,s=n.length;s>r;r++)for(var o=0,a=n[r].length;a>o;o++)!n[r][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[r][o].cell);return i}function U(e,t,n){if(Bt(e,"aoServerParams","serverParams",[t]),t&&i.isArray(t)){var r={},s=/(.*?)\[\]$/;i.each(t,function(e,t){var n=t.name.match(s);if(n){var i=n[0];r[i]||(r[i]=[]),r[i].push(t.value)}else r[t.name]=t.value}),t=r}var o,a=e.ajax,l=e.oInstance;if(i.isPlainObject(a)&&a.data){o=a.data;var c=i.isFunction(o)?o(t):o;t=i.isFunction(o)&&c?c:i.extend(!0,t,c),delete a.data}var d={data:t,success:function(t){var i=t.error||t.sError;i&&e.oApi._fnLog(e,0,i),e.json=t,Bt(e,null,"xhr",[e,t]),n(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n){var i=e.oApi._fnLog;"parsererror"==n?i(e,0,"Invalid JSON response",1):4===t.readyState&&i(e,0,"Ajax error",7),ft(e,!1)}};e.oAjaxData=t,Bt(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,i.map(t,function(e,t){return{name:t,value:e}}),n,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=i.ajax(i.extend(d,{url:a||e.sAjaxSource})):i.isFunction(a)?e.jqXHR=a.call(l,t,n,e):(e.jqXHR=i.ajax(i.extend(d,a)),a.data=o)
}function q(e){return e.bAjaxDataGet?(e.iDraw++,ft(e,!0),U(e,G(e),function(t){W(e,t)}),!1):!0}function G(e){var t,n,r,s,o=e.aoColumns,a=o.length,l=e.oFeatures,c=e.oPreviousSearch,d=e.aoPreSearchCols,u=[],h=St(e),p=e._iDisplayStart,f=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(e,t){u.push({name:e,value:t})};m("sEcho",e.iDraw),m("iColumns",a),m("sColumns",pn(o,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",f);var g={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;a>t;t++)r=o[t],s=d[t],n="function"==typeof r.mData?"function":r.mData,g.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),m("mDataProp_"+t,n),l.bFilter&&(m("sSearch_"+t,s.sSearch),m("bRegex_"+t,s.bRegex),m("bSearchable_"+t,r.bSearchable)),l.bSort&&m("bSortable_"+t,r.bSortable);l.bFilter&&(m("sSearch",c.sSearch),m("bRegex",c.bRegex)),l.bSort&&(i.each(h,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",h.length));var v=Yt.ext.legacy.ajax;return null===v?e.sAjaxSource?u:g:v?u:g}function W(e,t){var i=function(e,i){return t[e]!==n?t[e]:t[i]},r=i("sEcho","draw"),s=i("iTotalRecords","recordsTotal"),o=i("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}A(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var a=V(e,t),l=0,c=a.length;c>l;l++)w(e,a[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,O(e),e._bInitComplete||lt(e,t),e.bAjaxDataGet=!0,ft(e,!1)}function V(e,t){var r=i.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?t.aaData||t[r]:""!==r?I(r)(t):t}function Y(e){var n=e.oClasses,r=e.sTableId,s=e.oLanguage,o=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=s.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var d=i("<div/>",{id:a.f?null:r+"_filter","class":n.sFilter}).append(i("<label/>").append(c)),u=function(){var t=(a.f,this.value?this.value:"");t!=o.sSearch&&(J(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,O(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===qt(e)?400:0,p=i("input",d).val(o.sSearch).attr("placeholder",s.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?yt(u,h):u).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",r);return i(e.nTable).on("search.dt.DT",function(n,i){if(e===i)try{p[0]!==t.activeElement&&p.val(o.sSearch)}catch(r){}}),d[0]}function J(e,t,i){var r=e.oPreviousSearch,s=e.aoPreSearchCols,o=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},a=function(e){return e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex};if(b(e),"ssp"!=qt(e)){Q(e,t.sSearch,i,a(t),t.bSmart,t.bCaseInsensitive),o(t);for(var l=0;l<s.length;l++)K(e,s[l].sSearch,l,a(s[l]),s[l].bSmart,s[l].bCaseInsensitive);X(e)}else o(t);e.bFiltered=!0,Bt(e,null,"search",[e])}function X(e){for(var t,n,i=Yt.ext.search,r=e.aiDisplay,s=0,o=i.length;o>s;s++){for(var a=[],l=0,c=r.length;c>l;l++)n=r[l],t=e.aoData[n],i[s](e,t._aFilterData,n,t._aData,l)&&a.push(n);r.length=0,r.push.apply(r,a)}}function K(e,t,n,i,r,s){if(""!==t)for(var o,a=e.aiDisplay,l=Z(t,i,r,s),c=a.length-1;c>=0;c--)o=e.aoData[a[c]]._aFilterData[n],l.test(o)||a.splice(c,1)}function Q(e,t,n,i,r,s){var o,a,l,c=Z(t,i,r,s),d=e.oPreviousSearch.sSearch,u=e.aiDisplayMaster;if(0!==Yt.ext.search.length&&(n=!0),a=tt(e),t.length<=0)e.aiDisplay=u.slice();else for((a||n||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=u.slice()),o=e.aiDisplay,l=o.length-1;l>=0;l--)c.test(e.aoData[o[l]]._sFilterRow)||o.splice(l,1)}function Z(e,t,n,r){if(e=t?e:et(e),n){var s=i.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}function et(e){return e.replace(sn,"\\$1")}function tt(e){var t,n,i,r,s,o,a,l,c=e.aoColumns,d=Yt.ext.type.search,u=!1;for(n=0,r=e.aoData.length;r>n;n++)if(l=e.aoData[n],!l._aFilterData){for(o=[],i=0,s=c.length;s>i;i++)t=c[i],t.bSearchable?(a=k(e,n,i,"filter"),d[t.sType]&&(a=d[t.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(_n.innerHTML=a,a=Cn?_n.textContent:_n.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),u=!0}return u}function nt(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function it(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function rt(e){var t=e.sTableId,n=e.aanFeatures.i,r=i("<div/>",{"class":e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:st,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),i(e.nTable).attr("aria-describedby",t+"_info")),r[0]}function st(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,r=e._iDisplayStart+1,s=e.fnDisplayEnd(),o=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==o&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=ot(e,l);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,r,s,o,a,l)),i(t).html(l)}}function ot(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,s=e.fnRecordsDisplay(),o=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,s)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(s/r)))}function at(e){var t,n,i,r=e.iInitDisplayStart,s=e.aoColumns,o=e.oFeatures;if(!e.bInitialised)return void setTimeout(function(){at(e)},200);for(L(e),$(e),N(e,e.aoHeader),N(e,e.aoFooter),ft(e,!0),o.bAutoWidth&&bt(e),t=0,n=s.length;n>t;t++)i=s[t],i.sWidth&&(i.nTh.style.width=kt(i.sWidth));z(e);var a=qt(e);"ssp"!=a&&("ajax"==a?U(e,[],function(n){var i=V(e,n);for(t=0;t<i.length;t++)w(e,i[t]);e.iInitDisplayStart=r,z(e),ft(e,!1),lt(e,n)},e):(ft(e,!1),lt(e)))}function lt(e,t){e._bInitComplete=!0,t&&p(e),Bt(e,"aoInitComplete","init",[e,t])}function ct(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Ht(e),Bt(e,null,"length",[e,n])}function dt(e){for(var t=e.oClasses,n=e.sTableId,r=e.aLengthMenu,s=i.isArray(r[0]),o=s?r[0]:r,a=s?r[1]:r,l=i("<select/>",{name:n+"_length","aria-controls":n,"class":t.sLengthSelect}),c=0,d=o.length;d>c;c++)l[0][c]=new Option(a[c],o[c]);var u=i("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(u[0].id=n+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),i("select",u).val(e._iDisplayLength).bind("change.DT",function(){ct(e,i(this).val()),O(e)}),i(e.nTable).bind("length.dt.DT",function(t,n,r){e===n&&i("select",u).val(r)}),u[0]}function ut(e){var t=e.sPaginationType,n=Yt.ext.pager[t],r="function"==typeof n,s=function(e){O(e)},o=i("<div/>").addClass(e.oClasses.sPaging+t)[0],a=e.aanFeatures;return r||n.fnInit(e,o,s),a.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(r){var t,i,o=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),d=-1===l,u=d?0:Math.ceil(o/l),h=d?1:Math.ceil(c/l),p=n(u,h);for(t=0,i=a.p.length;i>t;t++)Ut(e,"pageButton")(e,a.p[t],t,p,u,h)}else n.fnUpdate(e,s)},sName:"pagination"})),o}function ht(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,s=e.fnRecordsDisplay();0===s||-1===r?i=0:"number"==typeof t?(i=t*r,i>s&&(i=0)):"first"==t?i=0:"previous"==t?(i=r>=0?i-r:0,0>i&&(i=0)):"next"==t?s>i+r&&(i+=r):"last"==t?i=Math.floor((s-1)/r)*r:$t(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==i;return e._iDisplayStart=i,o&&(Bt(e,null,"page",[e]),n&&O(e)),o}function pt(e){return i("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,t){e.oFeatures.bProcessing&&i(e.aanFeatures.r).css("display",t?"block":"none"),Bt(e,null,"processing",[e,t])}function mt(e){var t=i(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var r=n.sX,s=n.sY,o=e.oClasses,a=t.children("caption"),l=a.length?a[0]._captionSide:null,c=i(t[0].cloneNode(!1)),d=i(t[0].cloneNode(!1)),u=t.children("tfoot"),h="<div/>",p=function(e){return e?kt(e):null};n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),u.length||(u=null);var f=i(h,{"class":o.sScrollWrapper}).append(i(h,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?p(r):"100%"}).append(i(h,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(t.children("thead"))))).append(i(h,{"class":o.sScrollBody}).css({overflow:"auto",height:p(s),width:p(r)}).append(t));u&&f.append(i(h,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:r?p(r):"100%"}).append(i(h,{"class":o.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(t.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],b=u?m[2]:null;return r&&i(v).on("scroll.DT",function(){var e=this.scrollLeft;g.scrollLeft=e,u&&(b.scrollLeft=e)}),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),f[0]}function gt(e){var t,n,r,s,o,a,l,c,d,u=e.oScroll,h=u.sX,p=u.sXInner,m=u.sY,g=u.iBarWidth,v=i(e.nScrollHead),b=v[0].style,y=v.children("div"),w=y[0].style,x=y.children("table"),_=e.nScrollBody,C=i(_),k=_.style,T=i(e.nScrollFoot),S=T.children("div"),I=S.children("table"),D=i(e.nTHead),M=i(e.nTable),A=M[0],E=A.style,P=e.nTFoot?i(e.nTFoot):null,R=e.oBrowser,F=R.bScrollOversize,j=[],$=[],N=[],O=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(M.children("thead, tfoot").remove(),o=D.clone().prependTo(M),t=D.find("tr"),r=o.find("tr"),o.find("th, td").removeAttr("tabindex"),P&&(a=P.clone().prependTo(M),n=P.find("tr"),s=a.find("tr")),h||(k.width="100%",v[0].style.width="100%"),i.each(H(e,o),function(t,n){l=f(e,t),n.style.width=e.aoColumns[l].sWidth}),P&&vt(function(e){e.style.width=""},s),u.bCollapse&&""!==m&&(k.height=C[0].offsetHeight+D[0].offsetHeight+"px"),d=M.outerWidth(),""===h?(E.width="100%",F&&(M.find("tbody").height()>_.offsetHeight||"scroll"==C.css("overflow-y"))&&(E.width=kt(M.outerWidth()-g))):""!==p?E.width=kt(p):d==C.width()&&C.height()<M.height()?(E.width=kt(d-g),M.outerWidth()>d-g&&(E.width=kt(d))):E.width=kt(d),d=M.outerWidth(),vt(O,r),vt(function(e){N.push(e.innerHTML),j.push(kt(i(e).css("width")))},r),vt(function(e,t){e.style.width=j[t]},t),i(r).height(0),P&&(vt(O,s),vt(function(e){$.push(kt(i(e).css("width")))},s),vt(function(e,t){e.style.width=$[t]},n),i(s).height(0)),vt(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+N[t]+"</div>",e.style.width=j[t]},r),P&&vt(function(e,t){e.innerHTML="",e.style.width=$[t]},s),M.outerWidth()<d?(c=_.scrollHeight>_.offsetHeight||"scroll"==C.css("overflow-y")?d+g:d,F&&(_.scrollHeight>_.offsetHeight||"scroll"==C.css("overflow-y"))&&(E.width=kt(c-g)),(""===h||""!==p)&&$t(e,1,"Possible column misalignment",6)):c="100%",k.width=kt(c),b.width=kt(c),P&&(e.nScrollFoot.style.width=kt(c)),m||F&&(k.height=kt(A.offsetHeight+g)),m&&u.bCollapse){k.height=kt(m);var z=h&&A.offsetWidth>_.offsetWidth?g:0;A.offsetHeight<_.offsetHeight&&(k.height=kt(A.offsetHeight+z))}var L=M.outerWidth();x[0].style.width=kt(L),w.width=kt(L);var B=M.height()>_.clientHeight||"scroll"==C.css("overflow-y"),U="padding"+(R.bScrollbarLeft?"Left":"Right");w[U]=B?g+"px":"0px",P&&(I[0].style.width=kt(L),S[0].style.width=kt(L),S[0].style[U]=B?g+"px":"0px"),C.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(_.scrollTop=0)}function vt(e,t,n){for(var i,r,s=0,o=0,a=t.length;a>o;){for(i=t[o].firstChild,r=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,s):e(i,s),s++),i=i.nextSibling,r=n?r.nextSibling:null;o++}}function bt(t){var n,r,s,o,a,l=t.nTable,c=t.aoColumns,d=t.oScroll,u=d.sY,h=d.sX,f=d.sXInner,m=c.length,b=v(t,"bVisible"),y=i("th",t.nTHead),w=l.style.width||l.getAttribute("width"),x=l.parentNode,_=!1;for(n=0;n<b.length;n++)r=c[b[n]],null!==r.sWidth&&(r.sWidth=wt(r.sWidthOrig,x),_=!0);if(_||h||u||m!=g(t)||m!=y.length){var C=i(l).clone().empty().css("visibility","hidden").removeAttr("id").append(i(t.nTHead).clone(!1)).append(i(t.nTFoot).clone(!1)).append(i("<tbody><tr/></tbody>"));C.find("tfoot th, tfoot td").css("width","");var k=C.find("tbody tr");for(y=H(t,C.find("thead")[0]),n=0;n<b.length;n++)r=c[b[n]],y[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?kt(r.sWidthOrig):"";if(t.aoData.length)for(n=0;n<b.length;n++)s=b[n],r=c[s],i(_t(t,s)).clone(!1).append(r.sContentPadding).appendTo(k);if(C.appendTo(x),h&&f?C.width(f):h?(C.css("width","auto"),C.width()<x.offsetWidth&&C.width(x.offsetWidth)):u?C.width(x.offsetWidth):w&&C.width(w),xt(t,C[0]),h){var T=0;for(n=0;n<b.length;n++)r=c[b[n]],a=i(y[n]).outerWidth(),T+=null===r.sWidthOrig?a:parseInt(r.sWidth,10)+a-i(y[n]).width();C.width(kt(T)),l.style.width=kt(T)}for(n=0;n<b.length;n++)r=c[b[n]],o=i(y[n]).width(),o&&(r.sWidth=kt(o));l.style.width=kt(C.css("width")),C.remove()}else for(n=0;m>n;n++)c[n].sWidth=kt(y.eq(n).width());w&&(l.style.width=kt(w)),!w&&!h||t._reszEvt||(i(e).bind("resize.DT-"+t.sInstance,yt(function(){p(t)})),t._reszEvt=!0)}function yt(e,t){var i,r,s=t!==n?t:200;return function(){var t=this,o=+new Date,a=arguments;i&&i+s>o?(clearTimeout(r),r=setTimeout(function(){i=n,e.apply(t,a)},s)):(i=o,e.apply(t,a))}}function wt(e,n){if(!e)return 0;var r=i("<div/>").css("width",kt(e)).appendTo(n||t.body),s=r[0].offsetWidth;return r.remove(),s}function xt(e,t){var n=e.oScroll;if(n.sX||n.sY){var r=n.sX?0:n.iBarWidth;t.style.width=kt(i(t).outerWidth()-r)}}function _t(e,t){var n=Ct(e,t);if(0>n)return null;var r=e.aoData[n];return r.nTr?r.anCells[t]:i("<td/>").html(k(e,n,t,"display"))[0]}function Ct(e,t){for(var n,i=-1,r=-1,s=0,o=e.aoData.length;o>s;s++)n=k(e,s,t,"display")+"",n=n.replace(kn,""),n.length>i&&(i=n.length,r=s);return r}function kt(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Tt(){if(!Yt.__scrollbarWidth){var e=i("<p/>").css({width:"100%",height:200,padding:0})[0],t=i("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body"),n=e.offsetWidth;t.css("overflow","scroll");var r=e.offsetWidth;n===r&&(r=t[0].clientWidth),t.remove(),Yt.__scrollbarWidth=n-r}return Yt.__scrollbarWidth}function St(e){var t,r,s,o,a,l,c,d=[],u=e.aoColumns,h=e.aaSortingFixed,p=i.isPlainObject(h),f=[],m=function(e){e.length&&!i.isArray(e[0])?f.push(e):f.push.apply(f,e)};for(i.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(e.aaSorting),p&&h.post&&m(h.post),t=0;t<f.length;t++)for(c=f[t][0],o=u[c].aDataSort,r=0,s=o.length;s>r;r++)a=o[r],l=u[a].sType||"string",f[t]._idx===n&&(f[t]._idx=i.inArray(f[t][1],u[a].asSorting)),d.push({src:c,col:a,dir:f[t][1],index:f[t]._idx,type:l,formatter:Yt.ext.type.order[l+"-pre"]});return d}function It(e){var t,n,i,r,s,o=[],a=Yt.ext.type.order,l=e.aoData,c=(e.aoColumns,0),d=e.aiDisplayMaster;for(b(e),s=St(e),t=0,n=s.length;n>t;t++)r=s[t],r.formatter&&c++,Pt(e,r.col);if("ssp"!=qt(e)&&0!==s.length){for(t=0,i=d.length;i>t;t++)o[d[t]]=t;d.sort(c===s.length?function(e,t){var n,i,r,a,c,d=s.length,u=l[e]._aSortData,h=l[t]._aSortData;for(r=0;d>r;r++)if(c=s[r],n=u[c.col],i=h[c.col],a=i>n?-1:n>i?1:0,0!==a)return"asc"===c.dir?a:-a;return n=o[e],i=o[t],i>n?-1:n>i?1:0}:function(e,t){var n,i,r,c,d,u,h=s.length,p=l[e]._aSortData,f=l[t]._aSortData;for(r=0;h>r;r++)if(d=s[r],n=p[d.col],i=f[d.col],u=a[d.type+"-"+d.dir]||a["string-"+d.dir],c=u(n,i),0!==c)return c;return n=o[e],i=o[t],i>n?-1:n>i?1:0})}e.bSorted=!0}function Dt(e){for(var t,n,i=e.aoColumns,r=St(e),s=e.oLanguage.oAria,o=0,a=i.length;a>o;o++){var l=i[o],c=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==o?(u.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=c[r[0].index+1]||c[0]):n=c[0],t=d+("asc"===n?s.sSortAscending:s.sSortDescending)):t=d,u.setAttribute("aria-label",t)}}function Mt(e,t,r,s){var o,a=e.aoColumns[t],l=e.aaSorting,c=a.asSorting,d=function(e,t){var r=e._idx;return r===n&&(r=i.inArray(e[1],c)),r+1<c.length?r+1:t?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var u=i.inArray(t,pn(l,"0"));-1!==u?(o=d(l[u],!0),null===o?l.splice(u,1):(l[u][1]=c[o],l[u]._idx=o)):(l.push([t,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==t?(o=d(l[0]),l.length=1,l[0][1]=c[o],l[0]._idx=o):(l.length=0,l.push([t,c[0]]),l[0]._idx=0);z(e),"function"==typeof s&&s(e)}function At(e,t,n,i){var r=e.aoColumns[n];zt(t,{},function(t){r.bSortable!==!1&&(e.oFeatures.bProcessing?(ft(e,!0),setTimeout(function(){Mt(e,n,t.shiftKey,i),"ssp"!==qt(e)&&ft(e,!1)},0)):Mt(e,n,t.shiftKey,i))})}function Et(e){var t,n,r,s=e.aLastSort,o=e.oClasses.sSortColumn,a=St(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(t=0,n=s.length;n>t;t++)r=s[t].src,i(pn(e.aoData,"anCells",r)).removeClass(o+(2>t?t+1:3));for(t=0,n=a.length;n>t;t++)r=a[t].src,i(pn(e.aoData,"anCells",r)).addClass(o+(2>t?t+1:3))}e.aLastSort=a}function Pt(e,t){var n,i=e.aoColumns[t],r=Yt.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,m(e,t)));for(var s,o,a=Yt.ext.type.order[i.sType+"-pre"],l=0,c=e.aoData.length;c>l;l++)s=e.aoData[l],s._aSortData||(s._aSortData=[]),(!s._aSortData[t]||r)&&(o=r?n[l]:k(e,l,t,"sort"),s._aSortData[t]=a?a(o):o)}function Rt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:i.extend(!0,[],e.aaSorting),search:nt(e.oPreviousSearch),columns:i.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:nt(e.aoPreSearchCols[n])}})};Bt(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function Ft(e){var t,n,r=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time){var o=Bt(e,"aoStateLoadParams","stateLoadParams",[e,s]);if(-1===i.inArray(!1,o)){var a=e.iStateDuration;if(!(a>0&&s.time<+new Date-1e3*a)&&r.length===s.columns.length){for(e.oLoadedState=i.extend(!0,{},s),e._iDisplayStart=s.start,e.iInitDisplayStart=s.start,e._iDisplayLength=s.length,e.aaSorting=[],i.each(s.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)}),i.extend(e.oPreviousSearch,it(s.search)),t=0,n=s.columns.length;n>t;t++){var l=s.columns[t];r[t].bVisible=l.visible,i.extend(e.aoPreSearchCols[t],it(l.search))}Bt(e,"aoStateLoaded","stateLoaded",[e,s])}}}}}function jt(e){var t=Yt.settings,n=i.inArray(e,pn(t,"nTable"));return-1!==n?t[n]:null}function $t(t,n,i,r){if(i="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(i);else{var s=Yt.ext,o=s.sErrMode||s.errMode;if(Bt(t,null,"error",[t,r,i]),"alert"==o)alert(i);else{if("throw"==o)throw new Error(i);"function"==typeof o&&o(t,r,i)}}}function Nt(e,t,r,s){return i.isArray(r)?void i.each(r,function(n,r){i.isArray(r)?Nt(e,t,r[0],r[1]):Nt(e,t,r)}):(s===n&&(s=r),void(t[r]!==n&&(e[s]=t[r])))}function Ot(e,t,n){var r;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],i.isPlainObject(r)?(i.isPlainObject(e[s])||(e[s]={}),i.extend(!0,e[s],r)):e[s]=n&&"data"!==s&&"aaData"!==s&&i.isArray(r)?r.slice():r);return e}function zt(e,t,n){i(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function Lt(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Bt(e,t,n,r){var s=[];return t&&(s=i.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,r)})),null!==n&&i(e.nTable).trigger(n+".dt",r),s}function Ht(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Ut(e,t){var n=e.renderer,r=Yt.ext.renderer[t];return i.isPlainObject(n)&&n[t]?r[n[t]]||r._:"string"==typeof n?r[n]||r._:r._}function qt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Gt(e,t){var n=[],i=Vn.numbers_length,r=Math.floor(i/2);return i>=t?n=mn(0,t):r>=e?(n=mn(0,i-2),n.push("ellipsis"),n.push(t-1)):e>=t-1-r?(n=mn(t-(i-2),t),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=mn(e-1,e+2),n.push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Wt(e){i.each({num:function(t){return Yn(t,e)},"num-fmt":function(t){return Yn(t,e,on)},"html-num":function(t){return Yn(t,e,tn)},"html-num-fmt":function(t){return Yn(t,e,tn,on)}},function(t,n){Jt.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Jt.type.search[t+e]=Jt.type.search.html)})}function Vt(e){return function(){var t=[jt(this[Yt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Yt.ext.internal[e].apply(this,t)}}var Yt,Jt,Xt,Kt,Qt,Zt={},en=/[\r\n]/g,tn=/<.*?>/g,nn=/^[\w\+\-]/,rn=/[\w\+\-]$/,sn=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),on=/[',$£€¥%\u2009\u202F]/g,an=function(e){return e&&e!==!0&&"-"!==e?!1:!0},ln=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},cn=function(e,t){return Zt[t]||(Zt[t]=new RegExp(et(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Zt[t],"."):e},dn=function(e,t,n){var i="string"==typeof e;return t&&i&&(e=cn(e,t)),n&&i&&(e=e.replace(on,"")),an(e)||!isNaN(parseFloat(e))&&isFinite(e)},un=function(e){return an(e)||"string"==typeof e},hn=function(e,t,n){if(an(e))return!0;var i=un(e);return i&&dn(vn(e),t,n)?!0:null},pn=function(e,t,i){var r=[],s=0,o=e.length;if(i!==n)for(;o>s;s++)e[s]&&e[s][t]&&r.push(e[s][t][i]);else for(;o>s;s++)e[s]&&r.push(e[s][t]);return r},fn=function(e,t,i,r){var s=[],o=0,a=t.length;if(r!==n)for(;a>o;o++)e[t[o]][i]&&s.push(e[t[o]][i][r]);else for(;a>o;o++)s.push(e[t[o]][i]);return s},mn=function(e,t){var i,r=[];t===n?(t=0,i=e):(i=t,t=e);for(var s=t;i>s;s++)r.push(s);return r},gn=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},vn=function(e){return e.replace(tn,"")},bn=function(e){var t,n,i,r=[],s=e.length,o=0;e:for(n=0;s>n;n++){for(t=e[n],i=0;o>i;i++)if(r[i]===t)continue e;r.push(t),o++}return r},yn=function(e,t,i){e[t]!==n&&(e[i]=e[t])},wn=/\[.*?\]$/,xn=/\(\)$/,_n=i("<div>")[0],Cn=_n.textContent!==n,kn=/<.*?>/g;Yt=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Xt(e?jt(this[Jt.iApiIndex]):this)},this.fnAddData=function(e,t){var r=this.api(!0),s=i.isArray(e)&&(i.isArray(e[0])||i.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(t===n||t)&&r.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],r=i.oScroll;e===n||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&gt(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var r=this.api(!0),s=r.rows(e),o=s.settings()[0],a=o.aoData[s[0][0]];return s.remove(),t&&t.call(this,o,a),(i===n||i)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,i,r,s,o){var a=this.api(!0);null===t||t===n?a.search(e,i,r,o):a.column(t).search(e,i,r,o),a.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==r||"th"==r?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){var r=this.api(!0).column(e).visible(t);(i===n||i)&&r.columns.adjust().draw()},this.fnSettings=function(){return jt(this[Jt.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,i,r,s){var o=this.api(!0);return i===n||null===i?o.row(t).data(e):o.cell(t,i).data(e),(s===n||s)&&o.columns.adjust(),(r===n||r)&&o.draw(),0},this.fnVersionCheck=Jt.fnVersionCheck;var t=this,r=e===n,d=this.length;r&&(e={}),this.oApi=this.internal=Jt.internal;for(var p in Yt.ext.internal)p&&(this[p]=Vt(p));return this.each(function(){var p,f={},m=d>1?Ot(f,e,!0):e,g=0,v=this.getAttribute("id"),b=!1,_=Yt.defaults,C=i(this);if("table"!=this.nodeName.toLowerCase())return void $t(null,0,"Non-table node initialisation ("+this.nodeName+")",2);a(_),l(_.column),s(_,_,!0),s(_.column,_.column,!0),s(_,i.extend(m,C.data()));var k=Yt.settings;for(g=0,p=k.length;p>g;g++){var T=k[g];if(T.nTable==this||T.nTHead.parentNode==this||T.nTFoot&&T.nTFoot.parentNode==this){var S=m.bRetrieve!==n?m.bRetrieve:_.bRetrieve,I=m.bDestroy!==n?m.bDestroy:_.bDestroy;if(r||S)return T.oInstance;if(I){T.oInstance.fnDestroy();break}return void $t(T,0,"Cannot reinitialise DataTable",3)}if(T.sTableId==this.id){k.splice(g,1);break}}(null===v||""===v)&&(v="DataTables_Table_"+Yt.ext._unique++,this.id=v);var D=i.extend(!0,{},Yt.models.oSettings,{nTable:this,oApi:t.internal,oInit:m,sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});k.push(D),D.oInstance=1===t.length?t:C.dataTable(),a(m),m.oLanguage&&o(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=i.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Ot(i.extend(!0,{},_),m),Nt(D.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Nt(D,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Nt(D.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(D.oLanguage,m,"fnInfoCallback"),Lt(D,"aoDrawCallback",m.fnDrawCallback,"user"),Lt(D,"aoServerParams",m.fnServerParams,"user"),Lt(D,"aoStateSaveParams",m.fnStateSaveParams,"user"),Lt(D,"aoStateLoadParams",m.fnStateLoadParams,"user"),Lt(D,"aoStateLoaded",m.fnStateLoaded,"user"),Lt(D,"aoRowCallback",m.fnRowCallback,"user"),Lt(D,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Lt(D,"aoHeaderCallback",m.fnHeaderCallback,"user"),Lt(D,"aoFooterCallback",m.fnFooterCallback,"user"),Lt(D,"aoInitComplete",m.fnInitComplete,"user"),Lt(D,"aoPreDrawCallback",m.fnPreDrawCallback,"user");var M=D.oClasses;if(m.bJQueryUI?(i.extend(M,Yt.ext.oJUIClasses,m.oClasses),m.sDom===_.sDom&&"lfrtip"===_.sDom&&(D.sDom='<"H"lfr>t<"F"ip>'),D.renderer?i.isPlainObject(D.renderer)&&!D.renderer.header&&(D.renderer.header="jqueryui"):D.renderer="jqueryui"):i.extend(M,Yt.ext.classes,m.oClasses),C.addClass(M.sTable),(""!==D.oScroll.sX||""!==D.oScroll.sY)&&(D.oScroll.iBarWidth=Tt()),D.oScroll.sX===!0&&(D.oScroll.sX="100%"),D.iInitDisplayStart===n&&(D.iInitDisplayStart=m.iDisplayStart,D._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){D.bDeferLoading=!0;var A=i.isArray(m.iDeferLoading);D._iRecordsDisplay=A?m.iDeferLoading[0]:m.iDeferLoading,D._iRecordsTotal=A?m.iDeferLoading[1]:m.iDeferLoading}var E=D.oLanguage;i.extend(!0,E,m.oLanguage),""!==E.sUrl&&(i.ajax({dataType:"json",url:E.sUrl,success:function(e){o(e),s(_.oLanguage,e),i.extend(!0,E,e),at(D)},error:function(){at(D)}}),b=!0),null===m.asStripeClasses&&(D.asStripeClasses=[M.sStripeOdd,M.sStripeEven]);var P=D.asStripeClasses,F=i("tbody tr",this).eq(0);-1!==i.inArray(!0,i.map(P,function(e){return F.hasClass(e)}))&&(i("tbody tr",this).removeClass(P.join(" ")),D.asDestroyStripes=P.slice());var j,$=[],N=this.getElementsByTagName("thead");if(0!==N.length&&(B(D.aoHeader,N[0]),$=H(D)),null===m.aoColumns)for(j=[],g=0,p=$.length;p>g;g++)j.push(null);else j=m.aoColumns;for(g=0,p=j.length;p>g;g++)u(D,$?$[g]:null);if(y(D,m.aoColumnDefs,j,function(e,t){h(D,e,t)}),F.length){var O=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};i.each(R(D,F[0]).cells,function(e,t){var i=D.aoColumns[e];if(i.mData===e){var r=O(t,"sort")||O(t,"order"),s=O(t,"filter")||O(t,"search");(null!==r||null!==s)&&(i.mData={_:e+".display",sort:null!==r?e+".@data-"+r:n,type:null!==r?e+".@data-"+r:n,filter:null!==s?e+".@data-"+s:n},h(D,e))}})}var z=D.oFeatures;if(m.bStateSave&&(z.bStateSave=!0,Ft(D,m),Lt(D,"aoDrawCallback",Rt,"state_save")),m.aaSorting===n){var L=D.aaSorting;for(g=0,p=L.length;p>g;g++)L[g][1]=D.aoColumns[g].asSorting[0]}Et(D),z.bSort&&Lt(D,"aoDrawCallback",function(){if(D.bSorted){var e=St(D),t={};i.each(e,function(e,n){t[n.src]=n.dir}),Bt(D,null,"order",[D,e,t]),Dt(D)}}),Lt(D,"aoDrawCallback",function(){(D.bSorted||"ssp"===qt(D)||z.bDeferRender)&&Et(D)},"sc"),c(D);var U=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),q=C.children("thead");0===q.length&&(q=i("<thead/>").appendTo(this)),D.nTHead=q[0];var G=C.children("tbody");0===G.length&&(G=i("<tbody/>").appendTo(this)),D.nTBody=G[0];var W=C.children("tfoot");if(0===W.length&&U.length>0&&(""!==D.oScroll.sX||""!==D.oScroll.sY)&&(W=i("<tfoot/>").appendTo(this)),0===W.length||0===W.children().length?C.addClass(M.sNoFooter):W.length>0&&(D.nTFoot=W[0],B(D.aoFooter,D.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w(D,m.aaData[g]);else(D.bDeferLoading||"dom"==qt(D))&&x(D,i(D.nTBody).children("tr"));D.aiDisplay=D.aiDisplayMaster.slice(),D.bInitialised=!0,b===!1&&at(D)}),t=null,this};var Tn=[],Sn=Array.prototype,In=function(e){var t,n,r=Yt.settings,s=i.map(r,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=i.inArray(e,s),-1!==t?[r[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=i(e):e instanceof i&&(n=e),n?n.map(function(){return t=i.inArray(this,s),-1!==t?r[t]:null}).toArray():void 0):[]};Xt=function(e,t){if(!this instanceof Xt)throw"DT API must be constructed as a new object";var n=[],r=function(e){var t=In(e);t&&n.push.apply(n,t)};if(i.isArray(e))for(var s=0,o=e.length;o>s;s++)r(e[s]);else r(e);this.context=bn(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Xt.extend(this,this,Tn)},Yt.Api=Xt,Xt.prototype={concat:Sn.concat,context:[],each:function(e){for(var t=0,n=this.length;n>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Xt(t[e],this[e]):null},filter:function(e){var t=[];if(Sn.filter)t=Sn.filter.call(this,e,this);else for(var n=0,i=this.length;i>n;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Xt(this.context,t)},flatten:function(){var e=[];return new Xt(this.context,e.concat.apply(e,this.toArray()))},join:Sn.join,indexOf:Sn.indexOf||function(e,t){for(var n=t||0,i=this.length;i>n;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,i,r){var s,o,a,l,c,d,u,h,p=[],f=this.context,m=this.selector;
for("string"==typeof e&&(r=i,i=t,t=e,e=!1),o=0,a=f.length;a>o;o++){var g=new Xt(f[o]);if("table"===t)s=i.call(g,f[o],o),s!==n&&p.push(s);else if("columns"===t||"rows"===t)s=i.call(g,f[o],this[o],o),s!==n&&p.push(s);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[o],"column-rows"===t&&(d=Rn(f[o],m.opts)),l=0,c=u.length;c>l;l++)h=u[l],s="cell"===t?i.call(g,f[o],h.row,h.column,o,l):i.call(g,f[o],h,o,l,d),s!==n&&p.push(s)}if(p.length||r){var v=new Xt(f,e?p.concat.apply([],p):p),b=v.selector;return b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,v}return this},lastIndexOf:Sn.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Sn.map)t=Sn.map.call(this,e,this);else for(var n=0,i=this.length;i>n;n++)t.push(e.call(this,this[n],n));return new Xt(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:Sn.pop,push:Sn.push,reduce:Sn.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:Sn.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:Sn.reverse,selector:null,shift:Sn.shift,sort:Sn.sort,splice:Sn.splice,toArray:function(){return Sn.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new Xt(this.context,bn(this))},unshift:Sn.unshift},Xt.extend=function(e,t,n){if(n.length&&t&&(t instanceof Xt||t.__dt_wrapper)){var r,s,o,a=function(e,t,n){return function(){var i=t.apply(e,arguments);return Xt.extend(i,i,n.methodExt),i}};for(r=0,s=n.length;s>r;r++)o=n[r],t[o.name]="function"==typeof o.val?a(e,o.val,o):i.isPlainObject(o.val)?{}:o.val,t[o.name].__dt_wrapper=!0,Xt.extend(e,t[o.name],o.propExt)}},Xt.register=Kt=function(e,t){if(i.isArray(e))for(var n=0,r=e.length;r>n;n++)Xt.register(e[n],t);else{var s,o,a,l,c=e.split("."),d=Tn,u=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n].name===t)return e[n];return null};for(s=0,o=c.length;o>s;s++){l=-1!==c[s].indexOf("()"),a=l?c[s].replace("()",""):c[s];var h=u(d,a);h||(h={name:a,val:{},methodExt:[],propExt:[]},d.push(h)),s===o-1?h.val=t:d=l?h.methodExt:h.propExt}}},Xt.registerPlural=Qt=function(e,t,r){Xt.register(e,r),Xt.register(t,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof Xt?e.length?i.isArray(e[0])?new Xt(e.context,e[0]):e[0]:n:e})};var Dn=function(e,t){if("number"==typeof e)return[t[e]];var n=i.map(t,function(e){return e.nTable});return i(n).filter(e).map(function(){var e=i.inArray(this,n);return t[e]}).toArray()};Kt("tables()",function(e){return e?new Xt(Dn(e,this.context)):this}),Kt("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new Xt(n[0]):t}),Qt("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Qt("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Qt("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Qt("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Qt("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Kt("draw()",function(e){return this.iterator("table",function(t){z(t,e===!1)})}),Kt("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){ht(t,e)})}),Kt("page.info()",function(){if(0===this.context.length)return n;var e=this.context[0],t=e._iDisplayStart,i=e._iDisplayLength,r=e.fnRecordsDisplay(),s=-1===i;return{page:s?0:Math.floor(t/i),pages:s?1:Math.ceil(r/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r}}),Kt("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){ct(t,e)})});var Mn=function(e,t,n){if("ssp"==qt(e)?z(e,t):(ft(e,!0),U(e,[],function(n){A(e);for(var i=V(e,n),r=0,s=i.length;s>r;r++)w(e,i[r]);z(e,t),ft(e,!1)})),n){var i=new Xt(e);i.one("draw",function(){n(i.ajax.json())})}};Kt("ajax.json()",function(){var e=this.context;return e.length>0?e[0].json:void 0}),Kt("ajax.params()",function(){var e=this.context;return e.length>0?e[0].oAjaxData:void 0}),Kt("ajax.reload()",function(e,t){return this.iterator("table",function(n){Mn(n,t===!1,e)})}),Kt("ajax.url()",function(e){var t=this.context;return e===n?0===t.length?n:(t=t[0],t.ajax?i.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){i.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Kt("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Mn(n,t===!1,e)})});var An=function(e,t){var r,s,o,a,l,c,d=[],u=typeof e;for(e&&"string"!==u&&"function"!==u&&e.length!==n||(e=[e]),o=0,a=e.length;a>o;o++)for(s=e[o]&&e[o].split?e[o].split(","):[e[o]],l=0,c=s.length;c>l;l++)r=t("string"==typeof s[l]?i.trim(s[l]):s[l]),r&&r.length&&d.push.apply(d,r);return d},En=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},Pn=function(e){for(var t=0,n=e.length;n>t;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Rn=function(e,t){var n,r,s,o=[],a=e.aiDisplay,l=e.aiDisplayMaster,c=t.search,d=t.order,u=t.page;if("ssp"==qt(e))return"removed"===c?[]:mn(0,l.length);if("current"==u)for(n=e._iDisplayStart,r=e.fnDisplayEnd();r>n;n++)o.push(a[n]);else if("current"==d||"applied"==d)o="none"==c?l.slice():"applied"==c?a.slice():i.map(l,function(e){return-1===i.inArray(e,a)?e:null});else if("index"==d||"original"==d)for(n=0,r=e.aoData.length;r>n;n++)"none"==c?o.push(n):(s=i.inArray(n,a),(-1===s&&"removed"==c||s>=0&&"applied"==c)&&o.push(n));return o},Fn=function(e,t,n){return An(t,function(t){var r=ln(t);if(null!==r&&!n)return[r];var s=Rn(e,n);if(null!==r&&-1!==i.inArray(r,s))return[r];if(!t)return s;if("function"==typeof t)return i.map(s,function(n){var i=e.aoData[n];return t(n,i._aData,i.nTr)?n:null});var o=gn(fn(e.aoData,s,"nTr"));return t.nodeName&&-1!==i.inArray(t,o)?[t._DT_RowIndex]:i(o).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};Kt("rows()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e=""),t=En(t);var r=this.iterator("table",function(n){return Fn(n,e,t)},1);return r.selector.rows=e,r.selector.opts=t,r}),Kt("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),Kt("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return fn(e.aoData,t,"_aData")},1)}),Qt("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Qt("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){P(t,n,e)})}),Qt("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Qt("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var s=t.aoData;s.splice(n,1);for(var o=0,a=s.length;a>o;o++)null!==s[o].nTr&&(s[o].nTr._DT_RowIndex=o);i.inArray(n,t.aiDisplay);E(t.aiDisplayMaster,n),E(t.aiDisplay,n),E(e[r],n,!1),Ht(t)})}),Kt("rows.add()",function(e){var t=this.iterator("table",function(t){var n,i,r,s=[];for(i=0,r=e.length;r>i;i++)n=e[i],s.push(n.nodeName&&"TR"===n.nodeName.toUpperCase()?x(t,n)[0]:w(t,n));return s},1),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),Kt("row()",function(e,t){return Pn(this.rows(e,t))}),Kt("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,P(t[0],this[0],"data"),this)}),Kt("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Kt("row.add()",function(e){e instanceof i&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?x(t,e)[0]:w(t,e)});return this.row(t[0])});var jn=function(e,t,n,r){var s=[],o=function(t,n){if(t.nodeName&&"tr"===t.nodeName.toLowerCase())s.push(t);else{var r=i("<tr><td/></tr>").addClass(n);i("td",r).addClass(n).html(t)[0].colSpan=g(e),s.push(r[0])}};if(i.isArray(n)||n instanceof i)for(var a=0,l=n.length;l>a;a++)o(n[a],r);else o(n,r);t._details&&t._details.remove(),t._details=i(s),t._detailsShow&&t._details.insertAfter(t.nTr)},$n=function(e,t){var i=e.context;if(i.length){var r=i[0].aoData[t!==n?t:e[0]];r._details&&(r._details.remove(),r._detailsShow=n,r._details=n)}},Nn=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];i._details&&(i._detailsShow=t,t?i._details.insertAfter(i.nTr):i._details.detach(),On(n[0]))}},On=function(e){var t=new Xt(e),n=".dt.DT_details",i="draw"+n,r="column-visibility"+n,s="destroy"+n,o=e.aoData;t.off(i+" "+r+" "+s),pn(o,"_details").length>0&&(t.on(i,function(n,i){e===i&&t.rows({page:"current"}).eq(0).each(function(e){var t=o[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(r,function(t,n){if(e===n)for(var i,r=g(n),s=0,a=o.length;a>s;s++)i=o[s],i._details&&i._details.children("td[colspan]").attr("colspan",r)}),t.on(s,function(n,i){if(e===i)for(var r=0,s=o.length;s>r;r++)o[r]._details&&$n(t,r)}))},zn="",Ln=zn+"row().child",Bn=Ln+"()";Kt(Bn,function(e,t){var i=this.context;return e===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(e===!0?this.child.show():e===!1?$n(this):i.length&&this.length&&jn(i[0],i[0].aoData[this[0]],e,t),this)}),Kt([Ln+".show()",Bn+".show()"],function(){return Nn(this,!0),this}),Kt([Ln+".hide()",Bn+".hide()"],function(){return Nn(this,!1),this}),Kt([Ln+".remove()",Bn+".remove()"],function(){return $n(this),this}),Kt(Ln+".isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Hn=/^(.+):(name|visIdx|visible)$/,Un=function(e,t,n,i,r){for(var s=[],o=0,a=r.length;a>o;o++)s.push(k(e,r[o],t));return s},qn=function(e,t,n){var r=e.aoColumns,s=pn(r,"sName"),o=pn(r,"nTh");return An(t,function(t){var a=ln(t);if(""===t)return mn(r.length);if(null!==a)return[a>=0?a:r.length+a];if("function"==typeof t){var l=Rn(e,n);return i.map(r,function(n,i){return t(i,Un(e,i,0,0,l),o[i])?i:null})}var c="string"==typeof t?t.match(Hn):"";if(!c)return i(o).filter(t).map(function(){return i.inArray(this,o)}).toArray();switch(c[2]){case"visIdx":case"visible":var d=parseInt(c[1],10);if(0>d){var u=i.map(r,function(e,t){return e.bVisible?t:null});return[u[u.length+d]]}return[f(e,d)];case"name":return i.map(s,function(e,t){return e===c[1]?t:null})}})},Gn=function(e,t,r,s){var o,a,l,c,d=e.aoColumns,u=d[t],h=e.aoData;if(r===n)return u.bVisible;if(u.bVisible!==r){if(r){var f=i.inArray(!0,pn(d,"bVisible"),t+1);for(a=0,l=h.length;l>a;a++)c=h[a].nTr,o=h[a].anCells,c&&c.insertBefore(o[t],o[f]||null)}else i(pn(e.aoData,"anCells",t)).detach();u.bVisible=r,N(e,e.aoHeader),N(e,e.aoFooter),(s===n||s)&&(p(e),(e.oScroll.sX||e.oScroll.sY)&&gt(e)),Bt(e,null,"column-visibility",[e,t,r]),Rt(e)}};Kt("columns()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e=""),t=En(t);var r=this.iterator("table",function(n){return qn(n,e,t)},1);return r.selector.cols=e,r.selector.opts=t,r}),Qt("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Qt("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Qt("columns().data()","column().data()",function(){return this.iterator("column-rows",Un,1)}),Qt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Qt("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,s){return fn(t.aoData,s,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Qt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return fn(e.aoData,r,"anCells",t)},1)}),Qt("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(i,r){return e===n?i.aoColumns[r].bVisible:void Gn(i,r,e,t)})}),Qt("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Kt("columns.adjust()",function(){return this.iterator("table",function(e){p(e)},1)}),Kt("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return f(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Kt("column()",function(e,t){return Pn(this.columns(e,t))});var Wn=function(e,t,r){var s,o,a,l,c,d,u,h=e.aoData,p=Rn(e,r),f=gn(fn(h,p,"anCells")),m=i([].concat.apply([],f)),g=e.aoColumns.length;return An(t,function(t){var r="function"==typeof t;if(null===t||t===n||r){for(o=[],a=0,l=p.length;l>a;a++)for(s=p[a],c=0;g>c;c++)d={row:s,column:c},r?(u=e.aoData[s],t(d,k(e,s,c),u.anCells[c])&&o.push(d)):o.push(d);return o}return i.isPlainObject(t)?[t]:m.filter(t).map(function(e,t){return s=t.parentNode._DT_RowIndex,{row:s,column:i.inArray(t,h[s].anCells)}}).toArray()})};Kt("cells()",function(e,t,r){if(i.isPlainObject(e)&&(typeof e.row!==n?(r=t,t=null):(r=e,e=null)),i.isPlainObject(t)&&(r=t,t=null),null===t||t===n)return this.iterator("table",function(t){return Wn(t,e,En(r))});var s,o,a,l,c,d=this.columns(t,r),u=this.rows(e,r),h=this.iterator("table",function(e,t){for(s=[],o=0,a=u[t].length;a>o;o++)for(l=0,c=d[t].length;c>l;l++)s.push({row:u[t][o],column:d[t][l]});return s},1);return i.extend(h.selector,{cols:t,rows:e,opts:r}),h}),Qt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){var r=e.aoData[t].anCells;return r?r[i]:n},1)}),Kt("cells().data()",function(){return this.iterator("cell",function(e,t,n){return k(e,t,n)},1)}),Qt("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Qt("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return k(t,n,i,e)},1)}),Qt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),Qt("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){P(t,n,e,i)})}),Kt("cell()",function(e,t,n){return Pn(this.cells(e,t,n))}),Kt("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?k(t[0],i[0].row,i[0].column):n:(T(t[0],i[0].row,i[0].column,e),P(t[0],i[0].row,"data",i[0].column),this)}),Kt("order()",function(e,t){var r=this.context;return e===n?0!==r.length?r[0].aaSorting:n:("number"==typeof e?e=[[e,t]]:i.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Kt("order.listener()",function(e,t,n){return this.iterator("table",function(i){At(i,e,t,n)})}),Kt(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,r){var s=[];i.each(t[r],function(t,n){s.push([n,e])}),n.aaSorting=s})}),Kt("search()",function(e,t,r,s){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&J(n,i.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===s?!0:s}),1)})}),Qt("columns().search()","column().search()",function(e,t,r,s){return this.iterator("column",function(o,a){var l=o.aoPreSearchCols;return e===n?l[a].sSearch:void(o.oFeatures.bFilter&&(i.extend(l[a],{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===s?!0:s}),J(o,o.oPreviousSearch,1)))})}),Kt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Kt("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Kt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Kt("state.save()",function(){return this.iterator("table",function(e){Rt(e)})}),Yt.versionCheck=Yt.fnVersionCheck=function(e){for(var t,n,i=Yt.version.split("."),r=e.split("."),s=0,o=r.length;o>s;s++)if(t=parseInt(i[s],10)||0,n=parseInt(r[s],10)||0,t!==n)return t>n;return!0},Yt.isDataTable=Yt.fnIsDataTable=function(e){var t=i(e).get(0),n=!1;return i.each(Yt.settings,function(e,r){(r.nTable===t||i("table",r.nScrollHead)[0]===t||i("table",r.nScrollFoot)[0]===t)&&(n=!0)}),n},Yt.tables=Yt.fnTables=function(e){return i.map(Yt.settings,function(t){return!e||e&&i(t.nTable).is(":visible")?t.nTable:void 0})},Yt.util={throttle:yt,escapeRegex:et},Yt.camelToHungarian=s,Kt("$()",function(e,t){var n=this.rows(t).nodes(),r=i(n);return i([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),i.each(["on","one","off"],function(e,t){Kt(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=i(this.tables().nodes());return n[t].apply(n,e),this})}),Kt("clear()",function(){return this.iterator("table",function(e){A(e)})}),Kt("settings()",function(){return new Xt(this.context,this.context)}),Kt("data()",function(){return this.iterator("table",function(e){return pn(e.aoData,"_aData")}).flatten()}),Kt("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var r,s=n.nTableWrapper.parentNode,o=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,d=n.nTFoot,u=i(a),h=i(l),p=i(n.nTableWrapper),f=i.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Bt(n,"aoDestroyCallback","destroy",[n]),t||new Xt(n).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(e).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&a!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),u.detach(),p.detach(),n.aaSorting=[],n.aaSortingFixed=[],Et(n),i(f).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),n.bJUI&&(i("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),i("th, td",c).each(function(){var e=i("div."+o.sSortJUIWrapper,this);i(this).append(e.contents()),e.detach()})),!t&&s&&s.insertBefore(a,n.nTableReinsertBefore),h.children().detach(),h.append(f),u.css("width",n.sDestroyWidth).removeClass(o.sTable),r=n.asDestroyStripes.length,r&&h.children().each(function(e){i(this).addClass(n.asDestroyStripes[e%r])});var m=i.inArray(n,Yt.settings);-1!==m&&Yt.settings.splice(m,1)})}),Yt.version="1.10.5",Yt.settings=[],Yt.models={},Yt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Yt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Yt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Yt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},Yt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},r(Yt.defaults),Yt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Yt.defaults.column),Yt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==qt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==qt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,s=r.bPaginate;return r.bServerSide?s===!1||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!s||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Yt.ext=Jt={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Yt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Yt.version},i.extend(Jt,{afnFiltering:Jt.search,aTypes:Jt.type.detect,ofnSearch:Jt.type.search,oSort:Jt.type.order,afnSortData:Jt.order,aoFeatures:Jt.feature,oApi:Jt.internal,oStdClasses:Jt.classes,oPagination:Jt.pager}),i.extend(Yt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var t=e+"ui-state-default",n=e+"css_right ui-icon ui-icon-",r=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(Yt.ext.oJUIClasses,Yt.ext.classes,{sPageButton:"fg-button ui-button "+t,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:t+" sorting_asc",sSortDesc:t+" sorting_desc",sSortable:t+" sorting",sSortableAsc:t+" sorting_asc_disabled",sSortableDesc:t+" sorting_desc_disabled",sSortableNone:t+" sorting_disabled",sSortJUIAsc:n+"triangle-1-n",sSortJUIDesc:n+"triangle-1-s",sSortJUI:n+"carat-2-n-s",sSortJUIAscAllowed:n+"carat-1-n",sSortJUIDescAllowed:n+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+t,sScrollFoot:"dataTables_scrollFoot "+t,sHeaderTH:t,sFooterTH:t,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var Vn=Yt.ext.pager;i.extend(Vn,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Gt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Gt(e,t),"next","last"]},_numbers:Gt,numbers_length:7}),i.extend(!0,Yt.ext.renderer,{pageButton:{_:function(e,n,r,s,o,a){var l,c,d,u=e.oClasses,h=e.oLanguage.oPaginate,p=0,f=function(t,n){var s,d,m,g,v=function(t){ht(e,t.data.action,!0)};for(s=0,d=n.length;d>s;s++)if(g=n[s],i.isArray(g)){var b=i("<"+(g.DT_el||"div")+"/>").appendTo(t);f(b,g)}else{switch(l="",c="",g){case"ellipsis":t.append("<span>&hellip;</span>");break;case"first":l=h.sFirst,c=g+(o>0?"":" "+u.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(o>0?"":" "+u.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(a-1>o?"":" "+u.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(a-1>o?"":" "+u.sPageButtonDisabled);break;default:l=g+1,c=o===g?u.sPageButtonActive:""}l&&(m=i("<a>",{"class":u.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":p,tabindex:e.iTabIndex,id:0===r&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),zt(m,{action:g},v),p++)}};try{d=i(t.activeElement).data("dt-idx")}catch(m){}f(i(n).empty(),s),d&&i(n).find("[data-dt-idx="+d+"]").focus()}}}),i.extend(Yt.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return dn(e,n)?"num"+n:null},function(e){if(!(!e||e instanceof Date||nn.test(e)&&rn.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||an(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return dn(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return hn(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return hn(e,n,!0)?"html-num-fmt"+n:null},function(e){return an(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),i.extend(Yt.ext.type.search,{html:function(e){return an(e)?e:"string"==typeof e?e.replace(en," ").replace(tn,""):""},string:function(e){return an(e)?e:"string"==typeof e?e.replace(en," "):e}});var Yn=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=cn(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};return i.extend(Jt.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return an(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return an(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),Wt(""),i.extend(!0,Yt.ext.renderer,{header:{_:function(e,t,n,r){i(e.nTable).on("order.dt.DT",function(i,s,o,a){if(e===s){var l=n.idx;t.removeClass(n.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,t,n,r){i("<div/>").addClass(r.sSortJUIWrapper).append(t.contents()).append(i("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),i(e.nTable).on("order.dt.DT",function(i,s,o,a){if(e===s){var l=n.idx;t.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass),t.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[l]?r.sSortJUIAsc:"desc"==a[l]?r.sSortJUIDesc:n.sSortingClassJUI)}})}}}),Yt.render={number:function(e,t,n,i){return{display:function(r){var s=0>r?"-":"";r=Math.abs(parseFloat(r));var o=parseInt(r,10),a=n?t+(r-o).toFixed(n).substring(2):"";return s+(i||"")+o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+a}}}},i.extend(Yt.ext.internal,{_fnExternApiFunc:Vt,_fnBuildAjax:U,_fnAjaxUpdate:q,_fnAjaxParameters:G,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:V,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:s,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:_,_fnNodeToColumnIndex:C,_fnGetCellData:k,_fnSetCellData:T,_fnSplitObjNotation:S,_fnGetObjectDataFn:I,_fnSetObjectDataFn:D,_fnGetDataMaster:M,_fnClearTable:A,_fnDeleteIndex:E,_fnInvalidate:P,_fnGetRowElements:R,_fnCreateTr:F,_fnBuildHead:$,_fnDrawHead:N,_fnDraw:O,_fnReDraw:z,_fnAddOptionsHtml:L,_fnDetectHeader:B,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:Y,_fnFilterComplete:J,_fnFilterCustom:X,_fnFilterColumn:K,_fnFilter:Q,_fnFilterCreateSearch:Z,_fnEscapeRegex:et,_fnFilterData:tt,_fnFeatureHtmlInfo:rt,_fnUpdateInfo:st,_fnInfoMacros:ot,_fnInitialise:at,_fnInitComplete:lt,_fnLengthChange:ct,_fnFeatureHtmlLength:dt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ht,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:mt,_fnScrollDraw:gt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:bt,_fnThrottle:yt,_fnConvertToWidth:wt,_fnScrollingWidthAdjust:xt,_fnGetWidestNode:_t,_fnGetMaxLenString:Ct,_fnStringToCss:kt,_fnScrollBarWidth:Tt,_fnSortFlatten:St,_fnSort:It,_fnSortAria:Dt,_fnSortListener:Mt,_fnSortAttachListener:At,_fnSortingClasses:Et,_fnSortData:Pt,_fnSaveState:Rt,_fnLoadState:Ft,_fnSettingsFromNode:jt,_fnLog:$t,_fnMap:Nt,_fnBindAction:zt,_fnCallbackReg:Lt,_fnCallbackFire:Bt,_fnLengthOverflow:Ht,_fnRenderer:Ut,_fnDataSource:qt,_fnRowAttributes:j,_fnCalculateEnd:function(){}}),i.fn.dataTable=Yt,i.fn.dataTableSettings=Yt.settings,i.fn.dataTableExt=Yt.ext,i.fn.DataTable=function(e){return i(this).dataTable(e).api()},i.each(Yt,function(e,t){i.fn.DataTable[e]=t}),i.fn.dataTable})}(window,document),function(){var e=function(e,t){e.extend(!0,t.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-6'i><'col-sm-6'p>>",renderer:"bootstrap"}),e.extend(t.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),t.ext.renderer.pageButton.bootstrap=function(n,i,r,s,o,a){var l,c,d=new t.Api(n),u=n.oClasses,h=n.oLanguage.oPaginate,p=function(t,i){var s,f,m,g,v=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||d.page(t.data.action).draw(!1)
};for(s=0,f=i.length;f>s;s++)if(g=i[s],e.isArray(g))p(t,g);else{switch(l="",c="",g){case"ellipsis":l="&hellip;",c="disabled";break;case"first":l=h.sFirst,c=g+(o>0?"":" disabled");break;case"previous":l=h.sPrevious,c=g+(o>0?"":" disabled");break;case"next":l=h.sNext,c=g+(a-1>o?"":" disabled");break;case"last":l=h.sLast,c=g+(a-1>o?"":" disabled");break;default:l=g+1,c=o===g?"active":""}l&&(m=e("<li>",{"class":u.sPageButton+" "+c,"aria-controls":n.sTableId,tabindex:n.iTabIndex,id:0===r&&"string"==typeof g?n.sTableId+"_"+g:null}).append(e("<a>",{href:"#"}).html(l)).appendTo(t),n.oApi._fnBindAction(m,{action:g},v))}};p(e(i).empty().html('<ul class="pagination"/>').children("ul"),s)},t.TableTools&&(e.extend(!0,t.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,t.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define("datatables_bootstrap",["jquery","datatables"],e):"object"==typeof exports?e(require("jquery"),require("datatables")):jQuery&&e(jQuery,jQuery.fn.dataTable)}(window,document),define("customUI/nodeList/nls/nodeList",{root:{cancel_job_confirm:"确定要取消这个作业吗?",confirm:"确认",cancel:"取消",rerun_job_confirm:"确定要重新运行此作业吗?",delete_finish_job_confirm:"确定要将此作业从列表中删除吗?",edit_job:"编辑作业",job_name:"作业名",job_file:"作业文件",queue_name:"队列名",please_select:"请选择",working_dir:"工作目录",browse:"浏览",output_path:"输出路径",std_input_output:"标准输入输出",MPI_prog:"MPI程序",res_req:"资源需求",CPU_core_num:"CPU核数",core:"核",nodes_num:"节点数",available:"个(可用)",share:"共享",exclusive:"独享",mem_size:"内存容量",giga:"G(2G可用)",walltime:"预计运行时间",hours:"300小时",status_notify:"运行状态通知",finish:"完成",suspend:"挂起",mail:"邮件",phone:"手机",exec_command:"可执行命令",job_id:"作业ID",qtime:"提交时间",endtime:"退出时间",queue:"队列",run_time:"运行时间",hour:"小时",min:"分",waittime:"等待时间",status:"状态",waiting:"等待排队",holding:"保留",queueing:"排队",rund_time:"已运行时间",action:"操作",rerun:"再次运行",job_cancel_fail:"作业取消失败",job_cancel_success:"作业已取消",job_rerun_fail:"作业提交失败",job_rerun_success:"作业提交成功",del:"删除",job_delete_fail:"作业删除失败",success:"成功",failed:"失败",uploadFiles:"上传文件"},zh:!0,en:!0}),define("customUI/nodeList/nls/zh/nodeList",{cancel_job_confirm:"确定要取消这个作业吗?",confirm:"确认",cancel:"取消",rerun_job_confirm:"确定要重新运行此作业吗?",delete_finish_job_confirm:"确定要将此作业从列表中删除吗?",edit_job:"编辑作业",job_name:"作业名",job_file:"作业文件",queue_name:"队列名",please_select:"请选择",working_dir:"工作目录",browse:"浏览",output_path:"输出路径",std_input_output:"标准输入输出",MPI_prog:"MPI程序",res_req:"资源需求",CPU_core_num:"CPU核数",core:"核",nodes_num:"节点数",available:"个(可用)",share:"共享",exclusive:"独享",mem_size:"内存容量",giga:"G(2G可用)",walltime:"预计运行时间",hours:"300小时",status_notify:"运行状态通知",finish:"完成",suspend:"挂起",mail:"邮件",phone:"手机",exec_command:"可执行命令",job_id:"作业ID",qtime:"提交时间",endtime:"退出时间",queue:"队列",run_time:"运行时间",hour:"小时",min:"分",waittime:"等待时间",status:"状态",waiting:"等待排队",holding:"保留",queueing:"排队",rund_time:"已运行时间",action:"操作",rerun:"再次运行",job_cancel_fail:"作业取消失败",job_cancel_success:"作业已取消",job_rerun_fail:"作业提交失败",job_rerun_success:"作业提交成功",del:"删除",job_delete_fail:"作业删除失败",success:"成功",failed:"失败",uploadFiles:"上传文件"}),define("libs/require-css/css!customUI/nodeList/css/nodeListView",[],function(){}),define("customUI/nodeList/nodeListView",["marionette","elfinder","elfinder_i18n","text!./templates/nodeListTmpl.mustache","utils/utils","utils/constants/constants","utils/constants/urlConstants","utils/eventBus","datatables","datatables_bootstrap","i18n!./nls/nodeList","css!./css/nodeListView"],function(e,t,n,i,r,s,o,a,l,c,d){return e.ItemView.extend({template:i,ui:{runningTable:"#running-dataTables",waitingTable:"#waiting-dataTables",hangingTable:"#hanging-dataTables",finishTable:"#finish-dataTables"},templateHelpers:function(){return{nls:d}},self:this,runningTable:"",waitingTable:"",finishTable:"",tempJobID:"",getJobNum:function(){$.ajax({type:"GET",url:o.jobSummary,success:function(e){$("#running_num").html(e.running_num),$("#waiting_num").html(e.waitforrun_num),$("#finish_num").html(e.finished_num)},error:function(){}})},setBlack:function(e){e.css("color","black")},setBlue:function(e){e.css("color","rgb(51, 122, 183)")},showCancelConfirm:function(e){self.tempJobID=e.id,$("#deleteConfirm").modal("show"),$("#delete_jobID_section").html(d.job_id+": "+e.jobid),$("#delete_jobName_section").html(d.job_name+": "+e.jobname);var t=new Date(1e3*(e.qtime-e.timezone)),n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),s=t.getHours(),o=t.getMinutes();10>i&&(i="0"+i),10>r&&(r="0"+r),10>s&&(s="0"+s),10>o&&(o="0"+o);var a=n+"-"+i+"-"+r+" "+s+":"+o;$("#delete_submit_time_section").html(d.qtime+": "+a)},showDeleteFinishConfirm:function(e){self.tempJobID=e.id,$("#deleteFinishConfirm").modal("show"),$("#delete_finish_jobID_section").html(d.job_id+": "+e.jobid),$("#delete_finish_jobName_section").html(d.job_name+": "+e.jobname);var t=new Date(1e3*(e.qtime-e.timezone)),n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),s=t.getHours(),o=t.getMinutes();10>i&&(i="0"+i),10>r&&(r="0"+r),10>s&&(s="0"+s),10>o&&(o="0"+o);var a=n+"-"+i+"-"+r+" "+s+":"+o;$("#delete_finish_submit_time_section").html(d.qtime+": "+a)},showRerunConfirm:function(e){self.tempJobID=e.id,$("#rerunConfirm").modal("show"),$("#rerun_jobID_section").html(d.job_id+": "+e.jobid),$("#rerun_jobName_section").html(d.job_name+": "+e.jobname);var t=new Date(1e3*(e.qtime-e.timezone)),n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),s=t.getHours(),o=t.getMinutes();10>i&&(i="0"+i),10>r&&(r="0"+r),10>s&&(s="0"+s),10>o&&(o="0"+o);var a=n+"-"+i+"-"+r+" "+s+":"+o,l=new Date(1e3*(e.endtime-e.timezone)),c=l.getFullYear(),u=l.getMonth()+1,h=l.getDate(),p=l.getHours(),f=l.getMinutes();10>u&&(u="0"+u),10>h&&(h="0"+h),10>p&&(p="0"+p),10>f&&(f="0"+f);var m=c+"-"+u+"-"+h+" "+p+":"+f;$("#rerun_submit_time_section").html(d.qtime+": "+a),$("#rerun_finish_time_section").html(d.endtime+": "+m)},showModifyJob:function(){$("#jobModify").modal("show")},setLocalFileHashByName:function(e,t){$.ajax({url:o.files,type:"GET",dataType:"json",data:{cmd:"hash",path:e}}).done(function(e){r.storage["elfinder-lastdireditor"]=e.hash,t.showFileManagementDialog()})},showFileManagementDialog:function(){$('<div id="editor" />').dialogelfinder({url:o.files,lang:"zh_CN",defaultView:"list",useBrowserHistory:!1,width:"700px",uiOptions:{toolbar:[["back","forward"],["mkdir","upload","rename"],["sort"]]},commands:["back","forward","sort","mkdir","upload","search","getfile","open","download","rm","rename"],contextmenu:{navbar:["open","|","rm","|"],cwd:["reload","back","|","upload","mkdir"],files:["getfile","|","download","|","rm","|","rename"]},getFileCallback:function(){},handlers:{init:function(){$(".elfinder-button form input[type='file']").attr("title",d.uploadFiles)}}})},setModifyQueueOptions:function(e){this.clearModifyQueueOption();var t=e.queues,n=e.queue_selected;$.each(t,function(e,t){$("#modify_queue_name").append("<option value='"+t+"'>"+t+"</option>")});for(var i=0;i<$("#modify_queue_name")[0].length;i++)$("#modify_queue_name")[0][i].selected=$("#modify_queue_name")[0][i].innerHTML==n?!0:!1},clearModifyQueueOption:function(){for(var e=$("#modify_queue_name"),t=e[0].length;t>1;t--)e[0].remove(t-1)},setModifyCheck:function(e){1==e.share?($("#modify_nodesRadios2").removeAttr("checked"),$("#modify_nodesRadios1").attr("checked","checked")):($("#modify_nodesRadios1").removeAttr("checked"),$("#modify_nodesRadios2").attr("checked","checked"))},setModifyNotify:function(e){var t=e.trigger,n=t.split(",");-1!==$.inArray("finish",n)?$("#modify_notice_finish").attr("checked","checked"):$("#modify_notice_finish").attr("checked",!1),-1!==$.inArray("suspend",n)?$("#modify_notice_suspend").attr("checked","checked"):$("#modify_notice_suspend").attr("checked",!1)},clearModifyCommands:function(){$("#modify_exec_command").html("")},setModifyCommands:function(e){this.clearModifyCommands();var t=e.commands;$.each(t,function(e,t){$("#modify_exec_command").append(t+"\r")})},setModifyValue:function(e){$("#modify_job_name").val(e.name),$("#modify_file_name").val(e.filename),$("#modify_output_dir_text").val(e.output_path),$("#modify_CPU_core_num_text").val(e.cpus),$("#modify_nodes_num").val(e.nodes),$("#modify_mem_size_text").val(e.mem_size),$("#modify_run_time_text").val(e.walltime),this.setModifyQueueOptions(e),this.setModifyCheck(e),this.setModifyNotify(e),$("#modify_email").val(e.mail),$("#modify_cell").val(e.phone),this.setModifyCommands(e)},initRunningTable:function(){var e=this,t=this.ui.runningTable.dataTable({responsive:!0,language:{url:"/static/js/translation/datatables.chinese.json"},aaSorting:[[0,"desc"]],columns:[{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.job_id+"</div>",data:"jobid",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.job_name+"</div>",data:"jobname",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.queue+"</div>",data:"queue",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.qtime+"</div>","class":"center",data:"qtime",defaultContent:"",render:function(e,t,n){var i=new Date(1e3*(e-n.timezone)),r=i.getUTCFullYear(),s=i.getUTCMonth()+1;10>s&&(s="0"+s);var o=i.getUTCDate();10>o&&(o="0"+o);var a=i.getUTCHours();10>a&&(a="0"+a);var l=i.getUTCMinutes();10>l&&(l="0"+l);var c=a+":"+l,d=r+"-"+s+"-"+o;return"<div style='text-align:center;font-size:12px;color:#000000'>"+c+"</div><div style='text-align:center;color:#666666;;font-size:12px'>"+d+"</div>"}},{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.run_time+"</div>","class":"center",data:"starttime",render:function(e,t,n){var i=n.currtime-e,r=parseInt(i/3600),s=parseInt(i%3600),o=parseInt(s/60);return"<div style='text-align:center;font-size:12px;color:#000000'>"+r+" "+d.hour+" "+o+" "+d.min+"</div>"}},{title:"<div style='font-size:12px;color:#000000'>"+d.working_dir+"</div>",data:"workingdir",render:function(e){return"<div class='running_working_dir' style='color:#0000ff;font-size:12px'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px;color:#000000'>"+d.cancel+"</div>",defaultContent:"",render:function(e,t,n){var i=n.id,r="<div style='text-align:center'><a id='delete_running_"+i+"' href='javascript:void(0)'><img src='/static/js/customUI/nodeList/resources/cancel2.png'></img></a></div>";return r}}],ajax:{url:o.jobsRun,dataSrc:""}});this.ui.runningTable.on("click","a",function(){var n=t.fnGetData($("#"+this.id).parents("tr")[0]);e.showCancelConfirm(n)}),this.ui.runningTable.on("click",".running_working_dir",function(){e.setLocalFileHashByName(this.textContent,e)})},initWaitingTable:function(){var e=this,t=this.ui.waitingTable.dataTable({responsive:!0,language:{url:"/static/js/translation/datatables.chinese.json"},aaSorting:[[0,"desc"]],columns:[{title:"<div style='text-align:center;font-size:12px'>"+d.job_id+"</div>",data:"jobid",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.job_name+"</div>",data:"jobname",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.queue+"</div>",data:"queue",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.qtime+"</div>","class":"center",data:"qtime",defaultContent:"",render:function(e,t,n){var i=new Date(1e3*(e-n.timezone)),r=i.getUTCFullYear(),s=i.getUTCMonth()+1;10>s&&(s="0"+s);var o=i.getUTCDate();10>o&&(o="0"+o);var a=i.getUTCHours();10>a&&(a="0"+a);var l=i.getUTCMinutes();10>l&&(l="0"+l);var c=a+":"+l,d=r+"-"+s+"-"+o;return"<div style='text-align:center;font-size:12px;color:#000000'>"+c+"</div><div style='text-align:center;color:#666666;font-size:12px'>"+d+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.waittime+"</div>","class":"center",data:"qtime",render:function(e,t,n){var i=n.currtime-e,r=parseInt(i/3600),s=parseInt(i%3600),o=parseInt(s/60);return"<div style='text-align:center;font-size:12px;color:#000000'>"+r+" "+d.hour+" "+o+" "+d.min+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.status+"</div>","class":"center",data:"status",render:function(e){return"waiting"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.waiting+"</div>":"suspending"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.suspend+"</div>":"holding"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.holding+"</div>":"queueing"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.queueing+"</div>":void 0}},{title:"<div style='font-size:12px'>"+d.working_dir+"</div>",data:"workingdir",defaultContent:"",render:function(e){return"<div class='waiting_working_dir' style='color:#0000ff;font-size:12px'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.cancel+"</div>",defaultContent:"",render:function(e,t,n){var i=n.id,r="<div style='text-align:center'><a id='delete_queuing_"+i+"' href='javascript:void(0)'><img src='/static/js/customUI/nodeList/resources/cancel2.png'></img></a></div>";return r}}],ajax:{url:o.jobsWait,dataSrc:""}});this.ui.waitingTable.on("click","a",function(){var n=t.fnGetData($("#"+this.id).parents("tr")[0]);e.showCancelConfirm(n)}),this.ui.waitingTable.on("click",".waiting_working_dir",function(){e.setLocalFileHashByName(this.textContent,e)})},initHangingTable:function(){var e=this;this.ui.hangingTable.dataTable({responsive:!0,language:{url:"/static/js/translation/datatables.chinese.json"},aaSorting:[[0,"desc"]],columns:[{title:"<div style='text-align:center'>"+d.job_id+"</div>",data:"jobid",render:function(e){return"<div style='text-align:center'>"+e+"</div>"}},{title:"<div style='text-align:center'>"+d.job_name+"</div>",data:"jobname",render:function(e){return"<div style='text-align:center'>"+e+"</div>"}},{title:"<div style='text-align:center'>"+d.queue+"</div>",data:"queue",render:function(e){return"<div style='text-align:center'>"+e+"</div>"}},{title:"<div style='text-align:center'>"+d.qtime+"</div>","class":"center",data:"qtime",defaultContent:"",render:function(e){var t=new Date(e),n=t.getUTCFullYear(),i=t.getUTCMonth()+1,r=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=s+":"+o,l=n+"/"+i+"/"+r;return"<div style='text-align:center'>"+a+"</div><div style='text-align:center;color:#666666;font-size:10px'>"+l+"</div>"}},{title:"<div style='text-align:center'>"+d.rund_time+"</div>",data:"starttime",render:function(e){var t=new Date,n=t.getTime(),i=(n-e)/1e3,r=parseInt(i/3600),s=parseInt(i%3600),o=parseInt(s/60);return"<div style='text-align:center'>"+r+" "+d.hour+" "+o+" "+d.min+"</div>"}},{title:d.working_dir,data:"workingdir",render:function(e){return"<div style='color:#0000ff'>"+e+"</div>"}},{title:"<div style='text-align:center'>"+d.cancel+"</div>",defaultContent:"",render:function(t,n,i){var r=i.id,s="<div style='text-align:center'><a id='delete_hanging_"+r+"' href='javascript:void(0)' onclick='_deleteJob("+i+")'><img src='/static/js/customUI/nodeList/resources/cancel2.png'></img></a></div>",o="delete_hanging_"+r;return $("#"+o).click(function(){e.showCancelConfirm(i)}),s}}],ajax:{url:o.jobsHang,dataSrc:""}})},initFinishTable:function(){var e=this,t=this.ui.finishTable.dataTable({responsive:!0,language:{url:"/static/js/translation/datatables.chinese.json"},aaSorting:[[0,"desc"]],columns:[{title:"<div style='text-align:center;font-size:12px'>"+d.job_id+"</div>",data:"jobid",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.job_name+"</div>",data:"jobname",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.queue+"</div>",data:"queue",render:function(e){return"<div style='text-align:center;font-size:12px;color:#000000'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.qtime+"</div>","class":"center",data:"qtime",defaultContent:"",render:function(e,t,n){var i=new Date(1e3*(e-n.timezone)),r=i.getUTCFullYear(),s=i.getUTCMonth()+1;10>s&&(s="0"+s);var o=i.getUTCDate();10>o&&(o="0"+o);var a=i.getUTCHours();10>a&&(a="0"+a);var l=i.getUTCMinutes();10>l&&(l="0"+l);var c=a+":"+l,d=r+"-"+s+"-"+o;return"<div style='text-align:center;font-size:12px;color:#000000'>"+c+"</div><div style='text-align:center;color:#666666;font-size:12px'>"+d+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.endtime+"</div>","class":"center",data:"endtime",defaultContent:"",render:function(e,t,n){if(0==e||"0"==e)return"";var i=new Date(1e3*(e-n.timezone)),r=i.getUTCFullYear(),s=i.getUTCMonth()+1;10>s&&(s="0"+s);var o=i.getUTCDate();10>o&&(o="0"+o);var a=i.getUTCHours();10>a&&(a="0"+a);var l=i.getUTCMinutes();10>l&&(l="0"+l);var c=a+":"+l,d=r+"-"+s+"-"+o;return"<div style='text-align:center;font-size:12px;color:#000000'>"+c+"</div><div style='text-align:center;color:#666666;font-size:12px'>"+d+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.status+"</div>","class":"center",data:"status",render:function(e){return"completed"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.success+"</div>":"cancelled"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.cancel+"</div>":"createfailed"==e?"<div style='text-align:center;font-size:12px;color:#000000'>"+d.failed+"</div>":void 0}},{title:"<div style='font-size:12px'>"+d.working_dir+"</div>",data:"workingdir",render:function(e){return"<div class='finish_working_dir' style='color:#0000ff;font-size:12px'>"+e+"</div>"}},{title:"<div style='text-align:center;font-size:12px'>"+d.action+"</div>",defaultContent:"",render:function(e,t,n){var i=n.id,r=n.id,s="<div style='text-align:center'><a class='rerun' title='"+d.rerun+"' id='rerun_finish_"+r+"' href='javascript:void(0)'><img src='/static/js/customUI/nodeList/resources/rerun.png'></img></a><a style='margin-left:15px' class ='delete' title='"+d.del+"' id='delete_finish_"+i+"' href='javascript:void(0)'><img src='/static/js/customUI/nodeList/resources/ic_delete_grey600_22dp.png'></img></a></div>";return s}}],ajax:{url:o.jobsFinish,dataSrc:""}});this.ui.finishTable.on("click",".delete",function(){var n=t.fnGetData($("#"+this.id).parents("tr")[0]);e.showDeleteFinishConfirm(n)}),this.ui.finishTable.on("click",".rerun",function(){var n=t.fnGetData($("#"+this.id).parents("tr")[0]);e.showRerunConfirm(n)}),this.ui.finishTable.on("click",".finish_working_dir",function(){e.setLocalFileHashByName(this.textContent,e)})},initQueryCancelStatus:function(e){var t=e,n=this;setTimeout(this.checkCancelProgress,2e3,t,n)},checkCancelProgress:function(e,t){var n=o.jobs+e.id;$.ajax({type:"GET",url:n,dataType:"json",success:function(n){t.checkCancelResult(n,e)},error:function(){$("#jobDetailProgressDialog").modal("hide"),$("#jobCancelResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobCancelResultText").html(d.job_cancel_fail),$("#jobCancelIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobCancelID").css("display","none"),$("#jobCancelResult").modal("show"),r.forceRefresh()}})},checkCancelResult:function(e,t){var n=this;"cancelled"==e.operatestatus?($("#jobDetailProgressDialog").modal("hide"),$("#jobCancelResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobCancelResultText").html(d.job_cancel_success),$("#jobCancelIcon").attr("src","/static/js/customUI/nodeList/resources/ic_check_green_36x36.png"),$("#jobCancelID").css("display","none"),$("#jobCancelResult").modal("show"),r.forceRefresh()):"cancelfailed"==e.operatestatus?($("#jobDetailProgressDialog").modal("hide"),$("#jobCancelResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobCancelResultText").html(d.job_cancel_fail),$("#jobCancelIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobCancelID").css("display","none"),$("#jobCancelResult").modal("show"),r.forceRefresh()):n.initQueryCancelStatus(t)},initQueryRerunStatus:function(e){var t=e,n=this;setTimeout(this.checkRerunProgress,2e3,t,n)},checkRerunProgress:function(e,t){var n=o.jobs+e.id;$.ajax({type:"GET",url:n,dataType:"json",success:function(n){t.checkRerunResult(n,e)},error:function(){$("#jobDetailProgressDialog").modal("hide"),$("#jobRerunResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobRerunResultText").html(d.job_rerun_fail).css("position","relative"),$("#jobRerunIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobRerunID").css("display","none"),$("#jobRerunResult").modal("show"),r.forceRefresh()}})},checkRerunResult:function(e,t){var n=this;"created"==e.operatestatus?($("#jobDetailProgressDialog").modal("hide"),$("#jobRerunResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobRerunResultText").html(d.job_rerun_success).css("position","fixed"),$("#jobRerunIcon").attr("src","/static/js/customUI/nodeList/resources/ic_check_green_36x36.png"),$("#jobRerunID").html(d.job_id+": "+e.jobid).css("display","block"),$("#jobRerunResult").modal("show"),r.forceRefresh()):"createfailed"==e.operatestatus?($("#jobDetailProgressDialog").modal("hide"),$("#jobRerunResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobRerunResultText").html(d.job_rerun_fail).css("position","relative"),$("#jobRerunIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobRerunID").css("display","none"),$("#jobRerunResult").modal("show"),r.forceRefresh()):n.initQueryRerunStatus(t)},refresh:function(e){$("#running_num").html(e.runningJobs.length),$("#waiting_num").html(e.waitingJobs.length),$("#finish_num").html(e.finishedJobs.length),console.log("Job Num refreshed"),0==e.runningJobs.length?$("#running-dataTables").dataTable().fnClearTable():($("#running-dataTables").dataTable().fnClearTable(),$("#running-dataTables").dataTable().fnAddData(e.runningJobs),$("#running-dataTables").dataTable().fnDraw()),0==e.waitingJobs.length?$("#waiting-dataTables").dataTable().fnClearTable():($("#waiting-dataTables").dataTable().fnClearTable(),$("#waiting-dataTables").dataTable().fnAddData(e.waitingJobs),$("#waiting-dataTables").dataTable().fnDraw()),0==e.finishedJobs.length?$("#finish-dataTables").dataTable().fnClearTable():($("#finish-dataTables").dataTable().fnClearTable(),$("#finish-dataTables").dataTable().fnAddData(e.finishedJobs),$("#finish-dataTables").dataTable().fnDraw()),console.log("In nodelist, tables refreshed")},onRender:function(){var e=this;a.on(s.refreshUser,e.refresh),e.getJobNum(),e.initRunningTable(),e.initWaitingTable(),e.initFinishTable(),$("#running_btn").click(function(){e.setBlack($("#running_btn")),e.setBlue($("#waiting_btn")),e.setBlue($("#hanging_btn")),e.setBlue($("#finish_btn")),$("#running-tab-panel").show(),$("#waiting-tab-panel").hide(),$("#hanging-tab-panel").hide(),$("#finish-tab-panel").hide()}),$("#waiting_btn").click(function(){e.setBlue($("#running_btn")),e.setBlack($("#waiting_btn")),e.setBlue($("#hanging_btn")),e.setBlue($("#finish_btn")),$("#waiting-tab-panel").show(),$("#running-tab-panel").hide(),$("#hanging-tab-panel").hide(),$("#finish-tab-panel").hide()}),$("#hanging_btn").click(function(){e.setBlue($("#running_btn")),e.setBlue($("#waiting_btn")),e.setBlack($("#hanging_btn")),e.setBlue($("#finish_btn")),$("#hanging-tab-panel").show(),$("#waiting-tab-panel").hide(),$("#running-tab-panel").hide(),$("#finish-tab-panel").hide()}),$("#finish_btn").click(function(){e.setBlue($("#running_btn")),e.setBlue($("#waiting_btn")),e.setBlue($("#hanging_btn")),e.setBlack($("#finish_btn")),$("#hanging-tab-panel").hide(),$("#waiting-tab-panel").hide(),$("#running-tab-panel").hide(),$("#finish-tab-panel").show()}),$("#rerunConfirm_btn").click(function(){var t=o.jobs;$("#rerunConfirm").modal("hide");var n=parseInt(self.tempJobID),i={action:"rerun",id:n};i=JSON.stringify(i),$.ajax({type:"POST",url:t,headers:{"Content-Type":"application/json;charset=UTF-8"},data:i,dataType:"json",success:function(t){$("#jobDetailProgressDialog").modal("show"),e.initQueryRerunStatus(t)},error:function(){$("#jobDetailProgressDialog").modal("hide"),$("#jobRerunResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobRerunResultText").html(d.job_rerun_fail).css("position","relative"),$("#jobRerunIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobRerunID").css("display","none"),$("#jobRerunResult").modal("show"),r.forceRefresh()}})}),$("#deleteConfirm_btn").click(function(){var t=o.jobs;t+=self.tempJobID;var n={action:"cancel"};n=JSON.stringify(n),$("#deleteConfirm").modal("hide"),$.ajax({type:"PUT",url:t,headers:{"Content-Type":"application/json;charset=UTF-8"},data:n,dataType:"json",success:function(t){$("#jobDetailProgressDialog").modal("show"),e.initQueryCancelStatus(t)},error:function(){$("#jobDetailProgressDialog").modal("hide"),$("#jobCancelResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobCancelResultText").html(d.job_cancel_fail),$("#jobCancelIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobCancelID").css("display","none"),$("#jobCancelResult").modal("show"),r.forceRefresh()}})}),$("#deleteFinishConfirm_btn").click(function(){var e=o.jobs;e+=self.tempJobID,$("#deleteFinishConfirm").modal("hide"),$.ajax({type:"DELETE",url:e,success:function(){r.forceRefresh()},error:function(){$("#jobCancelResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#jobCancelResultText").html(d.job_delete_fail),$("#jobCancelIcon").attr("src","/static/js/customUI/nodeList/resources/ic_clear_red_36x36.png"),$("#jobCancelID").css("display","none"),$("#jobCancelResult").modal("show"),r.forceRefresh()}})}),$("#running_btn").click()}})}),define("libs/require-css/css!widgets/elfinder/chooseFolder/css/chooseFolder",[],function(){}),define("widgets/elfinder/chooseFolder/chooseFolder",["elfinder","elfinder_i18n","css!./css/chooseFolder"],function(){return elFinder.prototype.i18.en.messages.cmdchoosefolder="Choose Folder",elFinder.prototype.i18.zh_CN.messages.cmdchoosefolder="选择文件夹",elFinder.prototype._options.commands.push("cmdchoosefolder"),elFinder.prototype.commands.choosefolder=function(){var e=this,t=this.fm;this.callback=t.options.getFolderCallback,this.exec=function(t){var n,i,r,s=this.fm,o=this.options,a=this.files(t),l=a.length,c=s.option("url"),d=s.option("tmbUrl"),u=$.Deferred().done(function(t){s.trigger("choosefolder",{files:t}),e.callback(t,s),"close"==o.oncomplete?s.hide():"destroy"==o.oncomplete&&s.destroy()}),h=function(){return a[0]},p=[];if(-1==this.getstate())return u.reject();for(n=0;l>n;n++){if(i=a[n],"directory"!==i.mime)return u.reject();i.baseUrl=c,i.url=s.url(i.hash),i.path=s.path(i.hash),i.tmb&&1!=i.tmb&&(i.tmb=d+i.tmb),i.width||i.height||i.dim&&(r=i.dim.split("x"),i.width=r[0],i.height=r[1])}return p.length?($.when.apply(null,p).always(function(){u.resolve(h(a))}),u):u.resolve(h(a))},this.getstate=function(e){var e=this.files(e),t=e.length;return 1===t&&"directory"===e[0].mime?0:-1}},{}}),define("libs/require-css/css!widgets/elfinder/chooseFile/css/chooseFile",[],function(){}),define("widgets/elfinder/chooseFile/chooseFile",["elfinder","elfinder_i18n","css!./css/chooseFile"],function(){return elFinder.prototype.i18.en.messages.cmdchoosefile="Choose File",elFinder.prototype.i18.zh_CN.messages.cmdchoosefile="选择文件",elFinder.prototype._options.commands.push("cmdchoosefile"),elFinder.prototype.commands.choosefile=function(){var e=this,t=this.fm;this.callback=t.options.chooseFileCallback,this.exec=function(t){var n,i,r,s=this.fm,o=this.options,a=this.files(t),l=a.length,c=s.option("url"),d=s.option("tmbUrl"),u=$.Deferred().done(function(t){s.trigger("choosefile",{files:t}),e.callback(t,s),"close"==o.oncomplete?s.hide():"destroy"==o.oncomplete&&s.destroy()}),h=function(){return a[0]},p=[];if(-1==this.getstate())return u.reject();for(n=0;l>n;n++){if(i=a[n],"directory"===i.mime)return u.reject();i.baseUrl=c,i.url=s.url(i.hash),i.path=s.path(i.hash),i.tmb&&1!=i.tmb&&(i.tmb=d+i.tmb),i.width||i.height||i.dim&&(r=i.dim.split("x"),i.width=r[0],i.height=r[1])}return p.length?($.when.apply(null,p).always(function(){u.resolve(h(a))}),u):u.resolve(h(a))},this.getstate=function(e){var e=this.files(e),t=e.length;return 1===t&&"directory"!==e[0].mime?0:-1}},{}}),define("text!customUI/user/dashboard/job/templates/jobTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div>\r\n\r\n	<div style="display:none" id="dialog_init">\r\n	</div>\r\n\r\n	<div class="modal fade" id="progressDialog" tabindex ="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n		<div class="modal-dialog" style="margin-top:150px;width:300px">\r\n			<div class="modal-content">\r\n				<p style="text-align:center;margin-top:30px;margin-bottom:30px"><img src="/static/js/customUI/user/dashboard/job/resources/loading.gif" id="loading_img"></div></p>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="modal fade" id="jobCreateResult" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n		<div class="modal-dialog" style="margin-top:150px">\r\n			<div style="width:475px;margin-left:+35px">\r\n				<div id ="createResultArea">\r\n					<img id="resultIcon" style="position:fixed;margin-top:-9px"></img>\r\n					<div id="createResult" style="position:fixed;margin-left:45px"></div>\r\n					<div id="jobCreateID" style="margin-left:200px"></div>\r\n					<button style="margin-top:-20px" type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>\r\n         		</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="modal fade elfinder-dlg" id="jobfile-elfinder-dlg" data-backdrop="static">\r\n	  <div class="modal-dialog">\r\n	    <div class="modal-content">\r\n	      <div class="modal-header">\r\n	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n	        <h4 class="modal-title">{{nls.jobFileEmptyMsg}}</h4>\r\n	      </div>\r\n	      <div class="modal-body">\r\n	        <div id="jobfile-elfinder-dlg-content"></div>\r\n	      </div>\r\n	    </div><!-- /.modal-content -->\r\n	  </div><!-- /.modal-dialog -->\r\n	</div><!-- /.modal -->\r\n\r\n	<div class="modal fade elfinder-dlg" id="workdir-elfinder-dlg" data-backdrop="static">\r\n	  <div class="modal-dialog">\r\n	    <div class="modal-content">\r\n	      <div class="modal-header">\r\n	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n	        <h4 class="modal-title">{{nls.workingDirEmptyMsg}}</h4>\r\n	      </div>\r\n	      <div class="modal-body">\r\n	        <div id="workdir-elfinder-dlg-content"></div>\r\n	      </div>\r\n	    </div><!-- /.modal-content -->\r\n	  </div><!-- /.modal-dialog -->\r\n	</div><!-- /.modal -->\r\n\r\n	<div class="modal fade elfinder-dlg" id="mpiprog-elfinder-dlg" data-backdrop="static">\r\n	  <div class="modal-dialog">\r\n	    <div class="modal-content">\r\n	      <div class="modal-header">\r\n	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n	        <h4 class="modal-title">{{nls.MPIProgEmptyMsg}}</h4>\r\n	      </div>\r\n	      <div class="modal-body">\r\n	        <div id="mpiprog-elfinder-dlg-content"></div>\r\n	      </div>\r\n	    </div><!-- /.modal-content -->\r\n	  </div><!-- /.modal-dialog -->\r\n	</div><!-- /.modal -->\r\n\r\n	<div class="modal fade job-submit-dialog" id="jobSubmit" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n		<div class="modal-dialog">\r\n			<div class="modal-content">\r\n				<div class="modal-header">\r\n		            <button id="close_job_submit_btn" type="button" class="close" data-dismiss="modal" aria-hidden="true">x\r\n            		</button>\r\n            		<h4 class="modal-title" style="text-align:center;font-size:16px" id="jobSubmitLabel">{{nls.submitJob}}\r\n            		</h4>\r\n				</div>\r\n				<form class="form-horizontal" role="form" style="margin-top:15px">\r\n					<div class="form-group" style="margin-left:10px;margin-top:30px">\r\n						<label class="col-sm-2 control-label" for="job_name" style="font-size:14px;font-weight:normal">{{nls.jobName}}</label>\r\n						<div class="col-sm-10">\r\n							<input style="width:250px" class="form-control" type="text" id="job_name">\r\n						</div>\r\n					</div></br>\r\n					<div class="form-group" style="margin-bottom:80px;margin-left:10px">\r\n						<label class="col-sm-2 control-label" for="job_file_input" style="font-size:14px;font-weight:normal">*{{nls.jobFile}}</label>\r\n						<div class="col-sm-10">\r\n							<input class="form-control" type="text" id="job_file_input_text" readonly style="width:250px;position:fixed" placeholder="{{nls.pbs}}">\r\n							<button style="margin-left:270px;position:fixed;height:30px;margin-top:1px" id="job_file_select_btn" type="button" class="btn btn-primary"><div style="margin-top:-2px">{{nls.browse}}</div>\r\n              				</button>\r\n							<a style="margin-left:340px;margin-top:25px" id="create_job" href="javascript:void(0)">{{nls.createJobFile}}</a>\r\n							<input type="file" id="job_file_input" style="display:none">\r\n						</div>\r\n					</div>\r\n         		</form>\r\n         		<div class="modal-footer">\r\n            		<button id="confirm_submit" type="button" class="btn btn-primary" style="float:left;margin-left:150px;margin-bottom:20px;width:100px">{{nls.confirm}}\r\n            		</button>\r\n            		<button id="confirm_cancel" type="button" class="btn btn-default" style="float:right;margin-right:150px;margin-bottom:20px;width:100px;background-color:#eee">{{nls.cancel}}\r\n            		</button>\r\n         		</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="modal fade" id="jobCreate" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n		<div class="modal-dialog" style="width:800px">\r\n			<div class="modal-content" style="width:800px">\r\n				<div class="modal-header">\r\n					<button id="cancel_create_x" type="button" class="close" aria-hidden="true">x\r\n            		</button>\r\n            		<h4 class="modal-title" id="jobCreateLabel" style="">{{nls.createJob}}\r\n            		</h4>\r\n				</div>\r\n				<form id="job_create_form" class="form-horizontal job-form-group-margin-left" role="form">\r\n					<div class="form-group" style="margin-top:20px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="job_create_name">*{{nls.jobName}}</label>\r\n						<div class="col-sm-10">\r\n							<input style="width:250px;margin-left:3px" class="form-control require-input" type="text" id="job_create_name" name="job_create_name">\r\n						</div>\r\n					</div>\r\n					<div class="form-group" style="margin-top:-5px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="queue_name">*{{nls.queue}}</label>\r\n						<select class="form-control" id="queue_name" style="width:110px;margin-left:152px">\r\n							<option value="empty">{{nls.selectOption}}</option>\r\n						</select>\r\n					</div>\r\n					<div class="form-group" style="margin-top:-5px">\r\n						<label class="col-sm-2 control-label" for="work_dir" style="font-weight:normal">*{{nls.workDir}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control require-input" type="text" id="work_dir_text" readonly placeholder={{nls.work_dir_notify}}>\r\n						<button style="margin-left:300px;position:fixed;height:30px" type="button" id="work_dir_select_btn" class="btn btn-primary"><div style="margin-top:-2px">{{nls.browse}}</div>\r\n						</button>\r\n					</div>\r\n					<div class="form-group" style="display:none">\r\n						<label class="col-sm-2 control-label" for="output_dir" style="font-weight:normal;margin-top:-10px">*{{nls.outputPath}}<span style="font-size:small;font-weight:normal">({{nls.outputs}})</span></label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="output_dir_text" placeholder="Edit hint text in properties panel.">\r\n						<button style="margin-left:300px;position:fixed;height:30px" type="button" id="output_dir_select_btn" class="btn btn-primary"><div style="margin-top:-2px">{{nls.browse}}</div>\r\n						</button>\r\n					</div>\r\n					<div class="form-group" style="margin-top:10px">\r\n						<label class="col-sm-2 control-label" for="MPI_prog" style="font-weight:normal">*{{nls.MPIProg}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control require-input" type="text" id="MPI_prog_text" readonly placeholder="{{nls.MPI_prog_notify}}">\r\n						<button style="margin-left:300px;position:fixed;height:30px" type="button" id="MPI_prog_select_btn" class="btn btn-primary"><div style="margin-top:-2px">{{nls.browse}}</div>\r\n						</button>\r\n					</div>\r\n					<div class="form-group" style="margin-top:10px">\r\n						<label class="col-sm-2 control-label" for="MPI_arg" style="font-weight:normal">{{nls.MPIArg}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="MPI_arg">\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label" style="font:bold">{{nls.resReq}}</label>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label job-font-weight-normal">{{nls.nodeNum}}</label>\r\n						<input style="width:50px;position:fixed;margin-left:152px;height:30px" class="form-control" type="text" id="nodes_num">\r\n						<div class="control-label comment_font_color" style="margin-left:210px;position:fixed">{{nls.nodes}}</div>\r\n						<label class="control-label job-font-weight-normal" style="margin-left:157px;position:fixed">{{nls.CPUCoreNum}}</label>\r\n						<input style="width:50px;position:fixed;margin-left:470px;height:30px" class="form-control" type="text" id="CPU_core_num_text">\r\n						<div class="control-label comment_font_color" style="margin-left:530px;position:fixed">{{nls.cores}}</div>\r\n  						<input style="margin-left:480px;margin-top:9px;display:none" type="radio" name="nodesRadios" id="nodesRadios1" value="nodesRadiosOption1">\r\n  						<input style="display:none" type="radio" name="nodesRadios" id="nodesRadios2" value="nodesRadiosOption2">\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label job-font-weight-normal">{{nls.memSize}}</label>\r\n						<input style="width:60px;position:fixed;margin-left:152px;height:30px" class="form-control" type="text" id="mem_size_text">\r\n						<div class="control-label comment_font_color" style="margin-left:220px;position:fixed">{{nls.mega}}</div>\r\n						<label style="font-size:small;margin-left:157px;padding-top:9px" class="control-label job-font-weight-normal">{{nls.walltime}}(Wall Time)</label>\r\n						<input style="width:50px;position:fixed;margin-left:470px;margin-top:-25px;height:30px" class="form-control" type="text" id="walltime_hour">\r\n						<div class="comment_font_color" style="margin-left:530px;position:fixed;margin-top:-19px">{{nls.hour}}</div>\r\n						<input style="width:50px;position:fixed;margin-left:570px;margin-top:-25px;height:30px" class="form-control" type="text" id="walltime_minute">\r\n						<div class="comment_font_color" style="margin-left:630px;position:fixed;margin-top:-19px">{{nls.minute}}</div>\r\n					</div>\r\n					<div class="form-group" style="margin-top:20px">\r\n						<label class="col-sm-2 control-label" style="font:bold">{{nls.statusNotify}}</label>\r\n   						<div class="checkbox" style="margin-left:152px">\r\n							<label>\r\n								<input id="notice_finish" type="checkbox" value="finish">{{nls.finish}}\r\n							</label>\r\n							<label style="margin-left:40px">\r\n								<input id="notice_suspend" type="checkbox" value="suspend">{{nls.suspend}}\r\n							</label>\r\n						</div>\r\n					</div>\r\n					<div class="form-group" style="margin-bottom:42px;margin-top:-5px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="email">{{nls.email}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="email">\r\n						<div id="mail_notice" style="margin-left:415px;margin-top:5px;display:none">{{nls.mail_notice}}</div>\r\n					</div>\r\n					<div class="form-group" style="margin-bottom:22px;display:none">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="cell">{{nls.phone}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="cell" placeholder="Edit hint text in properties panel.">\r\n					</div>\r\n					<div style="margin-bottom:30px;display:none" class="form-group">\r\n						<label class="col-sm-2 control-label" for="exec_command">*{{nls.exeCommand}}</label>\r\n						<textarea style="width:500px;margin-left:152px" class="form-control" rows="9" id="exec_command"></textarea>\r\n					</div>\r\n				</form>\r\n         		<div class="modal-footer">\r\n            		<button id="job_create_submit" class="btn btn-primary" style="float:left;margin-bottom:20px;width:100px;margin-left:240px">{{nls.submit}}\r\n            		</button>\r\n            		<button id="submit_cancel" type="button" class="btn btn-default" style="float:right;margin-bottom:20px;width:100px;background-color:#eee;margin-right:240px">{{nls.cancel}}\r\n            		</button>\r\n     			</div>\r\n\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="modal fade" id="jobSubmitConfirm" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\r\n		<div class="modal-dialog">\r\n			<div class="modal-content" style="width:800px">\r\n				<div class="modal-header job-heading">\r\n					<button id="cancel_confirm_submit_x" type="button" class="close" aria-hidden="true">x\r\n            		</button>\r\n            		<h4 class="modal-title" id="jobSubmitConfirmLabel" style="font-weight:bold">{{nls.submitJob}}\r\n            		</h4>\r\n				</div>\r\n				<form class="form-horizontal job-form-group-margin-left" role="form">\r\n					<div class="form-group job-form-group-margin-left" style="margin-top:15px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="confirm_job_create_name">*{{nls.jobName}}</label>\r\n						<div class="col-sm-10">\r\n							<input style="width:250px;margin-left:3px" class="form-control" type="text" id="confirm_job_create_name" placeholder="Edit hint text in properties panel.">\r\n						</div>\r\n					</div>\r\n					<div class="form-group" style="margin-top:15px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="job_submit_confirm_file_name">*{{nls.jobFile}}</label>\r\n						<div class="col-sm-10">\r\n							<input style="width:250px;margin-left:3px" class="form-control" type="text" id="job_submit_confirm_file_name" placeholder="Edit hint text in properties panel." readonly>\r\n						</div>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="confirm_queue_name">*{{nls.queue}}</label>\r\n						<select class="form-control" id="confirm_queue_name" style="width:110px;margin-left:152px">\r\n							<option value="empty">{{nls.selectOption}}</option>\r\n						</select>\r\n					</div>\r\n					<div class="form-group" style="display:none">\r\n						<label class="col-sm-2 control-label" for="confirm_work_dir">*{{nls.workDir}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="confirm_work_dir_text" placeholder="Edit hint text in properties panel.">\r\n						<button style="margin-left:300px;position:fixed" type="button" id="confrim_work_dir_select_btn" class="btn btn-primary">{{nls.browse}}\r\n						</button>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label" for="confirm_output_dir" style="font-weight:normal;margin-top:-10px">*{{nls.outputPath}}<span style="font-size:small;font-weight:normal">({{nls.outputs}})</span></label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="confirm_output_dir_text" placeholder="Edit hint text in properties panel.">\r\n						<button style="margin-left:300px;position:fixed" type="button" id="confirm_output_dir_select_btn" class="btn btn-primary">{{nls.browse}}\r\n						</button>\r\n					</div>\r\n					<div class="form-group" style="display:none">\r\n						<label class="col-sm-2 control-label" for="confirm_MPI_prog">*{{nls.MPIProg}}</label>\r\n						<input style="width:250px;margin-left:144px;position:fixed" class="form-control" type="text" id="confirm_MPI_prog_text" placeholder="Edit hint text in properties panel.">\r\n						<button style="margin-left:300px;position:fixed" type="button" id="confirm_MPI_prog_select_btn" class="btn btn-primary">{{nls.browse}}\r\n						</button>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label" style="font:bold">{{nls.resReq}}</label>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label job-font-weight-normal">*{{nls.CPUCoreNum}}</label>\r\n						<input style="width:50px;position:fixed;margin-left:152px" class="form-control" type="text" id="confirm_CPU_core_num_text">\r\n						<div class="control-label comment_font_color" style="margin-left:210px;position:fixed">{{nls.cores}}</div>\r\n						<label class="col-sm-2 control-label job-font-weight-normal" style="margin-left:190px;position:fixed">*{{nls.nodeNum}}</label>\r\n						<input style="width:50px;position:fixed;margin-left:440px" class="form-control" type="text" id="confirm_nodes_num">\r\n						<div class="control-label comment_font_color" style="margin-left:500px;position:fixed">{{nls.nodes}}</div>\r\n  						<input style="margin-left:480px;margin-top:9px" type="radio" name="confirm_nodesRadios" id="confirm_nodesRadios1" value="nodesRadiosOption1">{{nls.share}}\r\n  						<input type="radio" name="confirm_nodesRadios" id="confirm_nodesRadios2" value="nodesRadiosOption2">{{nls.exclusive}}\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label job-font-weight-normal">{{nls.memSize}}</label>\r\n						<input style="width:50px;position:fixed;margin-left:152px" class="form-control" type="text" id="confirm_mem_size_text">\r\n						<div class="control-label comment_font_color" style="margin-left:210px;position:fixed">{{nls.mega}}</div>\r\n						<label style="font-size:small;margin-left:157px;margin-top:-8px" class="col-sm-2 control-label job-font-weight-normal">*{{nls.walltime}} (Wall Time)</label>\r\n						<input style="width:130px;position:fixed;margin-left:440px" class="form-control" type="text" id="confirm_run_time_text" placeholder="Edit hint text in properties panel.">\r\n						<div class="control-label comment_font_color" style="margin-left:580px;position:absolute">{{nls.time}}</div>\r\n					</div>\r\n					<div class="form-group">\r\n						<label class="col-sm-2 control-label" style="font:bold">{{nls.statusNotify}}</label>\r\n   						<div class="checkbox" style="margin-left:152px">\r\n							<label>\r\n								<input id="confirm_notice_finish" type="checkbox" value="finish">{{nls.finish}}\r\n							</label>\r\n							<label>\r\n								<input id="confirm_notice_suspend" type="checkbox" value="suspend">{{nls.suspend}}\r\n							</label>\r\n						</div>\r\n					</div>\r\n					<div class="form-group" style="margin-bottom:22px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="confirm_email">{{nls.email}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="confirm_email" placeholder="Edit hint text in properties panel.">\r\n						</button>\r\n					</div>\r\n					<div class="form-group" style="margin-bottom:22px">\r\n						<label class="col-sm-2 control-label job-font-weight-normal" for="confirm_cell">{{nls.phone}}</label>\r\n						<input style="width:250px;margin-left:152px;position:fixed" class="form-control" type="text" id="confirm_cell" placeholder="Edit hint text in properties panel.">\r\n						</button>\r\n					</div>\r\n					<div style="margin-bottom:30px" class="form-group">\r\n						<label class="col-sm-2 control-label" for="confirm_exec_command">*{{nls.exeCommand}}</label>\r\n						<textarea style="width:500px;margin-left:152px" class="form-control" rows="9" id="confirm_exec_command"></textarea>\r\n					</div>\r\n\r\n	         		<div class="modal-footer">\r\n	            		<button type="button" class="btn btn-primary">{{nls.submit}}\r\n	            		</button>\r\n	            		<button type="button" class="btn btn-default" data-dismiss="modal">{{nls.cancel}}\r\n	            		</button>\r\n         			</div>\r\n\r\n				</form>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n</div>\r\n'
}),define("customUI/user/dashboard/job/nls/jobView",{root:{submitJob:"提交作业",MatlabPattern:"Matlab模版",CADPattern:"CAD模版",testPattern:"碰撞测试模版",analyzePattern:"力学分析模版",jobID:"作业ID",jobName:"作业名",jobFile:"作业文件",browse:"浏览",createJobFile:"创建作业文件",confirm:"确认",cancel:"取消",createJob:"创建作业",queue:"队列",selectOption:"请选择",workDir:"工作目录",outputPath:"输出路径",outputs:"标准输出和错误输出",MPIProg:"MPI程序",resReq:"资源需求",CPUCoreNum:"每个节点的CPU核数",cores:"核",nodeNum:"节点数",nodes:"个",mega:"M",share:"共享",exclusive:"独享",memSize:"内存容量",giga:"G",walltime:"预计运行时间 ",time:"300小时机时配额可用",statusNotify:"运行状态通知",finish:"完成",suspend:"挂起",email:"邮箱",phone:"手机",exeCommand:"可执行命令",submit:"提交",pbs:".pbs , .sh etc.",close:"关闭",jobCreateSuccessfully:"作业提交成功",jobCreateFailed:"作业提交失败, 请检查程序",mpi_example:"示例：a.out  etc",mpi_arg_example:"示例：-t -h",MPIArg:"MPI程序参数",hour:"小时",minute:"分",mail_notice:"多个邮箱请用分号;分隔",ajaxError:"网络通信错误",errMsg:"错误信息",chooseFolder:"选择文件夹",chooseFile:"选择文件",jobNameEmptyMsg:"请输入作业名",jobNameRegMsg:"字母、数字、下划线组成，4-16位",queueEmptyMsg:"请选择队列",workingDirEmptyMsg:"请选择工作目录",MPIProgEmptyMsg:"请选择MPI程序",intReqMsg:"请输入正整数",minMsg:"请输入0-59之间的正整数",mailMsg:"请输入正确的邮件格式xxx@xxx.xx",jobFileEmptyMsg:"请选择作业文件",uploadFiles:"上传文件",work_dir_notify:'请点击"浏览"按钮选择目录',MPI_prog_notify:'请点击"浏览"按钮选择程序'},zh:!0,en:!0}),define("customUI/user/dashboard/job/nls/zh/jobView",{submitJob:"提交作业",MatlabPattern:"Matlab模版",CADPattern:"CAD模版",testPattern:"碰撞测试模版",analyzePattern:"力学分析模版",jobID:"作业ID",jobName:"作业名",jobFile:"作业文件",browse:"浏览",createJobFile:"创建作业文件",confirm:"确认",cancel:"取消",createJob:"创建作业",queue:"队列",selectOption:"请选择",workDir:"工作目录",outputPath:"输出路径",outputs:"标准输出和错误输出",MPIProg:"MPI程序",resReq:"资源需求",CPUCoreNum:"每个节点的CPU核数",cores:"核",nodeNum:"节点数",nodes:"个",share:"共享",exclusive:"独享",memSize:"内存容量",giga:"G",mega:"M",walltime:"预计运行时间 ",time:"300小时机时配额可用",statusNotify:"运行状态通知",finish:"完成",suspend:"挂起",email:"邮箱",phone:"手机",exeCommand:"可执行命令",submit:"提交",pbs:".pbs , .sh etc.",close:"关闭",jobCreateSuccessfully:"作业提交成功",jobCreateFailed:"作业提交失败, 请检查程序",mpi_example:"示例：a.out  etc",mpi_arg_example:"示例：-t -h",MPIArg:"MPI程序参数",hour:"小时",minute:"分",mail_notice:"多个邮箱请用分号;分隔",ajaxError:"网络通信错误",errMsg:"错误信息",chooseFolder:"选择文件夹",chooseFile:"选择文件",jobNameEmptyMsg:"请输入作业名",jobNameRegMsg:"字母、数字、下划线组成，4-16位",queueEmptyMsg:"请选择队列",workingDirEmptyMsg:"请选择工作目录",MPIProgEmptyMsg:"请选择MPI程序",intReqMsg:"请输入正整数",minMsg:"请输入0-59之间的正整数",mailMsg:"请输入正确的邮件格式xxx@xxx.xx",jobFileEmptyMsg:"请选择作业文件",uploadFiles:"上传文件",work_dir_notify:'请点击"浏览"按钮选择目录',MPI_prog_notify:'请点击"浏览"按钮选择程序'}),define("libs/require-css/css!customUI/user/dashboard/job/css/jobView",[],function(){}),define("customUI/user/dashboard/job/jobView",["marionette","RegionManager","elfinder","elfinder_i18n","widgets/elfinder/chooseFolder/chooseFolder","widgets/elfinder/chooseFile/chooseFile","utils/utils","utils/constants/urlConstants","text!./templates/jobTmpl.mustache","i18n!customUI/user/dashboard/job/nls/jobView","css!/static/js/libs/jquery-ui/themes/flick/jquery-ui.min.css","css!/static/js/libs/elfinder/css/elfinder.min.css","css!./css/jobView"],function(e,t,n,i,r,s,o,a,l,c){return e.ItemView.extend({template:l,self:this,ui:{jobInputText:"#job_file_input_text"},selected_queue:"",templateHelpers:function(){return{nls:c}},clearCheck:function(){$("#nodesRadios1").removeAttr("checked"),$("#nodesRadios2").removeAttr("checked"),$("#notice_finish").attr("checked",!1),$("#notice_suspend").attr("checked",!1)},clearQueueOption:function(){for(var e=$("#queue_name"),t=e[0].length;t>1;t--)e[0].remove(t-1)},clearConfirmQueueOption:function(){for(var e=$("#confirm_queue_name"),t=e[0].length;t>1;t--)e[0].remove(t-1)},clearCreatePage:function(){$("input").html(""),$("textarea").html(""),this.clearQueueOption(),this.clearCheck()},setConfirmNotify:function(e){var t=e.trigger,n=t.split(",");-1!==$.inArray("finish",n)?$("#confirm_notice_finish").attr("checked","checked"):$("#confirm_notice_finish").attr("checked",!1),-1!==$.inArray("suspend",n)?$("#confirm_notice_suspend").attr("checked","checked"):$("#confirm_notice_suspend").attr("checked",!1)},setConfirmCheck:function(e){1==e.share?($("#confirm_nodesRadios2").removeAttr("checked"),$("#confirm_nodesRadios1").attr("checked","checked")):($("#confirm_nodesRadios1").removeAttr("checked"),$("#confirm_nodesRadios2").attr("checked","checked"))},clearConfirmCommands:function(){$("#confirm_exec_command").html("")},setConfirmCommands:function(e){this.clearConfirmCommands();var t=e.commands;$.each(t,function(e,t){$("#confirm_exec_command").append(t+"\r")})},setConfirmQueueOptions:function(e){this.clearConfirmQueueOption();var t=e.queues,n=e.queue_selected;$.each(t,function(e,t){$("#confirm_queue_name").append("<option value='"+t+"'>"+t+"</option>")});for(var i=0;i<$("#confirm_queue_name")[0].length;i++)$("#confirm_queue_name")[0][i].selected=$("#confirm_queue_name")[0][i].innerHTML==n?!0:!1},setConfirmValue:function(e){$("#confirm_job_create_name").val(e.name),$("#job_submit_confirm_file_name").val(e.filename),$("#confirm_output_dir_text").val(e.output_path),$("#confirm_CPU_core_num_text").val(e.cpus),$("#confirm_nodes_num").val(e.nodes),$("#confirm_mem_size_text").val(e.mem_size),$("#confirm_run_time_text").val(e.walltime),this.setConfirmQueueOptions(e),this.setConfirmCheck(e),this.setConfirmNotify(e),$("#confirm_email").val(e.mail),$("#confirm_cell").val(e.phone),this.setConfirmCommands(e)},initQueryCreateStatus:function(e){var t=e,n=this;setTimeout(this.checkCreateProgress,2e3,t,n)},checkCreateProgress:function(e,t){var n=a.jobs+e.id;$.ajax({type:"GET",url:n,dataType:"json",success:function(n){t.checkCreateResult(n,e)},error:function(){$("#progressDialog").modal("hide"),$("#createResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#createResult").html(c.jobCreateFailed).css("position","relative"),$("#resultIcon").attr("src","/static/js/customUI/user/dashboard/job/resources/ic_clear_red_36x36.png"),$("#jobCreateID").css("display","none"),$("#jobCreateResult").modal("show"),o.forceRefresh()}})},checkCreateResult:function(e,t){var n=this;"created"==e.operatestatus?($("#progressDialog").modal("hide"),$("#createResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#createResult").html(c.jobCreateSuccessfully).css("position:fixed"),$("#resultIcon").attr("src","/static/js/customUI/user/dashboard/job/resources/ic_check_green_36x36.png"),$("#jobCreateID").html(c.jobID+": "+e.jobid).css("display","block"),$("#jobCreateResult").modal("show"),o.forceRefresh()):"createfailed"==e.operatestatus?($("#progressDialog").modal("hide"),$("#createResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#createResult").html(c.jobCreateFailed).css("position","relative"),$("#resultIcon").attr("src","/static/js/customUI/user/dashboard/job/resources/ic_clear_red_36x36.png"),$("#jobCreateID").css("display","none"),$("#jobCreateResult").modal("show"),o.forceRefresh()):n.initQueryCreateStatus(t)},addInvalidClass:function(e){$(e).removeClass("form-control").addClass("form-control-invalid")},removeInvalidClass:function(e){$(e).removeClass("form-control-invalid").addClass("form-control")},validateJobName:function(e){var t,n=/^[a-zA-z]\w{3,15}$/,i=c.jobNameEmptyMsg,r=c.jobNameRegMsg,s=$.trim($("#job_create_name").val());return 0==s.length?(o.showMessageOnSpot("#job_create_name",i,"right"),e.addInvalidClass("#job_create_name"),t=!1):n.test(s)?(o.hideMessageOnSpot("#job_create_name"),t=!0,e.removeInvalidClass("#job_create_name")):(o.showMessageOnSpot("#job_create_name",r,"right"),t=!1,e.addInvalidClass("#job_create_name")),t},validateJobNameE:function(e){var t,n=e.data.foo,i=/^[a-zA-z]\w{3,15}$/,r=c.jobNameEmptyMsg,s=c.jobNameRegMsg,a=$.trim($("#job_create_name").val());return 0==a.length?(o.showMessageOnSpot("#job_create_name",r,"right"),n.addInvalidClass("#job_create_name"),t=!1):i.test(a)?(o.hideMessageOnSpot("#job_create_name"),t=!0,n.removeInvalidClass("#job_create_name")):(o.showMessageOnSpot("#job_create_name",s,"right"),t=!1,n.addInvalidClass("#job_create_name")),t},validateQueue:function(e){var t,n=c.queueEmptyMsg;return"empty"==$("#queue_name").val()?(o.showMessageOnSpot("#queue_name",n),e.addInvalidClass("#queue_name"),t=!1):(o.hideMessageOnSpot("#queue_name"),e.removeInvalidClass("#queue_name"),t=!0),t},validateQueueE:function(e){var t,n=e.data.foo,i=c.queueEmptyMsg;return"empty"==$("#queue_name").val()?(o.showMessageOnSpot("#queue_name",i),n.addInvalidClass("#queue_name"),t=!1):(o.hideMessageOnSpot("#queue_name"),n.removeInvalidClass("#queue_name"),t=!0),t},validateJobFile:function(e){var t,n=c.jobFileEmptyMsg;return 0==$.trim($("#job_file_input_text").val()).length?(o.showMessageOnSpot("#job_file_input_text",n,"bottom"),e.addInvalidClass("#job_file_input_text"),t=!1):(o.hideMessageOnSpot("#job_file_input_text"),e.removeInvalidClass("#job_file_input_text"),t=!0),t},validateWorkingDir:function(e){var t,n=c.workingDirEmptyMsg;return 0==$.trim($("#work_dir_text").val()).length?(o.showMessageOnSpot("#work_dir_select_btn",n),e.addInvalidClass("#work_dir_text"),t=!1):(o.hideMessageOnSpot("#work_dir_select_btn"),e.removeInvalidClass("#work_dir_text"),t=!0),t},validateWorkingDirE:function(e){var t,n=e.data.foo,i=c.workingDirEmptyMsg;return 0==$.trim($("#work_dir_text").val()).length?(o.showMessageOnSpot("#work_dir_select_btn",i),n.addInvalidClass("#work_dir_text"),t=!1):(o.hideMessageOnSpot("#work_dir_select_btn"),n.removeInvalidClass("#work_dir_text"),t=!0),t},validateMPIProg:function(e){var t,n=c.MPIProgEmptyMsg;return 0==$.trim($("#MPI_prog_text").val()).length?(o.showMessageOnSpot("#MPI_prog_select_btn",n),e.addInvalidClass("#MPI_prog_text"),t=!1):(o.hideMessageOnSpot("#MPI_prog_select_btn"),e.removeInvalidClass("#MPI_prog_text"),t=!0),t},validateMPIProgE:function(e){var t,n=e.data.foo,i=c.MPIProgEmptyMsg;return 0==$.trim($("#MPI_prog_text").val()).length?(o.showMessageOnSpot("#MPI_prog_select_btn",i),n.addInvalidClass("#MPI_prog_text"),t=!1):(o.hideMessageOnSpot("#MPI_prog_select_btn"),n.removeInvalidClass("#MPI_prog_text"),t=!0),t},validateNodeNum:function(e){var t,n=$.trim($("#nodes_num").val()),i=/^[1-9]\d*$/,r=c.intReqMsg;return""==n||null==n?(o.hideMessageOnSpot("#nodes_num"),e.removeInvalidClass("#nodes_num"),t=!0):i.test(n)?(o.hideMessageOnSpot("#nodes_num"),e.removeInvalidClass("#nodes_num"),t=!0):(o.showMessageOnSpot("#nodes_num",r),e.addInvalidClass("#nodes_num"),t=!1),t},validateNodeNumE:function(e){var t,n=e.data.foo,i=$.trim($("#nodes_num").val()),r=/^[1-9]\d*$/,s=c.intReqMsg;return""==i||null==i?(o.hideMessageOnSpot("#nodes_num"),n.removeInvalidClass("#nodes_num"),t=!0):r.test(i)?(o.hideMessageOnSpot("#nodes_num"),n.removeInvalidClass("#nodes_num"),t=!0):(o.showMessageOnSpot("#nodes_num",s),n.addInvalidClass("#nodes_num"),t=!1),t},validateCPUCoreNum:function(e){var t,n=$.trim($("#CPU_core_num_text").val()),i=/^[1-9]\d*$/,r=c.intReqMsg;return""==n||null==n?(o.hideMessageOnSpot("#CPU_core_num_text"),e.removeInvalidClass("#CPU_core_num_text"),t=!0):i.test(n)?(o.hideMessageOnSpot("#CPU_core_num_text"),e.removeInvalidClass("#CPU_core_num_text"),t=!0):(o.showMessageOnSpot("#CPU_core_num_text",r),e.addInvalidClass("#CPU_core_num_text"),t=!1),t},validateCPUCoreNumE:function(e){var t,n=e.data.foo,i=$.trim($("#CPU_core_num_text").val()),r=/^[1-9]\d*$/,s=c.intReqMsg;return""==i||null==i?(o.hideMessageOnSpot("#CPU_core_num_text"),n.removeInvalidClass("#CPU_core_num_text"),t=!0):r.test(i)?(o.hideMessageOnSpot("#CPU_core_num_text"),n.removeInvalidClass("#CPU_core_num_text"),t=!0):(o.showMessageOnSpot("#CPU_core_num_text",s),n.addInvalidClass("#CPU_core_num_text"),t=!1),t},validateMemSize:function(e){var t,n=$.trim($("#mem_size_text").val()),i=/^[1-9]\d*$/,r=c.intReqMsg;return""==n||null==n?(o.hideMessageOnSpot("#mem_size_text"),e.removeInvalidClass("#mem_size_text"),t=!0):i.test(n)?(o.hideMessageOnSpot("#mem_size_text"),e.removeInvalidClass("#mem_size_text"),t=!0):(o.showMessageOnSpot("#mem_size_text",r),e.addInvalidClass("#mem_size_text"),t=!1),t},validateMemSizeE:function(e){var t,n=e.data.foo,i=$.trim($("#mem_size_text").val()),r=/^[1-9]\d*$/,s=c.intReqMsg;return""==i||null==i?(o.hideMessageOnSpot("#mem_size_text"),n.removeInvalidClass("#mem_size_text"),t=!0):r.test(i)?(o.hideMessageOnSpot("#mem_size_text"),n.removeInvalidClass("#mem_size_text"),t=!0):(o.showMessageOnSpot("#mem_size_text",s),n.addInvalidClass("#mem_size_text"),t=!1),t},validateWalltimeHour:function(e){var t,n=$.trim($("#walltime_hour").val()),i=/^[1-9]\d*$/,r=c.intReqMsg;return""==n||null==n?(o.hideMessageOnSpot("#walltime_hour"),e.removeInvalidClass("#walltime_hour"),t=!0):i.test(n)?(o.hideMessageOnSpot("#walltime_hour"),e.removeInvalidClass("#walltime_hour"),t=!0):(o.showMessageOnSpot("#walltime_hour",r,"bottom"),e.addInvalidClass("#walltime_hour"),t=!1),t},validateWalltimeHourE:function(e){var t,n=e.data.foo,i=$.trim($("#walltime_hour").val()),r=/^[1-9]\d*$/,s=c.intReqMsg;return""==i||null==i?(o.hideMessageOnSpot("#walltime_hour"),n.removeInvalidClass("#walltime_hour"),t=!0):r.test(i)?(o.hideMessageOnSpot("#walltime_hour"),n.removeInvalidClass("#walltime_hour"),t=!0):(o.showMessageOnSpot("#walltime_hour",s,"bottom"),n.addInvalidClass("#walltime_hour"),t=!1),t},validateWalltimeMin:function(e){var t,n=$.trim($("#walltime_minute").val()),i=/^([0-9]|[1-5]\d)$/,r=c.minMsg;return""==n||null==n?(o.hideMessageOnSpot("#walltime_minute"),e.removeInvalidClass("#walltime_minute"),t=!0):i.test(n)?(o.hideMessageOnSpot("#walltime_minute"),e.removeInvalidClass("#walltime_minute"),t=!0):(o.showMessageOnSpot("#walltime_minute",r),e.addInvalidClass("#walltime_minute"),t=!1),t},validateWalltimeMinE:function(e){var t,n=e.data.foo,i=$.trim($("#walltime_minute").val()),r=/^([0-9]|[1-5]\d)$/,s=c.minMsg;return""==i||null==i?(o.hideMessageOnSpot("#walltime_minute"),n.removeInvalidClass("#walltime_minute"),t=!0):r.test(i)?(o.hideMessageOnSpot("#walltime_minute"),n.removeInvalidClass("#walltime_minute"),t=!0):(o.showMessageOnSpot("#walltime_minute",s),n.addInvalidClass("#walltime_minute"),t=!1),t},validateEmail:function(e){var t,n=$.trim($("#email").val()),i=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,r=c.mailMsg;return""==n||null==n?(o.hideMessageOnSpot("#email"),e.removeInvalidClass("#email"),t=!0):i.test(n)?(o.hideMessageOnSpot("#email"),e.removeInvalidClass("#email"),t=!0):(o.showMessageOnSpot("#email",r),e.addInvalidClass("#email"),t=!1),t},validateEmailE:function(e){var t,n=e.data.foo,i=$.trim($("#email").val()),r=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,s=c.mailMsg;return""==i||null==i?(o.hideMessageOnSpot("#email"),n.removeInvalidClass("#email"),t=!0):r.test(i)?(o.hideMessageOnSpot("#email"),n.removeInvalidClass("#email"),t=!0):(o.showMessageOnSpot("#email",s),n.addInvalidClass("#email"),t=!1),t},validateJobNameOnCreate:function(e){var t,n=$.trim($("#job_name").val()),i=/^[a-zA-z]\w{3,15}$/,r=c.jobNameRegMsg;return""==n||null==n?(o.hideMessageOnSpot("#job_name"),e.removeInvalidClass("#job_name"),t=!0):i.test(n)?(o.hideMessageOnSpot("#job_name"),e.removeInvalidClass("#job_name"),t=!0):(o.showMessageOnSpot("#job_name",r),e.addInvalidClass("#job_name"),t=!1),t},validateJobNameOnCreateE:function(e){var t,n=e.data.foo,i=$.trim($("#job_name").val()),r=/^[a-zA-z]\w{3,15}$/,s=c.jobNameRegMsg;return""==i||null==i?(o.hideMessageOnSpot("#job_name"),n.removeInvalidClass("#job_name"),t=!0):r.test(i)?(o.hideMessageOnSpot("#job_name"),n.removeInvalidClass("#job_name"),t=!0):(o.showMessageOnSpot("#job_name",s),n.addInvalidClass("#job_name"),t=!1),t},setInputErr:function(e){$(e).css("border","1px solid red")},recoverInputErr:function(e){$(e).css("border","1px solid #ccc")},onRender:function(){var e=this;$("#dialog_init").click(function(){$("#jobSubmit").modal("show")}),$("#cancel_confirm_submit_x").click(function(){$("#jobSubmitConfirm").modal("hide")}),$("#close_job_create_result_btn").click(function(){$("#jobCreateSuccess").modal("hide")}),$("#close_job_submit_btn").click(function(){$("#jobSubmit").modal("hide")}),$("#confirm_cancel").click(function(){$("#jobSubmit").modal("hide")}),$("#submit_cancel").click(function(){e.clearCreatePage(),$("#jobCreate").modal("hide"),e.selected_queue="",$("#jobSubmit").modal("hide")}),$("#cancel_create_x").click(function(){e.clearCreatePage(),$("#jobCreate").modal("hide"),e.selected_queue="",$("#jobSubmit").modal("hide")}),$("#job_create_name").on("keyup",{foo:e},e.validateJobNameE),$("#job_create_name").on("blur",{foo:e},e.validateJobNameE),$("#nodes_num").on("keyup",{foo:e},e.validateNodeNumE),$("#nodes_num").on("blur",{foo:e},e.validateNodeNumE),$("#CPU_core_num_text").on("keyup",{foo:e},e.validateCPUCoreNumE),$("#CPU_core_num_text").on("blur",{foo:e},e.validateCPUCoreNumE),$("#mem_size_text").on("keyup",{foo:e},e.validateMemSizeE),$("#mem_size_text").on("blur",{foo:e},e.validateMemSizeE),$("#walltime_hour").on("keyup",{foo:e},e.validateWalltimeHourE),$("#walltime_hour").on("blur",{foo:e},e.validateWalltimeHourE),$("#walltime_minute").on("keyup",{foo:e},e.validateWalltimeMinE),$("#walltime_minute").on("blur",{foo:e},e.validateWalltimeMinE),$("#email").on("keyup",{foo:e},e.validateEmailE),$("#email").on("blur",{foo:e},e.validateEmailE),$("#job_name").on("keyup",{foo:e},e.validateJobNameOnCreateE),$("#job_name").on("blur",{foo:e},e.validateJobNameOnCreateE),$("#job_create_submit").click(function(){if(e.validateJobName(e)&e.validateQueue(e)&e.validateWorkingDir(e)&e.validateMPIProg(e)&e.validateNodeNum(e)&e.validateCPUCoreNum(e)&e.validateMemSize(e)&e.validateWalltimeHour(e)&e.validateWalltimeMin(e)&e.validateEmail(e)){$("#jobCreate").modal("hide"),$("#jobSubmit").modal("hide");var t=$("#job_create_name").val(),n=$("#queue_name").val(),i=$("#work_dir_text").val(),r=$("#MPI_prog_text").val(),s=$("#MPI_arg").val(),l=$("#nodes_num").val();l=null==l||""==l?0:parseInt(l);var d=$("#CPU_core_num_text").val();d=null==d||""==d?0:parseInt(d);var u=$("#mem_size_text").val();u=null==u||""==u?0:parseInt(u);var h=$("#walltime_hour").val();(null==h||""==h)&&(h="0");var p=$("#walltime_minute").val();null==p||""==p||"0"==p?p="00":parseInt(p)<10&&(p="0"+p);var f=h+":"+p+":00",m="";$("#notice_finish").is(":checked")&&$("#notice_suspend").is(":checked")?m="ae":$("#notice_finish").is(":checked")?m="e":$("#notice_suspend").is(":checked")&&(m="a");var g=$("#email").val(),v={type:"template",action:"create",jobname:t,queue:n,workingdir:i,mpi_prog:r,mpi_prog_arguments:s,pnodescount:l,ppn:d,pmem:u,walltime:f,mailtrigger:m,mail:g};v=JSON.stringify(v),$.ajax({type:"POST",url:a.jobs,data:v,headers:{"Content-Type":"application/json;charset=UTF-8"},dataType:"json",success:function(t){$("#jobCreate").modal("hide"),$("#progressDialog").modal("show"),e.initQueryCreateStatus(t)},error:function(){$("#progressDialog").modal("hide"),$("#createResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#createResult").html(c.jobCreateFailed).css("position","relative"),$("#resultIcon").attr("src","/static/js/customUI/user/dashboard/job/resources/ic_clear_red_36x36.png"),$("#jobCreateID").css("display","none"),$("#jobCreateResult").modal("show"),o.forceRefresh()}})}}),$("#job_name").change(function(){$("#job_create_name").val($("#job_name").val())}),$("#create_job").click(function(){e.validateJobNameOnCreate(e)&&($("#jobCreate").modal("show"),$.ajax({type:"GET",url:a.queues,dataType:"json",success:function(t){e.clearQueueOption();var n=[];$.each(t,function(e,t){n.push(t.name)}),$.each(n,function(e,t){$("#queue_name").append("<option value='"+t+"'>"+t+"</option>")});for(var i=0;i<$("#queue_name")[0].length;i++)$("#queue_name")[0][i].selected=$("#queue_name")[0][i].innerHTML==e.selected_queue?!0:!1},error:function(){}}))}),$("#job_file_select_btn").click(function(){$("#jobfile-elfinder-dlg-content").elfinder({url:a.files,lang:"zh_CN",defaultView:"list",useBrowserHistory:!1,uiOptions:{toolbar:[["back","forward"],["choosefile"],["mkdir","upload","rename"],["sort"]]},handlers:{init:function(){$(".elfinder-button-icon-choosefile").parent().css("width","100px"),$(".elfinder-button-icon-choosefile").parent().css("cursor","default"),$(".elfinder-button-icon-choosefile").css("padding-left","20px"),$(".elfinder-button-icon-choosefile").css("font-family",'Arial, "Microsoft YaHei", "微软雅黑", sans-serif'),$(".elfinder-button-icon-choosefile").css("font-size","14px"),$(".elfinder-button-icon-choosefile").css("display","inline"),$(".elfinder-button-icon-choosefile").text(c.chooseFile),$(".elfinder-button form input[type='file']").attr("title",c.uploadFiles)}},commands:["back","forward","sort","mkdir","upload","search","getfile","open","download","rm","rename","choosefile"],contextmenu:{navbar:["open","|","rm","|"],cwd:["reload","back","|","upload","mkdir"],files:["choosefile","|","download","|","rm","|","rename"]},getFileCallback:function(t){$("#job_file_input_text").val(t.path),$("#job_file_input_text").attr("title",t.path),$("#jobfile-elfinder-dlg").modal("hide"),e.validateJobFile(e)},chooseFileCallback:function(t){$("#job_file_input_text").val(t.path),$("#job_file_input_text").attr("title",t.path),$("#jobfile-elfinder-dlg").modal("hide"),e.validateJobFile(e)}});$("#jobfile-elfinder-dlg").modal("show")}),$("#work_dir_select_btn").click(function(){$("#workdir-elfinder-dlg-content").elfinder({url:a.files,lang:"zh_CN",defaultView:"list",useBrowserHistory:!1,uiOptions:{toolbar:[["back","forward"],["choosefolder"],["mkdir","upload","rename"],["sort"]]},handlers:{init:function(){$(".elfinder-button-icon-choosefolder").parent().css("width","100px"),$(".elfinder-button-icon-choosefolder").parent().css("cursor","default"),$(".elfinder-button-icon-choosefolder").css("padding-left","20px"),$(".elfinder-button-icon-choosefolder").css("font-family",'Arial, "Microsoft YaHei", "微软雅黑", sans-serif'),$(".elfinder-button-icon-choosefolder").css("font-size","14px"),$(".elfinder-button-icon-choosefolder").css("display","inline"),$(".elfinder-button-icon-choosefolder").text(c.chooseFolder),$(".elfinder-button form input[type='file']").attr("title",c.uploadFiles)}},commands:["back","forward","sort","mkdir","upload","search","getfile","open","download","rm","rename","choosefolder"],contextmenu:{navbar:["open","|","rm","|"],cwd:["reload","back","|","upload","mkdir"],files:["choosefolder","|","download","|","rm","|","rename"]},getFileCallback:function(){},getFolderCallback:function(t){$("#work_dir_text").val(t.path),$("#work_dir_text").attr("title",t.path),$("#workdir-elfinder-dlg").modal("hide"),e.validateWorkingDir(e),(0==$.trim($("#work_dir_text").val()).length||null==$("#work_dir_text").val()||""==$("#work_dir_text").val())&&$("#job_create_submit").attr("disabled",!0)}});$("#workdir-elfinder-dlg").modal("show")}),$("#MPI_prog_select_btn").click(function(){$("#mpiprog-elfinder-dlg-content").elfinder({url:a.files,lang:"zh_CN",defaultView:"list",useBrowserHistory:!1,uiOptions:{toolbar:[["back","forward"],["choosefile"],["mkdir","upload","rename"],["sort"]]},handlers:{init:function(){$(".elfinder-button-icon-choosefile").parent().css("width","100px"),$(".elfinder-button-icon-choosefile").parent().css("cursor","default"),$(".elfinder-button-icon-choosefile").css("padding-left","20px"),$(".elfinder-button-icon-choosefile").css("font-family",'Arial, "Microsoft YaHei", "微软雅黑", sans-serif'),$(".elfinder-button-icon-choosefile").css("font-size","14px"),$(".elfinder-button-icon-choosefile").css("display","inline"),$(".elfinder-button-icon-choosefile").text(c.chooseFile),$(".elfinder-button form input[type='file']").attr("title",c.uploadFiles)}},commands:["back","forward","sort","mkdir","upload","search","getfile","open","download","rm","rename","choosefile"],contextmenu:{navbar:["open","|","rm","|"],cwd:["reload","back","|","upload","mkdir"],files:["choosefile","|","download","|","rm","|","rename"]},getFileCallback:function(t){$("#MPI_prog_text").val(t.path),$("#MPI_prog_text").attr("title",t.path),$("#mpiprog-elfinder-dlg").modal("hide"),e.validateMPIProg(e)},chooseFileCallback:function(t){$("#MPI_prog_text").val(t.path),$("#MPI_prog_text").attr("title",t.path),$("#mpiprog-elfinder-dlg").modal("hide"),e.validateMPIProg(e),(0==$.trim($("#MPI_prog_text").val()).length||null==$("#MPI_prog_text").val()||""==$("#MPI_prog_text").val())&&$("#job_create_submit").attr("disabled",!0)}});$("#mpiprog-elfinder-dlg").modal("show")}),$("#queue_name").change(function(){e.selected_queue=$("#queue_name").val(),e.validateQueue(e)}),$("#work_dir_text").change(function(){e.validateWorkingDir(e)}),$("#MPI_prog_text").change(function(){e.validateMPIProg(e)}),$("#job_file_input").change(function(){var e=$("#job_file_input").val();$("#job_file_input_text").val(e)}),$("#job_file_input_text").change(function(){e.validateJobFile(e)}),$("#confirm_submit").click(function(){if(e.validateJobFile(e)&e.validateJobNameOnCreate(e)){var t=$("#job_file_input_text").val(),n=$("#job_name").val(),i=a.jobs,r=($.cookie("csrftoken"),{type:"file",action:"create",jobname:n,jobfilename:t});r=JSON.stringify(r),$.ajax({type:"POST",url:i,data:r,headers:{"Content-Type":"application/json;charset=UTF-8"},success:function(t){$("#jobSubmit").modal("hide"),$("#progressDialog").modal("show"),e.initQueryCreateStatus(t)},error:function(){$("#jobSubmit").modal("hide"),$("#progressDialog").modal("hide"),$("#createResultArea").addClass("alert alert-dismissable").css("background-color","white"),$("#createResult").html(c.jobCreateFailed).css("position","relative"),$("#resultIcon").attr("src","/static/js/customUI/user/dashboard/job/resources/ic_clear_red_36x36.png"),$("#jobCreateID").css("display","none"),$("#jobCreateResult").modal("show"),o.forceRefresh()}})}}),$("#dialog_init").click()}})});var TableTools;!function(e,t,n){var i=function(i,r){var s={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=t.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){var i=this.clients[e];i&&i.receiveEvent(t,n)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!==e.style.width&&(t.width=e.style.width.replace("px","")),""!==e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,s.register(this.id,this),e&&this.glue(e)}};return s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,n){this.domElement=s.$(e);var i=99;this.domElement.style.zIndex&&(i=parseInt(this.domElement.style.zIndex,10)+1);var r=s.getDOMObjectPosition(this.domElement);this.div=t.createElement("div");var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=r.width+"px",o.height=r.height+"px",o.zIndex=i,"undefined"!=typeof n&&""!==n&&(this.div.title=n),0!==r.width&&0!==r.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=s.getDOMObjectPosition(this.domElement),t=this.div.style;if(t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!==e.width&&0!==e.height){this.sized=!0;var n=this.div.childNodes[0];n.width=e.width,n.height=e.height}},getHTML:function(e,t){var n="",i="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var r=location.href.match(/^https/i)?"https://":"http://";n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+r+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>'}else n+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=t.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(n){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=s.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=s.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=""+t.left+"px",n.top=""+t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(n,i){var r;switch(n=n.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=t.getElementById(this.movieId),!this.movie)return r=this,void setTimeout(function(){r.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return r=this,setTimeout(function(){r.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[n])for(var s=0,o=this.handlers[n].length;o>s;s++){var a=this.handlers[n][s];"function"==typeof a?a(this,i):"object"==typeof a&&2==a.length?a[0][a[1]](this,i):"string"==typeof a&&e[a](this,i)}}},e.ZeroClipboard_TableTools=s,function(e,t,i){TableTools=function(t,n){!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'");var i=e.fn.dataTable.Api?new e.fn.dataTable.Api(t).settings()[0]:t.fnSettings();
return this.s={that:this,dt:i,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=e.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&e.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},"undefined"==typeof n&&(n={}),TableTools._aInstances.push(this),this._fnConstruct(n),this},TableTools.prototype={fnGetSelected:function(e){var t,n,i=[],r=this.s.dt.aoData,s=this.s.dt.aiDisplay;if(e)for(t=0,n=s.length;n>t;t++)r[s[t]]._DTTT_selected&&i.push(r[s[t]].nTr);else for(t=0,n=r.length;n>t;t++)r[t]._DTTT_selected&&i.push(r[t].nTr);return i},fnGetSelectedData:function(){var e,t,n=[],i=this.s.dt.aoData;for(e=0,t=i.length;t>e;e++)i[e]._DTTT_selected&&n.push(this.s.dt.oInstance.fnGetData(e));return n},fnGetSelectedIndexes:function(e){var t,n,i=[],r=this.s.dt.aoData,s=this.s.dt.aiDisplay;if(e)for(t=0,n=s.length;n>t;t++)r[s[t]]._DTTT_selected&&i.push(s[t]);else for(t=0,n=r.length;n>t;t++)r[t]._DTTT_selected&&i.push(t);return i},fnIsSelected:function(e){var t=this.s.dt.oInstance.fnGetPosition(e);return this.s.dt.aoData[t]._DTTT_selected===!0?!0:!1},fnSelectAll:function(e){this._fnRowSelect(e?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(e){this._fnRowDeselect(this.fnGetSelectedIndexes(e))},fnSelect:function(e){"single"==this.s.select.type?(this.fnSelectNone(),this._fnRowSelect(e)):this._fnRowSelect(e)},fnDeselect:function(e){this._fnRowDeselect(e)},fnGetTitle:function(e){var t="";if("undefined"!=typeof e.sTitle&&""!==e.sTitle)t=e.sTitle;else{var n=i.getElementsByTagName("title");n.length>0&&(t=n[0].innerHTML)}return"¡".toString().length<4?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(e){var t,n,i=this.s.dt.aoColumns,r=this._fnColumnTargets(e.mColumns),s=[],o=0,a=0;for(t=0,n=r.length;n>t;t++)r[t]&&(o=i[t].nTh.offsetWidth,a+=o,s.push(o));for(t=0,n=s.length;n>t;t++)s[t]=s[t]/a;return s.join("	")},fnGetTableData:function(e){return this.s.dt?this._fnGetDataTablesData(e):void 0},fnSetText:function(e,t){this._fnFlashSetText(e,t)},fnResizeButtons:function(){for(var e in s.clients)if(e){var t=s.clients[e];"undefined"!=typeof t.domElement&&t.domElement.parentNode&&t.positionElement()}},fnResizeRequired:function(){for(var e in s.clients)if(e){var t=s.clients[e];if("undefined"!=typeof t.domElement&&t.domElement.parentNode==this.dom.container&&t.sized===!1)return!0}return!1},fnPrint:function(e,t){t===n&&(t={}),e===n||e?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,n){var i=e("<div/>").addClass(this.classes.print.info).html(t).appendTo("body");setTimeout(function(){i.fadeOut("normal",function(){i.remove()})},n)},fnContainer:function(){return this.dom.container},_fnConstruct:function(t){var n=this;this._fnCustomiseSettings(t),this.dom.container=i.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){e(n.s.dt.nTBody).off("click.DTTT_Select",n.s.custom.sRowSelector).off("mousedown.DTTT_Select","tr").off("mouseup.DTTT_Select","tr"),e(n.dom.container).empty();var t=e.inArray(n,TableTools._aInstances);-1!==t&&TableTools._aInstances.splice(t,1)}})},_fnCustomiseSettings:function(t){"undefined"==typeof this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=e.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,"undefined"!=typeof s&&(s.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,n){for(var i,r=0,s=t.length;s>r;r++){if("string"==typeof t[r]){if("undefined"==typeof TableTools.BUTTONS[t[r]]){alert("TableTools: Warning - unknown button type: "+t[r]);continue}i=e.extend({},TableTools.BUTTONS[t[r]],!0)}else{if("undefined"==typeof TableTools.BUTTONS[t[r].sExtends]){alert("TableTools: Warning - unknown button type: "+t[r].sExtends);continue}var o=e.extend({},TableTools.BUTTONS[t[r].sExtends],!0);i=e.extend(o,t[r],!0)}var a=this._fnCreateButton(i,e(n).hasClass(this.classes.collection.container));a&&n.appendChild(a)}},_fnCreateButton:function(t,n){var i=this._fnButtonBase(t,n);if(t.sAction.match(/flash/)){if(!this._fnHasFlash())return!1;this._fnFlashConfig(i,t)}else"text"==t.sAction?this._fnTextConfig(i,t):"div"==t.sAction?this._fnTextConfig(i,t):"collection"==t.sAction&&(this._fnTextConfig(i,t),this._fnCollectionConfig(i,t));return-1!==this.s.dt.iTabIndex&&e(i).attr("tabindex",this.s.dt.iTabIndex).attr("aria-controls",this.s.dt.sTableId).on("keyup.DTTT",function(t){13===t.keyCode&&(t.stopPropagation(),e(this).trigger("click"))}).on("mousedown.DTTT",function(e){t.sAction.match(/flash/)||e.preventDefault()}),i},_fnButtonBase:function(e,t){var n,r,s;t?(n=e.sTag&&"default"!==e.sTag?e.sTag:this.s.tags.collection.button,r=e.sLinerTag&&"default"!==e.sLinerTag?e.sLiner:this.s.tags.collection.liner,s=this.classes.collection.buttons.normal):(n=e.sTag&&"default"!==e.sTag?e.sTag:this.s.tags.button,r=e.sLinerTag&&"default"!==e.sLinerTag?e.sLiner:this.s.tags.liner,s=this.classes.buttons.normal);var o=i.createElement(n),a=i.createElement(r),l=this._fnGetMasterSettings();return o.className=s+" "+e.sButtonClass,o.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+l.buttonCounter),o.appendChild(a),a.innerHTML=e.sButtonText,l.buttonCounter++,o},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var e=TableTools._aInstances,t=0,n=e.length;n>t;t++)if(this.dom.table==e[t].s.dt.nTable)return e[t].s},_fnCollectionConfig:function(e,t){var n=i.createElement(this.s.tags.collection.container);n.style.display="none",n.className=this.classes.collection.container,t._collection=n,i.body.appendChild(n),this._fnButtonDefinations(t.aButtons,n)},_fnCollectionShow:function(n,r){var s=this,o=e(n).offset(),a=r._collection,l=o.left,c=o.top+e(n).outerHeight(),d=e(t).height(),u=e(i).height(),h=e(t).width(),p=e(i).width();a.style.position="absolute",a.style.left=l+"px",a.style.top=c+"px",a.style.display="block",e(a).css("opacity",0);var f=i.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.height=(d>u?d:u)+"px",f.style.width=(h>p?h:p)+"px",f.className=this.classes.collection.background,e(f).css("opacity",0),i.body.appendChild(f),i.body.appendChild(a);var m=e(a).outerWidth(),g=e(a).outerHeight();l+m>p&&(a.style.left=p-m+"px"),c+g>u&&(a.style.top=c-g-e(n).outerHeight()+"px"),this.dom.collection.collection=a,this.dom.collection.background=f,setTimeout(function(){e(a).animate({opacity:1},500),e(f).animate({opacity:.25},500)},10),this.fnResizeButtons(),e(f).click(function(){s._fnCollectionHide.call(s,null,null)})},_fnCollectionHide:function(t,n){(null===n||"collection"!=n.sExtends)&&null!==this.dom.collection.collection&&(e(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),e(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){{var t=this,n=this.s.dt;this.s.dt.aoOpenRows}e(n.nTable).addClass(this.classes.select.table),"os"===this.s.select.type&&(e(n.nTBody).on("mousedown.DTTT_Select","tr",function(t){t.shiftKey&&e(n.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return!1})}),e(n.nTBody).on("mouseup.DTTT_Select","tr",function(){e(n.nTBody).css("-moz-user-select","")})),e(n.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(i){var r="tr"===this.nodeName.toLowerCase()?this:e(this).parents("tr")[0],s=t.s.select,o=t.s.dt.oInstance.fnGetPosition(r);if(r.parentNode==n.nTBody&&null!==n.oInstance.fnGetData(r)){if("os"==s.type)if(i.ctrlKey||i.metaKey)t.fnIsSelected(r)?t._fnRowDeselect(r,i):t._fnRowSelect(r,i);else if(i.shiftKey){var a=t.s.dt.aiDisplay.slice(),l=e.inArray(s.lastRow,a),c=e.inArray(o,a);if(0===t.fnGetSelected().length||-1===l)a.splice(e.inArray(o,a)+1,a.length);else{if(l>c){var d=c;c=l,l=d}a.splice(c+1,a.length),a.splice(0,l)}t.fnIsSelected(r)?(a.splice(e.inArray(o,a),1),t._fnRowDeselect(a,i)):t._fnRowSelect(a,i)}else t.fnIsSelected(r)&&1===t.fnGetSelected().length?t._fnRowDeselect(r,i):(t.fnSelectNone(),t._fnRowSelect(r,i));else t.fnIsSelected(r)?t._fnRowDeselect(r,i):"single"==s.type?(t.fnSelectNone(),t._fnRowSelect(r,i)):"multi"==s.type&&t._fnRowSelect(r,i);s.lastRow=o}}),n.oApi._fnCallbackReg(n,"aoRowCreatedCallback",function(i,r,s){n.aoData[s]._DTTT_selected&&e(i).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,n){var i,r,s=this,o=this._fnSelectData(t),a=(0===o.length?null:o[0].nTr,[]);for(i=0,r=o.length;r>i;i++)o[i].nTr&&a.push(o[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,n,a,!0)){for(i=0,r=o.length;r>i;i++)o[i]._DTTT_selected=!0,o[i].nTr&&e(o[i].nTr).addClass(s.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,a),TableTools._fnEventDispatch(this,"select",a,!0)}},_fnRowDeselect:function(t,n){var i,r,s=this,o=this._fnSelectData(t),a=(0===o.length?null:o[0].nTr,[]);for(i=0,r=o.length;r>i;i++)o[i].nTr&&a.push(o[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,n,a,!1)){for(i=0,r=o.length;r>i;i++)o[i]._DTTT_selected=!1,o[i].nTr&&e(o[i].nTr).removeClass(s.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,a),TableTools._fnEventDispatch(this,"select",a,!1)}},_fnSelectData:function(e){var t,n,i,r=[];if(e.nodeName)t=this.s.dt.oInstance.fnGetPosition(e),r.push(this.s.dt.aoData[t]);else{if("undefined"!=typeof e.length){for(n=0,i=e.length;i>n;n++)e[n].nodeName?(t=this.s.dt.oInstance.fnGetPosition(e[n]),r.push(this.s.dt.aoData[t])):r.push("number"==typeof e[n]?this.s.dt.aoData[e[n]]:e[n]);return r}r.push("number"==typeof e?this.s.dt.aoData[e]:e)}return r},_fnTextConfig:function(t,n){var i=this;null!==n.fnInit&&n.fnInit.call(this,t,n),""!==n.sToolTip&&(t.title=n.sToolTip),e(t).hover(function(){null!==n.fnMouseover&&n.fnMouseover.call(this,t,n,null)},function(){null!==n.fnMouseout&&n.fnMouseout.call(this,t,n,null)}),null!==n.fnSelect&&TableTools._fnEventListen(this,"select",function(e){n.fnSelect.call(i,t,n,e)}),e(t).click(function(e){null!==n.fnClick&&n.fnClick.call(i,t,n,null,e),null!==n.fnComplete&&n.fnComplete.call(i,t,n,null,null),i._fnCollectionHide(t,n)})},_fnHasFlash:function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==n&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},_fnFlashConfig:function(e,t){var n=this,i=new s.Client;null!==t.fnInit&&t.fnInit.call(this,e,t),i.setHandCursor(!0),"flash_save"==t.sAction?(i.setAction("save"),i.setCharSet("utf16le"==t.sCharSet?"UTF16LE":"UTF8"),i.setBomInc(t.bBomInc),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):"flash_pdf"==t.sAction?(i.setAction("pdf"),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):i.setAction("copy"),i.addEventListener("mouseOver",function(){null!==t.fnMouseover&&t.fnMouseover.call(n,e,t,i)}),i.addEventListener("mouseOut",function(){null!==t.fnMouseout&&t.fnMouseout.call(n,e,t,i)}),i.addEventListener("mouseDown",function(){null!==t.fnClick&&t.fnClick.call(n,e,t,i)}),i.addEventListener("complete",function(r,s){null!==t.fnComplete&&t.fnComplete.call(n,e,t,i,s),n._fnCollectionHide(e,t)}),null!==t.fnSelect&&TableTools._fnEventListen(this,"select",function(i){t.fnSelect.call(n,e,t,i)}),this._fnFlashGlue(i,e,t.sToolTip)},_fnFlashGlue:function(e,t,n){var r=this,s=t.getAttribute("id");i.getElementById(s)?e.glue(t,n):setTimeout(function(){r._fnFlashGlue(e,t,n)},100)},_fnFlashSetText:function(e,t){var n=this._fnChunkData(t,8192);e.clearText();for(var i=0,r=n.length;r>i;i++)e.appendText(n[i])},_fnColumnTargets:function(t){var n,i,r=[],s=this.s.dt,o=s.aoColumns,a=o.length;if("function"==typeof t){var l=t.call(this,s);for(n=0,i=a;i>n;n++)r.push(-1!==e.inArray(n,l)?!0:!1)}else if("object"==typeof t){for(n=0,i=a;i>n;n++)r.push(!1);for(n=0,i=t.length;i>n;n++)r[t[n]]=!0}else if("visible"==t)for(n=0,i=a;i>n;n++)r.push(o[n].bVisible?!0:!1);else if("hidden"==t)for(n=0,i=a;i>n;n++)r.push(o[n].bVisible?!1:!0);else if("sortable"==t)for(n=0,i=a;i>n;n++)r.push(o[n].bSortable?!0:!1);else for(n=0,i=a;i>n;n++)r.push(!0);return r},_fnNewline:function(e){return"auto"==e.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":e.sNewLine},_fnGetDataTablesData:function(t){var n,i,s,o,a,l,c,d=[],u="",h=this.s.dt,p=new RegExp(t.sFieldBoundary,"g"),f=this._fnColumnTargets(t.mColumns),m="undefined"!=typeof t.bSelectedOnly?t.bSelectedOnly:!1;if(t.bHeader){for(a=[],n=0,i=h.aoColumns.length;i>n;n++)f[n]&&(u=h.aoColumns[n].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,p)));d.push(a.join(t.sFieldSeperator))}m=!0;var g,v=this.fnGetSelectedIndexes();for(m="none"!==this.s.select.type&&m&&0!==v.length,g=m?v:r.Api?new r.Api(h).rows(t.oSelectorOpts).indexes().flatten().toArray():h.oInstance.$("tr",t.oSelectorOpts).map(function(e,t){return h.oInstance.fnGetPosition(t)}).get(),s=0,o=g.length;o>s;s++){for(c=h.aoData[g[s]].nTr,a=[],n=0,i=h.aoColumns.length;i>n;n++)if(f[n]){var b=h.oApi._fnGetCellData(h,g[s],n,"display");t.fnCellRender?u=t.fnCellRender(b,n,c,g[s])+"":"string"==typeof b?(u=b.replace(/\n/g," "),u=u.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),u=u.replace(/<.*?>/g,"")):u=b+"",u=u.replace(/^\s+/,"").replace(/\s+$/,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,p))}d.push(a.join(t.sFieldSeperator)),t.bOpenRows&&(l=e.grep(h.aoOpenRows,function(e){return e.nParent===c}),1===l.length&&(u=this._fnBoundData(e("td",l[0].nTr).html(),t.sFieldBoundary,p),d.push(u)))}if(t.bFooter&&null!==h.nTFoot){for(a=[],n=0,i=h.aoColumns.length;i>n;n++)f[n]&&null!==h.aoColumns[n].nTf&&(u=h.aoColumns[n].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,p)));d.push(a.join(t.sFieldSeperator))}var y=d.join(this._fnNewline(t));return y},_fnBoundData:function(e,t,n){return""===t?e:t+e.replace(n,t+t)+t},_fnChunkData:function(e,t){for(var n=[],i=e.length,r=0;i>r;r+=t)n.push(i>r+t?e.substring(r,r+t):e.substring(r,i));return n},_fnHtmlDecode:function(e){if(-1===e.indexOf("&"))return e;var t=i.createElement("div");return e.replace(/&([^\s]*?);/g,function(e,n){return"#"===e.substr(1,1)?String.fromCharCode(Number(n.substr(1))):(t.innerHTML=e,t.childNodes[0].nodeValue)})},_fnPrintStart:function(n){var r=this,s=this.s.dt;this._fnPrintHideNodes(s.nTable),this.s.print.saveStart=s._iDisplayStart,this.s.print.saveLength=s._iDisplayLength,n.bShowAll&&(s._iDisplayStart=0,s._iDisplayLength=-1,s.oApi._fnCalculateEnd&&s.oApi._fnCalculateEnd(s),s.oApi._fnDraw(s)),(""!==s.oScroll.sX||""!==s.oScroll.sY)&&(this._fnPrintScrollStart(s),e(this.s.dt.nTable).bind("draw.DTTT_Print",function(){r._fnPrintScrollStart(s)}));var o=s.aanFeatures;for(var a in o)if("i"!=a&&"t"!=a&&1==a.length)for(var l=0,c=o[a].length;c>l;l++)this.dom.print.hidden.push({node:o[a][l],display:"block"}),o[a][l].style.display="none";e(i.body).addClass(this.classes.print.body),""!==n.sInfo&&this.fnInfo(n.sInfo,3e3),n.sMessage&&e("<div/>").addClass(this.classes.print.message).html(n.sMessage).prependTo("body"),this.s.print.saveScroll=e(t).scrollTop(),t.scrollTo(0,0),e(i).bind("keydown.DTTT",function(e){27==e.keyCode&&(e.preventDefault(),r._fnPrintEnd.call(r,e))})},_fnPrintEnd:function(){{var n=this.s.dt,r=this.s.print;this.dom.print}this._fnPrintShowNodes(),(""!==n.oScroll.sX||""!==n.oScroll.sY)&&(e(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,r.saveScroll),e("div."+this.classes.print.message).remove(),e(i.body).removeClass("DTTT_Print"),n._iDisplayStart=r.saveStart,n._iDisplayLength=r.saveLength,n.oApi._fnCalculateEnd&&n.oApi._fnCalculateEnd(n),n.oApi._fnDraw(n),e(i).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t,n,i=this.s.dt,r=i.nScrollHead.getElementsByTagName("div")[0],s=(r.getElementsByTagName("table")[0],i.nTable.parentNode);t=i.nTable.getElementsByTagName("thead"),t.length>0&&i.nTable.removeChild(t[0]),null!==i.nTFoot&&(n=i.nTable.getElementsByTagName("tfoot"),n.length>0&&i.nTable.removeChild(n[0])),t=i.nTHead.cloneNode(!0),i.nTable.insertBefore(t,i.nTable.childNodes[0]),null!==i.nTFoot&&(n=i.nTFoot.cloneNode(!0),i.nTable.insertBefore(n,i.nTable.childNodes[1])),""!==i.oScroll.sX&&(i.nTable.style.width=e(i.nTable).outerWidth()+"px",s.style.width=e(i.nTable).outerWidth()+"px",s.style.overflow="visible"),""!==i.oScroll.sY&&(s.style.height=e(i.nTable).outerHeight()+"px",s.style.overflow="visible")},_fnPrintScrollEnd:function(){var e=this.s.dt,t=e.nTable.parentNode;""!==e.oScroll.sX&&(t.style.width=e.oApi._fnStringToCss(e.oScroll.sX),t.style.overflow="auto"),""!==e.oScroll.sY&&(t.style.height=e.oApi._fnStringToCss(e.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var e=this.dom.print.hidden,t=0,n=e.length;n>t;t++)e[t].node.style.display=e[t].display;e.splice(0,e.length)},_fnPrintHideNodes:function(t){for(var n=this.dom.print.hidden,i=t.parentNode,r=i.childNodes,s=0,o=r.length;o>s;s++)if(r[s]!=t&&1==r[s].nodeType){var a=e(r[s]).css("display");"none"!=a&&(n.push({node:r[s],display:a}),r[s].style.display="none")}"BODY"!=i.nodeName.toUpperCase()&&this._fnPrintHideNodes(i)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var e=[],t=0,n=TableTools._aInstances.length;n>t;t++)TableTools._aInstances[t].s.master&&e.push(TableTools._aInstances[t]);return e},TableTools.fnGetInstance=function(e){"object"!=typeof e&&(e=i.getElementById(e));for(var t=0,n=TableTools._aInstances.length;n>t;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==e)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(e,t,n){TableTools._aListeners.push({that:e,type:t,fn:n})},TableTools._fnEventDispatch=function(e,t,n,i){for(var r=TableTools._aListeners,s=0,o=r.length;o>s;s++)e.dom.table==r[s].that.dom.table&&r[s].type==t&&r[s].fn(n,i)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,oSelectorOpts:n,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))}}),xls:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))}}),copy:e.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))},fnComplete:function(e,t,n,i){var r=i.split("\n").length;t.bHeader&&r--,null!==this.s.dt.nTFoot&&t.bFooter&&r--;var s=1==r?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+r+" row"+s+" to the clipboard.</p>",1500)}}),pdf:e.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(e,t,n){this.fnSetText(n,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:e.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(e,t){this.fnPrint(!0,t)}}),text:e.extend({},TableTools.buttonBase),select:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_single:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){var n=this.fnGetSelected().length;1==n?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_all:e.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?e(t).addClass(this.classes.buttons.disabled):e(t).removeClass(this.classes.buttons.disabled)}}),select_none:e.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),ajax:e.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,n){var i=this.fnGetTableData(n);e.ajax({url:n.sAjaxUrl,data:[{name:"tableData",value:i}],success:n.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:e.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:e.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(e,t){this._fnCollectionShow(e,t)}})},TableTools.buttons=TableTools.BUTTONS,TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.defaults=TableTools.DEFAULTS,TableTools.prototype.CLASS="TableTools",TableTools.version="2.2.4",e.fn.dataTable.Api&&e.fn.dataTable.Api.register("tabletools()",function(){var e=null;return this.context.length>0&&(e=TableTools.fnGetInstance(this.context[0].nTable)),e}),"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.9.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,n=t?t.tableTools||t.oTableTools||{}:{};return new TableTools(e.oInstance,n).dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download"),e.fn.DataTable.TableTools=TableTools}(jQuery,e,t),"function"==typeof i.fn.dataTable&&"function"==typeof i.fn.dataTableExt.fnVersionCheck&&i.fn.dataTableExt.fnVersionCheck("1.9.0")?i.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t="undefined"!=typeof e.oInit.oTableTools?e.oInit.oTableTools:{},n=new TableTools(e.oInstance,t);return TableTools._aInstances.push(n),n.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),i.fn.dataTable.TableTools=TableTools,i.fn.DataTable.TableTools=TableTools,TableTools};"function"==typeof define&&define.amd?define("dataTables_tableTools",["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.TableTools&&i(jQuery,jQuery.fn.dataTable)}(window,document),!function(e){function t(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}function n(t,n){this.$select=e(t),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(t,n,i){var r=e(t),s=ko.toJS(n());if(r.multiselect(s),i.has("options")){var o=i.get("options");ko.isObservable(o)&&ko.computed({read:function(){o(),setTimeout(function(){var e=r.data("multiselect");e&&e.updateOriginalOptions(),r.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t})}if(i.has("value")){var a=i.get("value");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){r.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var l=i.get("selectedOptions");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){r.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(t,function(){r.multiselect("destroy")})},update:function(t,n){var i=e(t),r=ko.toJS(n());i.multiselect("setOptions",r),i.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(t,n){if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length==e("option",e(n)).length)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var i="";return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();i+=t+", "}),i.substr(0,i.length-2)},buttonTitle:function(t){if(0===t.length)return this.nonSelectedText;var n="";return t.each(function(){n+=e(this).text()+", "}),n.substr(0,n.length-2)},optionLabel:function(t){return e(t).attr("label")||e(t).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:n,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,n){var i=e(n),r=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===r?this.createOptgroup(n):"option"===r&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n)))},this)),e("li input",this.$ul).on("change",e.proxy(function(t){var n=e(t.target),i=n.prop("checked")||!1,r=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var s=n.val(),o=this.getOptionByValue(s),a=e("option",this.$select).not(o),l=e("input",this.$container).not(n);return r&&(i?this.selectAll():this.deselectAll()),r||(i?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&e(l).closest("li").removeClass(this.options.selectedClass),e(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):o.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(o,i),this.options.preventInputChangeEvent?!1:void 0
},this)),e("li a",this.$ul).on("mousedown",function(e){return e.shiftKey?!1:void 0}),e("li a",this.$ul).on("touchstart click",e.proxy(function(t){t.stopPropagation();var n=e(t.target);if(t.shiftKey&&this.options.multiple){n.is("label")&&(t.preventDefault(),n=n.find("input"),n.prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var r=n.closest("li").index(),s=this.lastToggledInput.closest("li").index();if(r>s){var o=s;s=r,r=o}++s;var a=this.$ul.find("li").slice(r,s).find("input");a.prop("checked",i),this.options.selectedClass&&a.closest("li").toggleClass(this.options.selectedClass,i);for(var l=0,c=a.length;c>l;l++){var d=e(a[l]),u=this.getOptionByValue(d.val());u.prop("selected",i)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus"));38===t.keyCode&&i>0?i--:40===t.keyCode&&i<n.length-1?i++:~i||(i=0);var r=n.eq(i);if(r.focus(),32===t.keyCode||13===t.keyCode){var s=r.find("input");s.prop("checked",!s.prop("checked")),s.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group",this.$ul).on("click",e.proxy(function(t){t.stopPropagation();var n=e(t.target).parent(),i=n.nextUntil("li.multiselect-group"),r=i.filter(":visible"),s=!0,o=r.find("input");o.each(function(){s=s&&e(this).prop("checked")}),o.prop("checked",!s).trigger("change")},this))},createOptionValue:function(t){var n=e(t);n.is(":selected")&&n.prop("selected",!0);var i=this.options.optionLabel(t),r=n.val(),s=this.options.multiple?"checkbox":"radio",o=e(this.options.templates.li),a=e("label",o);a.addClass(s);var l=e("<input/>").attr("type",s);this.options.checkboxName&&l.attr("name",this.options.checkboxName),a.append(l);var c=n.prop("selected")||!1;l.val(r),r===this.options.selectAllValue&&(o.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),a.append(" "+i),a.attr("title",n.attr("title")),this.$ul.append(o),n.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",c),c&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var t=e(this.options.templates.divider);this.$ul.append(t)},createOptgroup:function(t){var n=e(t).prop("label"),i=e(this.options.templates.liGroup);e("label",i).text(n),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),e(t).is(":disabled")&&i.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var t=this.hasSelectAll();if(!t&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var n=e(this.options.templates.li);e("label",n).addClass("checkbox"),e("label",n).append(this.options.selectAllName?'<input type="checkbox" name="'+this.options.selectAllName+'" />':'<input type="checkbox" />');var i=e("input",n);i.val(this.options.selectAllValue),n.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),e("label",n).append(" "+this.options.selectAllText),this.$ul.prepend(n),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var n,i;e.each(e("li",this.$ul),e.proxy(function(t,r){var s=e("input",r).length>0?e("input",r).val():"",o=e("label",r).text(),a="";if("text"===this.options.filterBehavior?a=o:"value"===this.options.filterBehavior?a=s:"both"===this.options.filterBehavior&&(a=o+"\n"+s),s!==this.options.selectAllValue&&o){var l=!1;this.options.enableCaseInsensitiveFiltering&&a.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:a.indexOf(this.query)>-1&&(l=!0),e(r).toggle(l).toggleClass("filter-hidden",!l),e(r).hasClass("multiselect-group")?(n=r,i=l):(l&&e(n).show().removeClass("filter-hidden"),!l&&i&&e(r).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){e("option",this.$select).each(e.proxy(function(t,n){var i=e("li input",this.$ul).filter(function(){return e(this).val()===e(n).val()});e(n).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.closest("li").removeClass(this.options.selectedClass)),e(n).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(null!==r&&void 0!==r){var s=this.getOptionByValue(r),o=this.getInputByValue(r);void 0!==s&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),s.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(s,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(null!==r&&void 0!==r){var s=this.getOptionByValue(r),o=this.getInputByValue(r);void 0!==s&&void 0!==o&&(this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),s.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(s,!1)},selectAll:function(t,n){var t="undefined"==typeof t?!0:t,i=e("li input[type='checkbox']:enabled",this.$ul),r=i.filter(":visible"),s=i.length,o=r.length;if(t?(r.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),s===o||t===!1)e("option:enabled",this.$select).prop("selected",!0);else{var a=r.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),a)}).prop("selected",!0)}n&&this.options.onSelectAll()},deselectAll:function(t){var t="undefined"==typeof t?!0:t;if(t){var n=e("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");n.prop("checked",!1);var i=n.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),i)}).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else e("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),e("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(n){var i=0,r=this.$select.empty();e.each(n,function(n,s){var o;e.isArray(s.children)?(i++,o=e("<optgroup/>").attr({label:s.label||"Group "+i,disabled:!!s.disabled}),t(s.children,function(t){o.append(e("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}))})):o=e("<option/>").attr({value:s.value,label:s.label||s.value,title:s.title,selected:!!s.selected,disabled:!!s.disabled}),r.append(o)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var t=e("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),n=t.length,i=t.filter(":checked").length,r=e("li."+this.options.selectAllValue,this.$ul),s=r.find("input");i>0&&i===n?(s.prop("checked",!0),r.addClass(this.options.selectedClass),this.options.onSelectAll()):(s.prop("checked",!1),r.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var n=e("option",this.$select),i=t.toString(),r=0;r<n.length;r+=1){var s=n[r];if(s.value===i)return e(s)}},getInputByValue:function(t){for(var n=e("li input",this.$ul),i=t.toString(),r=0;r<n.length;r+=1){var s=n[r];if(s.value===i)return e(s)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,i)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,i,r){return this.each(function(){var s=e(this).data("multiselect"),o="object"==typeof t&&t;s||(s=new n(this,o),e(this).data("multiselect",s)),"string"==typeof t&&(s[t](i,r),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=n,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),define("multiselect",function(){}),function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t,n,i,r,s=$.type(e);if("undefined"===s)return void 0;if("number"===s||"boolean"===s)return String(e);if("string"===s)return $.quoteString(e);if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if("date"===s){var o=e.getUTCMonth()+1,a=e.getUTCDate(),l=e.getUTCFullYear(),c=e.getUTCHours(),d=e.getUTCMinutes(),u=e.getUTCSeconds(),h=e.getUTCMilliseconds();return 10>o&&(o="0"+o),10>a&&(a="0"+a),10>c&&(c="0"+c),10>d&&(d="0"+d),10>u&&(u="0"+u),100>h&&(h="0"+h),10>h&&(h="0"+h),'"'+l+"-"+o+"-"+a+"T"+c+":"+d+":"+u+"."+h+'Z"'}if(t=[],$.isArray(e)){for(n=0;n<e.length;n++)t.push($.toJSON(e[n])||"null");return"["+t.join(",")+"]"}if("object"==typeof e){for(n in e)if(hasOwn.call(e,n)){if(s=typeof n,"number"===s)i='"'+n+'"';else{if("string"!==s)continue;i=$.quoteString(n)}s=typeof e[n],"function"!==s&&"undefined"!==s&&(r=$.toJSON(e[n]),t.push(i+":"+r))}return"{"+t.join(",")+"}"}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),define("jqueryJson",function(){}),define("text!customUI/userManagement/widgets/userInfoModal/templates/userInfoModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" role=\'dialog\' id="userInfoModal" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n	<div class="modal-dialog modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall">{{nls.userInfo}}</h3>\r\n			</div>\r\n			<div class="modal-body">\r\n				\r\n				<div class="row">\r\n					<div class="col-sm-10 col-sm-offset-1">\r\n						<div id="userModalMsg"></div>\r\n					</div>		\r\n					<div class="col-sm-6 left-style">\r\n						<!-- User Role -->\r\n						<div class="form-group row inputRow-overall">\r\n							<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n								<label for="newUserRole" class="control-label">* {{nls.roleName}} </label>\r\n							</div>\r\n							<div class="col-sm-8 userModalInput">\r\n								<select id="newUserRole" class="form-control">\r\n									<option value="administrator">{{nls.administratorRole}}</option>\r\n									<option value="operator">{{nls.operatorRole}} </option>\r\n								</select>\r\n							</div>\r\n						</div>\r\n						<!-- end of User Role -->\r\n						<!-- User Name -->\r\n						<div class="form-group row inputRow-overall" id="userNameRowArea">\r\n							<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n								<label for="newUserName" class="control-label">* {{nls.userName}} </label>\r\n							</div>\r\n							<div class="col-sm-8 userModalInput">\r\n								<input type="text" class="form-control" name="newUserName" id="newUserName" placeholder="USERID" required>\r\n							</div>\r\n						</div>\r\n						<!-- end of User Name -->\r\n						<!-- Password Inputs -->\r\n						<div id="userDefinePwd">\r\n							<div class="form-group row inputRow-overall">\r\n								<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n									<label for="newUserPassword" class="control-label">* {{nls.userPassword}} </label>\r\n								</div>							\r\n								<div class="col-sm-8 userModalInput">\r\n									<input type="password" data-toggle="validator" class="form-control" id="newUserPassword" name="newUserPassword">\r\n								</div>\r\n							</div>\r\n							<div class="form-group row inputRow-overall has-feedback">\r\n								<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n									<label for="confirmNewPwd" class="control-label">* {{nls.confirmPassword}} </label>\r\n								</div>\r\n								<div class="col-sm-8 userModalInput">\r\n									<input type="password" class="form-control" id="confirmNewPwd" name="confirmNewPwd">\r\n									<i id="newPwdStateIcon" class="form-control-feedback"></i>						\r\n								</div>							\r\n							</div>\r\n						</div>\r\n						<!-- end of Password Inputs -->				\r\n					</div>\r\n					<div class="col-sm-6 right-style">\r\n						<!-- Group Selecting -->\r\n						<div class="form-group row inputRow-overall">\r\n							<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n								<label for="newUserGroup" class="control-label">* {{nls.groupName}} </label>\r\n							</div>\r\n							<div class="col-sm-8 userModalInput">\r\n								<select id="userGroupSelect" class="form-control">\r\n									<!-- need to request group list from backend -->\r\n								</select>\r\n							</div>\r\n						</div>\r\n						<!-- end of Group Selecting -->\r\n						<!-- Accounting Group -->\r\n						<div class="form-group row inputRow-overall">\r\n							<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n								<label for="userAccountingGroup" class="control-label">* {{nls.accountingGroup}} </label>\r\n							</div>\r\n							<div class="col-sm-8 userModalInput">\r\n								<select id="accountingGroupSelect" class="form-control">\r\n								</select>\r\n							</div>\r\n						</div>\r\n						<!-- end of Accounting Group -->\r\n						<!-- Email Address -->		\r\n						<div class="form-group row inputRow-overall">\r\n							<div class="col-sm-4 label-modal-overall" style="margin-left:0px;">\r\n								<label for="newUserEmail" class="control-label">* {{nls.emailAddress}} </label>\r\n							</div>\r\n							<div class="col-sm-8 userModalInput">\r\n								<input type="email" id="newUserEmail" name="newUserEmail" class=" form-control" required>\r\n							</div>\r\n						</div>\r\n						<!-- end of Email Address -->\r\n					</div>\r\n				</div>\r\n				<!-- User Nickname -->\r\n				<!-- removed in MVP version\r\n				<div class="form-group row">\r\n					<div class="col-sm-2">\r\n						<label for="userNickname" class="control-label">{{nls.userNickname}}</label>\r\n					</div>\r\n					<div class="col-sm-8 userModalInput">\r\n						<input type="text" class="form-control" id="userNickname">\r\n					</div>\r\n				</div>\r\n				-->\r\n				<!-- end of User Nickname -->\r\n				<!-- Initial Password(select between uniform pwd and user-defined) -->\r\n				<!-- removed in MVP version\r\n				<div class="form-group row">\r\n					<div class="col-sm-2">\r\n						<label for="initialPassword" class="control-label">{{nls.initialPassword}}</label>\r\n					</div>\r\n					<div class="col-sm-8 userModalInput">\r\n						<select id="initialPassword" class="form-control">\r\n							<option value="uniformPwd">{{nls.useUniformInitialPwd}}</option>\r\n							<option value="userDefinedPwd">{{nls.userDefinedPwd}}</option>\r\n						</select>\r\n					</div>\r\n				</div>\r\n				-->\r\n				<!-- end of Initial Password -->\r\n				<!-- Available Queue -->\r\n				<!-- removed in MVP version\r\n				<div class="form-group row">\r\n					<div class="col-sm-2">\r\n						<label for="availableQueue" class="control-label">{{nls.availableQueue}}</label>\r\n					</div>\r\n					<div class="col-sm-8 userModalInput">\r\n						<select name="availableQueue" id="availableQueue" class="form-control" multiple="multiple">						\r\n						</select>\r\n					</div>\r\n				</div>\r\n				-->\r\n				<!-- end of Available Queue -->\r\n				<!-- Available Resource -->\r\n				<!-- removed in MVP version\r\n				<div>\r\n					<div><strong>{{nls.availableResource}}</strong></div>\r\n					<div class="form-group row">\r\n						<div class="col-sm-2">\r\n							<label for="storageAllocation" class="control-label">{{nls.storageAllocation}}</label>\r\n						</div>\r\n						<div class="col-sm-8 userModalInput">\r\n							<input type="text" id="storageAllocation" class="form-control">\r\n						</div>\r\n					</div>\r\n				</div>\r\n				-->\r\n				<!-- end of Available Resource -->					\r\n				\r\n				<div class="row">\r\n					<div class="col-sm-4 col-sm-offset-4 tips-header">{{nls.tipsHeaderforOperation}}: </div>\r\n					<div class="col-sm-4 col-sm-offset-4">\r\n						<ol class="tips-content">\r\n							<li>{{nls.tipsContent1}}</li>\r\n							<li>{{nls.tipsContent2}}</li>\r\n						</ol>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<div class="row">\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-primary btn-narrowModal" id="userInfoOKBtn">{{nls.OK}}</button>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-default btn-narrowModal" id="userInfoCancelBtn">{{nls.Cancel}}</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/userManagement/nls/userMgt",{root:{user:"用户",addUser:"添加",deleteUser:"删除",editUser:"编辑",importUser:"导入",passwordSettings:"密码设置",userName:"用户名",userNickname:"用户昵称",userStatus:"用户状态",roleName:"角色",lastLoginTime:"最近登录时间",emailAddress:"电子邮箱",latestOperation:"最近更新",creating:"新建中",deleting:"删除中",updating:"更新中",readyStatus:"正常",invalid:"无效",userInfo:"用户信息",userPassword:"密码",confirmPassword:"确认密码",administratorRole:"管理员",operatorRole:"操作员",initialPassword:"初始密码",useUniformInitialPwd:"使用统一的初始密码",userDefinedPwd:"自定义",groupName:"用户组",accountingGroup:"计费组",defaultGroup:"默认",availableQueue:"可用队列",availableResource:"可用资源",storageAllocation:"存储配额",initUniformPassword:"启用统一的初始密码",changePwdFirstLogin:"要求初次登录修改密码",userPwdRule:"用户密码规则",tipsHeaderforOperation:"操作前确认前请确保",tipsContent1:"集群中所有节点开机",tipsContent2:"集群网络连通",tipsContent3:"删除用户或用户组时，没有当前用户正在使用",userNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头",emailIllegalText:"邮箱地址无效",OK:"确定",Cancel:"取消",notFoundMsg:"请检查系统配置",confirmDeletion:"确定要删除用户"},zh:!0,en:!0}),define("customUI/userManagement/nls/zh/userMgt",{user:"用户",addUser:"添加",deleteUser:"删除",editUser:"编辑",importUser:"导入",passwordSettings:"密码设置",userName:"用户名",userNickname:"用户昵称",userStatus:"用户状态",roleName:"角色",lastLoginTime:"最近登录时间",emailAddress:"电子邮箱",latestOperation:"最近更新",creating:"新建中",deleting:"删除中",updating:"更新中",readyStatus:"正常",invalid:"无效",userInfo:"用户信息",userPassword:"密码",confirmPassword:"确认密码",administratorRole:"管理员",operatorRole:"操作员",initialPassword:"初始密码",useUniformInitialPwd:"使用统一的初始密码",userDefinedPwd:"自定义",groupName:"用户组",accountingGroup:"计费组",defaultGroup:"默认",availableQueue:"可用队列",availableResource:"可用资源",storageAllocation:"存储配额",initUniformPassword:"启用统一的初始密码",changePwdFirstLogin:"要求初次登录修改密码",userPwdRule:"用户密码规则",tipsHeaderforOperation:"操作前确认前请确保",tipsContent1:"集群中所有节点开机",tipsContent2:"集群网络连通",tipsContent3:"删除用户或用户组时，没有当前用户正在使用",userNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头",emailIllegalText:"邮箱地址无效",OK:"确定",Cancel:"取消",notFoundMsg:"请检查系统配置",confirmDeletion:"确定要删除用户"}),define("libs/require-css/css!customUI/userManagement/style/userManagement",[],function(){}),define("customUI/userManagement/widgets/userInfoModal/userInfoModalView",["marionette","multiselect","jqueryJson","utils/utils","utils/constants/urlConstants","text!./templates/userInfoModalTmpl.mustache","i18n!../../nls/userMgt","css!../../style/userManagement"],function(e,t,n,i,r,s,o){return e.ItemView.extend({template:s,_userPwd:"",_pwdEdited:!1,templateHelpers:function(){return{nls:o}},checkPwdStatus:function(){var e=$.trim($("#newUserPassword").val()),t=$.trim($("#confirmNewPwd").val());this._userPwd="",""!=e&&e==t?($("#newPwdStateIcon").removeClass("glyphicon glyphicon-remove").addClass("glyphicon glyphicon-ok"),this._userPwd=t):$("#newPwdStateIcon").removeClass("glyphicon glyphicon-ok").addClass("glyphicon glyphicon-remove")},initUserInfoModal:function(e){$("#newUserRole").val(e.is_admin?"administrator":"operator"),$("#newUserName").val(e.username).attr("disabled","disabled"),$("#newUserPassword").attr("placeholder","******"),$("#confirmNewPwd").attr("placeholder","******"),$("#userGroupSelect").val(e.os_group.name),$("#accountingGroupSelect").val(e.bill_group.name),$("#newUserEmail").val(e.email)},onRender:function(){var e,t=this.options,n=this;t.allOSGroups.length>0?$.each(t.allOSGroups,function(e,t){$("#userGroupSelect").append("<option value='"+t+"'>"+t+"</option>")}):$("#userGroupSelect").append("<option value='noGroup'>No User Group</option>"),t.allBillGroups.length>0?$.each(t.allBillGroups,function(e,t){$("#accountingGroupSelect").append("<option value='"+t+"'>"+t+"</option>")}):$("#accountingGroupSelect").append("<option value='noGroup'>No Accounting Group</option>"),t.editMode?(n.initUserInfoModal(t.originalUserInfo),e=t.originalUserInfo.id):$("#userInfoOKBtn").attr("disabled","disabled"),$("#newUserName,#newUserEmail").keyup(function(){n.changeOKBtnStatus()}),$("#userInfoModal").modal("show"),$("#newUserPassword, #confirmNewPwd").keyup(function(e){9!=e.keyCode&&(n._pwdEdited=!0,n.checkPwdStatus(),n.changeOKBtnStatus())}),$("#userInfoOKBtn").click(function(){var i=$(".DTTT_selected.selected")[0],s=r.users,a="POST";t.editMode&&(s=r.users+e+"/",a="PUT");var l=n.getUserInfo(t.editMode);$.ajax({url:s,type:a,data:$.toJSON(l),dataType:"json",contentType:"application/json",success:function(e){var n=e;n.role=e.is_admin?o.administratorRole:o.operatorRole,$("#userInfoModal").modal("hide"),t.editMode?($("#userGrid").dataTable().fnUpdate(n,i),console.log("Edit user finished")):($("#userGrid").dataTable().fnAddData(n),console.log("New user added"))},error:function(e){var t=e.responseJSON;$("#userModalMsg").text(""),400==e.status&&(t.username&&t.username.length>0&&$("#userModalMsg").addClass("alert alert-danger").append(o.userName+": "+t.username[0]),t.bill_group&&t.bill_group.name.length>0&&$("#userModalMsg").addClass("alert alert-danger").append(t.bill_group.name[0]),t.os_group&&t.os_group.name.length>0&&$("#userModalMsg").addClass("alert alert-danger").append(t.os_group.name[0]),t.email&&t.email.length>0&&$("#userModalMsg").addClass("alert alert-danger").append(t.email[0])),404==e.status&&$("#userModalMsg").addClass("alert alert-danger").text(o.notFoundMsg),t&&t.detail&&$("#userModalMsg").addClass("alert alert-danger").text(t.detail)}})}),$("#userInfoCancelBtn").click(function(){$("#userInfoModal").modal("hide")})},changeOKBtnStatus:function(){var e=$.trim($("#newUserName").val()),t=$.trim($("#newUserEmail").val()),n=/^[a-zA-Z][a-zA-Z0-9_]{1,19}$/,r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-]+)+/,s=""!=e&&n.test(e),a=""!=t&&r.test(t),l=this.options.editMode?!this._pwdEdited||this._pwdEdited&&""!=this._userPwd?!0:!1:this._pwdEdited&&""!=this._userPwd?!0:!1;$("#userModalMsg").hasClass("alert alert-danger")&&$("#userModalMsg").removeClass("alert alert-danger").text(""),s&&i.hideMessageOnSpot("#newUserName"),a&&i.hideMessageOnSpot("#newUserEmail"),s&&l&&a?$("#userInfoOKBtn").removeAttr("disabled"):($("#userInfoOKBtn").attr("disabled","disabled"),s||i.showMessageOnSpot("#newUserName",o.userNameRuleText,"auto"),a||i.showMessageOnSpot("#newUserEmail",o.emailIllegalText,"auto"))},getUserInfo:function(e){var t={is_admin:!1,email:"",bill_group:{name:""},os_group:{name:""}};e?""!=this._userPwd&&(t.password=this._userPwd):(t.username=$("#newUserName").val(),t.password=$("#newUserPassword").val());var n=$("#newUserRole").val();return t.is_admin="administrator"==n?!0:!1,t.os_group.name=$("#userGroupSelect").val(),t.bill_group.name=$("#accountingGroupSelect").val(),t.email=$("#newUserEmail").val(),t}})}),define("text!customUI/userManagement/templates/userManagementTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="container-fluid userViewArea">\r\n	<div class="admin-users-title">\r\n		<h3 class="overall-heading">{{nls.user}}</h3>		\r\n	</div>\r\n	<div class="row">\r\n		<div class="col-md-12">\r\n			<div class="btn-toolbar">\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="addUser">{{nls.addUser}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="deleteUser" disabled>{{nls.deleteUser}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="editUser" disabled>{{nls.editUser}}</button>\r\n					<!-- Advanced User Management Btns -->\r\n					<!-- removed in MVP version\r\n					<button class="btn btn-primary" id="importUsers">{{nls.importUser}}</button>\r\n					<button class="btn btn-primary" id="passwordSettings">{{nls.passwordSettings}}</button>\r\n					-->\r\n				</div>\r\n			</div>\r\n			<div class="dataTable_wrapper">\r\n				<table class="table table-striped table-hover" style="width:100%;" id="userGrid"></table>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div id="userInfoModalID"></div>\r\n	<!-- Advanced Password Setting Modal -->\r\n	<!-- removed in MVP version\r\n	<div class="modal fade" role=\'dialog\' id="passwordSettingModal">\r\n		<div class="modal-dialog">\r\n			<div class="modal-content">\r\n				<div class="modal-header">\r\n					<h3 class="modal-title">{{nls.passwordSettings}}</h3>\r\n				</div>\r\n				<div class="modal-body">\r\n					<form>\r\n						<div class="form-group form-inline">\r\n							<label for="initUniformPwd" class="col-sm-4 control-label">{{nls.initUniformPassword}}</label>\r\n							<input type="text" id="initUniformPwd" class="form-control passwordInput">\r\n							<label for="changePwdFirstLogin"><input type="checkbox" id="changePwdFirstLogin">{{nls.changePwdFirstLogin}}</label>\r\n						</div>\r\n						<div class="form-group">\r\n							<label class="col-md-4 control-label">{{nls.userPwdRule}}</label>\r\n							<div>xxxxxxxxxxxxxx</div>\r\n						</div>\r\n					</form>\r\n				</div>\r\n				<div class="modal-footer">\r\n					<button class="btn btn-primary" id="pwdSettingOKBtn">{{nls.OK}}</button>\r\n					<button class="btn btn-default" id="pwdSettingCancelBtn">{{nls.Cancel}}</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	-->\r\n	<!-- end of Advanced Password Setting Modal -->\r\n	<div class="modal fade" id="confirmModal-deleteUser" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n		<div class="modal-dialog modal-overall">\r\n			<div class="modal-content modal-content-overall">\r\n				<div class="modal-header modal-header-overall">\r\n					<h4>{{nls.confirmDeletion}}<span id="selectedUserName"></span>?</h4>\r\n				</div>\r\n				<div class="modal-body">\r\n					<div class="row" style="padding-left: 30px;">\r\n						<div class="col-sm-12">\r\n							<div id="deleteErrorMsg"></div>\r\n						</div>\r\n						<div class="col-sm-12 tips-header">{{nls.tipsHeaderforOperation}}:</div>\r\n						<div class="col-sm-12">\r\n							<ol class="tips-content">\r\n								<li>{{nls.tipsContent1}}</li>\r\n								<li>{{nls.tipsContent2}}</li>\r\n								<li>{{nls.tipsContent3}}</li>\r\n							</ol>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="modal-footer modal-footer-overall">\r\n					<div class="row">\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-primary btn-narrowModal" id="confirmDeleteUser">{{nls.OK}}</button>\r\n						</div>\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n</div>\r\n'
}),define("customUI/userManagement/userManagementView",["marionette","cookie","datatables","datatables_bootstrap","dataTables_tableTools","utils/eventBus","utils/constants/constants","utils/constants/urlConstants","customUI/userManagement/widgets/userInfoModal/userInfoModalView","text!./templates/userManagementTmpl.mustache","i18n!./nls/userMgt","css!./style/userManagement"],function(e,t,n,i,r,s,o,a,l,c,d){return e.ItemView.extend({template:c,allOSGroupArray:[],allBillGroupArray:[],isGroupRetrieved:!1,templateHelpers:function(){return{nls:d}},ui:{userTable:"#userGrid"},onRender:function(){var e=this;this.ui.userTable.dataTable({responsive:!0,bInfo:!1,bLengthChange:!1,sLengthMenu:"",language:{url:require.toUrl("")+"translation/datatables.chinese.json"},columns:[{data:null,defaultContent:""},{title:d.userName,data:"username",className:"dt-center"},{title:d.userStatus,data:"status",className:"dt-center"},{title:d.roleName,data:"role",className:"dt-center"},{title:d.groupName,data:"os_group.name",className:"dt-center"},{title:d.accountingGroup,data:"bill_group.name",className:"dt-center"},{title:d.lastLoginTime,data:"last_login",className:"dt-center"},{title:d.emailAddress,data:"email",className:"dt-center"},{title:d.latestOperation,data:"last_operation_time",className:"dt-center"}],dom:'T<"clear">lfrtip',tableTools:{sRowSelect:"single",sRowSelector:"td:first-child",aButtons:[]},fnRowCallback:function(e,t){var n=t.status,i=n.toLowerCase()+"StatusIcon";switch(n){case"Ready":n=d.readyStatus;break;case"Creating":n=d.creating;break;case"Deleting":n=d.deleting;break;case"Updating":n=d.updating;break;case"Error":n=d.invalid}$("td:eq(2)",e).html("Ready"!=t.status?'<div><span class="'+i+'"></span><span>'+n+"</span></div>":"<div><span>"+n+"</span></div>");var r=t.last_login;if(r){var s=new Date(parseInt(Date.parse(r))).toLocaleString();$("td:eq(6)",e).html("<div><span>"+s+"</span></div>")}var o=t.last_operation_time;if(o){var s=new Date(parseInt(Date.parse(o))).toLocaleString();$("td:eq(8)",e).html("failed"==t.last_operation_result?"<div><div>"+s+'</div><div><span class="warningIcon"></span><span>'+t.last_operation_message+"</span></div></div>":"<div>"+s+"</div>")}return e},ajax:{url:a.users,dataSrc:function(e){var t=e;return t.length>0&&$.each(t,function(e,t){t.role=t.is_admin?d.administratorRole:d.operatorRole}),t}}}),s.on(o.refreshUserProfile,e.refreshTable),$("#userGrid").click(function(){var e=$("#userGrid").dataTable(),t=(e.fnGetNodes(),$(".DTTT_selected.selected"));t.length>0?1==t.length?($("#editUser").removeAttr("disabled"),$("#deleteUser").removeAttr("disabled")):($("#editUser").attr("disabled","disabled"),$("#deleteUser").attr("diabled","disabled")):($("#editUser").attr("disabled","disabled"),$("#deleteUser").attr("disabled","disabled"))}),$("#addUser,#editUser").click(function(t){var n=!1,i=null,r=$("#userGrid").DataTable();"editUser"==t.target.id&&(n=!0,i=r.rows(".selected").data()[0]);var s=$.get(a.userGroup),o=$.get(a.billGroup);$.when(s,o).done(function(t,r){e.isGroupRetrieved=!0,e.getAllOSGroups(t[0]),e.getAllBillGroups(r[0]);var s=new l({el:"#userInfoModalID",editMode:n,originalUserInfo:i,allOSGroups:e.allOSGroupArray,allBillGroups:e.allBillGroupArray});s.render()})}),$("#deleteUser").click(function(){$("#confirmModal-deleteUser").modal("show"),$("#deleteErrorMsg").hasClass("alert alert-danger")&&$("#deleteErrorMsg").removeClass("alert alert-danger").text("");var e=$("#userGrid").DataTable().rows(".selected").data(),t="";$.each(e,function(n,i){t+=i.username,n!=e.length-1&&(t+=",")}),$("#selectedUserName").text(t)}),$("#confirmModal-deleteUser").on("shown.bs.modal",function(){$("#confirmDeleteUser").click(function(t){t.preventDefault(),t.stopPropagation();var n=$("#userGrid").DataTable().rows(".selected").data(),i=$(".DTTT_selected.selected"),r=[];$.each(n,function(e,t){var n={id:t.id,TRNode:i[e]};r.push(n)}),$.each(r,function(t,n){e.deleteUser(n)})})})},refreshTable:function(){if(!($(".modal.in").length>0)){var e=$("#userGrid").DataTable();e.ajax.reload()}},deleteUser:function(e){var t=$("#userGrid").dataTable();$.ajax({type:"DELETE",url:a.users+e.id+"/",success:function(n){var i=n;i&&(i.role=i.is_admin?d.administratorRole:d.operatorRole),console.log("user is deleted"),$("#confirmDeleteUser").unbind("click"),$("#confirmModal-deleteUser").modal("hide"),i&&"Deleting"==i.status&&t.fnUpdate(i,e.TRNode),i&&"Deleted"==i.status&&t.fnDeleteRow(e.TRNode._DT_RowIndex)},error:function(e){console.log("fail to delete user");var t=e.responseJSON;t&&t.detail&&$("#deleteErrorMsg").addClass("alert alert-danger").text(t.detail)}})},getAllAvailableQueues:function(){var e=[];return $.get("/static/js/json/allQueues.json",function(t){var n=$.parseJSON(t);if(n.availableQueue){var i=n.availableQueue;$.each(i,function(t,n){var i={label:n,value:n};e.push(i)})}}),e},getAllOSGroups:function(e){var t=this;return t.allOSGroupArray=[],$.each(e,function(e,n){t.allOSGroupArray.push(n.name)}),t.allOSGroupArray},getAllBillGroups:function(e){var t=this;return t.allBillGroupArray=[],$.each(e,function(e,n){t.allBillGroupArray.push(n.name)}),t.allBillGroupArray}})}),define("text!customUI/groupManagement/widgets/userGroupModal/templates/userGroupModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" role="dialog" id="groupInfoModal" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n	<div class="modal-dialog modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall">{{nls.group}}</h3>\r\n			</div>\r\n			<div class="modal-body">\r\n				<form>\r\n					<div class="form-group row">\r\n						<div class="col-sm-10 col-sm-offset-1" id="userGroupMsg"></div>\r\n					</div>\r\n					<div class="form-group row inputRow-overall">\r\n						<div class="col-sm-3 label-modal-overall">\r\n							<label class="control-label" for="userGroupName">*{{nls.groupName}}: </label>\r\n						</div>\r\n						<div class="groupInput">\r\n							<input type="text" class="form-control" id="userGroupName" autofocus required>\r\n						</div>						\r\n						<!-- set as Default Group -->\r\n						<!-- removed in MVP version\r\n						<label for="setDefaultGroup"><input type="checkbox" id="setDefaultGroup">{{nls.setDefaultGroup}}</label>\r\n						-->\r\n						<!-- end of set as Default Group -->\r\n					</div>\r\n					<!-- Group DisplayName -->\r\n					<!-- removed in MVP version, keep for future use\r\n					<div class="form-group row">\r\n						<label for="groupDisplayName" class="col-sm-2 control-label">{{nls.displayName}}</label>\r\n						<input type="text" class="col-sm-3 form-control groupInput" id="groupDisplayName">\r\n					</div>\r\n					-->\r\n					<!-- end of Group DisplayName -->\r\n					<!-- Advanced Group Properties -->\r\n					<!--  removed in MVP version\r\n					<div class="form-group">\r\n						<div for="maxUserCount" class="col-sm-2 control-label">{{nls.maxUserCount}}: </div>\r\n						<div class="col-sm-3">\r\n							<input type="text" id="maxUserCount" class="form-control">\r\n						</div>							\r\n					</div>\r\n					-->\r\n					<!--\r\n					<div class="form-group">\r\n						<div class="row">\r\n							<div class="col-sm-12 block-header">\r\n								{{nls.resourceLimit}}\r\n							</div>\r\n						</div>\r\n						\r\n						<div class="row block-content">\r\n							<div for="nodeCount" class="col-sm-2 control-label">{{nls.nodeCount}}</div>\r\n							<div class="col-sm-3">\r\n								<input type="text" class="form-control">\r\n							</div>\r\n							<div class="col-sm-3">\r\n								<div for=""><input type="radio">{{nls.shareNode}}\r\n								</div>\r\n							</div>\r\n							<div class="col-sm-3">\r\n								<div for=""><input type="radio">{{nls.exclusiveNode}}										\r\n								</div>									\r\n							</div>								\r\n						</div>				\r\n						<div class="row block-content">\r\n							<div for="CPUcore"  class="col-sm-2 control-label">{{nls.CPUcore}}</div>\r\n							<div class="col-sm-3">\r\n								<input type="text" id="CPUcore" class="form-control">\r\n							</div>\r\n						</div>	\r\n						<div class="row block-content">\r\n							<div for="storageQuota" class="col-sm-2 control-label">{{nls.storageQuota}}</div>\r\n							<div class="col-sm-3">\r\n								<input type="text" id="storageQuota" class="form-control">\r\n							</div>	\r\n						</div>								\r\n					</div>\r\n					-->\r\n					<!-- end of Advanced Group Properties -->\r\n					<div class="form-group row inputRow-overall" style="padding-bottom:20px;">\r\n						<div class="col-sm-3 label-modal-overall">\r\n							<label for="availableQueue" class="control-label">{{nls.availableQueue}}: </label>\r\n						</div>\r\n						\r\n						<div class="groupInput">\r\n							<select name="availableQueue" id="availableQueue" class="form-control" multiple="multiple">\r\n							</select>\r\n						</div>						\r\n					</div>\r\n				</form>\r\n				\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<div class="row">\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-primary btn-narrowModal" id="groupOKBtn">{{nls.OK}}</button>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-default btn-narrowModal" id="groupCancelBtn" data-dismiss="modal">{{nls.Cancel}}</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/groupManagement/nls/userGroup",{root:{group:"用户组",groupCount:"总量",addGroup:"添加",deleteGroup:"删除",editGroup:"编辑",groupName:"分组名称",displayName:"分组别名",groupStatus:"用户组状态",currentUserCount:"用户数",maxUserCount:"最大用户数",onlineUserCount:"在线用户数",availableQueue:"可用队列",selectAllQueue:"全部队列",resourceLimit:"资源可用额度",lastOperation:"最近更新",creating:"新建中",deleting:"删除中",updating:"更新中",readyStatus:"正常",invalid:"无效",setDefaultGroup:"设为默认分组",nodeCount:"节点数",shareNode:"共享节点",exclusiveNode:"独占节点",CPUcore:"CPU核数",storageQuota:"存储配额",tipsHeaderforOperation:"操作前确认前请确保",tipsContent1:"集群中所有节点开机",tipsContent2:"集群网络连通",tipsContent3:"删除用户或用户组时，没有当前用户正在使用",confirmDeletion:"确定要删除用户组",OK:"确定",Cancel:"取消",notFoundMsg:"请检查系统配置",mustQueue:"必选",osGroupNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头"},zh:!0,en:!0}),define("customUI/groupManagement/nls/zh/userGroup",{group:"用户组",groupCount:"总量",addGroup:"添加",deleteGroup:"删除",editGroup:"编辑",groupName:"分组名称",displayName:"分组别名",groupStatus:"用户组状态",currentUserCount:"用户数",maxUserCount:"最大用户数",onlineUserCount:"在线用户数",availableQueue:"可用队列",selectAllQueue:"全部队列",resourceLimit:"资源可用额度",lastOperation:"最近更新",creating:"新建中",deleting:"删除中",updating:"更新中",readyStatus:"正常",invalid:"无效",setDefaultGroup:"设为默认分组",nodeCount:"节点数",shareNode:"共享节点",exclusiveNode:"独占节点",CPUcore:"CPU核数",storageQuota:"存储配额",tipsHeaderforOperation:"操作前确认前请确保",tipsContent1:"集群中所有节点开机",tipsContent2:"集群网络连通",tipsContent3:"删除用户或用户组时，没有当前用户正在使用",confirmDeletion:"确定要删除用户组",OK:"确定",Cancel:"取消",notFoundMsg:"请检查系统配置",mustQueue:"必选",osGroupNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头"}),define("libs/require-css/css!customUI/groupManagement/style/userGroup",[],function(){}),define("customUI/groupManagement/widgets/userGroupModal/userGroupModalView",["marionette","cookie","multiselect","utils/utils","utils/constants/urlConstants","text!./templates/userGroupModalTmpl.mustache","i18n!../../nls/userGroup","css!../../style/userGroup"],function(e,t,n,i,r,s,o){return Marionette.ItemView.extend({template:s,templateHelpers:function(){return{nls:o}},onRender:function(){var e=this.options;$("#groupInfoModal").modal("show"),this.initiateGroupModal(e),$("#userGroupName").keyup(function(){var e=/^[a-zA-Z][a-zA-Z0-9_]{1,19}$/,t=$(this).val();""!=t&&e.test(t)?(i.hideMessageOnSpot("#userGroupName"),$("#groupOKBtn").removeAttr("disabled")):(i.showMessageOnSpot("#userGroupName",o.osGroupNameRuleText,"right"),$("#groupOKBtn").attr("disabled","disabled"))}),$("#groupOKBtn").click(function(){var t=[],n=$("#userGroupName").val(),i=$("#availableQueue option:selected");$.each(i,function(e,n){t.push({name:n.value})});var s={name:n,queues:t},a="POST",l=r.userGroup;e.editMode&&(a="PUT",l=r.userGroup+e.selectedGroupData.id+"/");var c=$(".DTTT_selected.selected")[0];$.ajax({type:a,url:l,data:$.toJSON(s),dataType:"json",contentType:"application/json",success:function(t){var n=t;n.queueList=[],n.os_users&&(n.userCount=n.os_users.length),n.queues&&$.each(n.queues,function(e,t){n.queueList.push(t.name)}),$("#groupInfoModal").modal("hide"),e.editMode?$("#groupTable").dataTable().fnUpdate(n,c):$("#groupTable").dataTable().fnAddData(n),console.log("New user group added")},error:function(e){console.log("New user group add failed");var t=e.responseJSON;400==e.status&&t&&t.name&&$("#userGroupMsg").addClass("alert alert-danger").text(o.groupName+": "+t.name[0]),404==e.status&&$("#userGroupMsg").addClass("alert alert-danger").text(o.notFoundMsg),t&&t.detail&&$("#userGroupMsg").addClass("alert alert-danger").text(t.detail)}})}),$("#groupCancelBtn").click(function(){$("#groupInfoModal").modal("hide")})},initiateGroupModal:function(e){var t=e.selectedGroupData;e.editMode?($("#userGroupName").val(t.name),$("#userGroupName").attr("disabled","disabled")):($("#userGroupName").val(""),$("#groupOKBtn").attr("disabled","disabled"),$("#userGroupName").focus()),$("#availableQueue").multiselect({templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret" style="float:right;margin-top:10px;"></b></button>',li:'<li style="width:200px;"><a tabindex="0"><label style="margin-top:0px;margin-bottom:0px;font-weight:400;"></label></a></li>'},buttonWidth:"300px",includeSelectAllOption:!0,selectAllText:o.selectAllQueue,disableIfEmpty:!0}),$("#availableQueue").multiselect("dataprovider",e.availableQueues)}})}),define("text!customUI/groupManagement/templates/userGroupTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="container-fluid userViewArea">\r\n	<div class="admin-users-title">\r\n		<h3 class="overall-heading">{{nls.group}}</h3>\r\n		<!-- <span style="padding-left:20px">{{nls.groupCount}} : </span><span></span> -->\r\n		\r\n	</div>\r\n	<div class="row">\r\n		<div class="col-md-12">\r\n			<div class="btn-toolbar">\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="addGroupBtn">{{nls.addGroup}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="deleteGroupBtn" disabled>{{nls.deleteGroup}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="editGroupBtn" disabled>{{nls.editGroup}}</button>\r\n				</div>\r\n			</div>\r\n			<div class="dataTable_wrapper">\r\n				<table class="table table-striped table-hover" style="width:100%;" id="groupTable"></table>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div id="userGroupModalID"></div>\r\n	<div class="modal fade" id="confirmModal-deleteGroup" tabindex="-1" role="dialog"  aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n		<div class="modal-dialog modal-overall">\r\n			<div class="modal-content modal-content-overall">\r\n				<div class="modal-header modal-header-overall">\r\n					<h4 class="modal-title">{{nls.confirmDeletion}}<span id="selectedGroupName"></span>?</h4>\r\n				</div>\r\n				<div class="modal-body">\r\n					<div class="row" style="padding-left: 30px;">\r\n						<div class="col-sm-12" id="deleteGroupMsg"></div>\r\n						<div class="col-sm-12 tips-header">{{nls.tipsHeaderforOperation}}:</div>\r\n						<div class="col-sm-12">\r\n							<ol class="tips-content">\r\n								<li>{{nls.tipsContent1}}</li>\r\n								<li>{{nls.tipsContent2}}</li>\r\n								<li>{{nls.tipsContent3}}</li>\r\n							</ol>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="modal-footer modal-footer-overall">\r\n					<div class="row">\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-primary btn-narrowModal" id="confirmDeleteGroup">{{nls.OK}}</button>\r\n						</div>\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/groupManagement/userGroupView",["marionette","multiselect","datatables","datatables_bootstrap","dataTables_tableTools","utils/eventBus","utils/constants/constants","utils/constants/urlConstants","customUI/groupManagement/widgets/userGroupModal/userGroupModalView","text!./templates/userGroupTmpl.mustache","i18n!./nls/userGroup","css!./style/userGroup"],function(e,t,n,i,r,s,o,a,l,c,d){return e.ItemView.extend({template:c,templateHelpers:function(){return{nls:d}},ui:{groupTable:"#groupTable"},onRender:function(){var e=this;this.ui.groupTable.dataTable({responsive:!0,bInfo:!1,bLengthChange:!1,sLengthMenu:"",language:{url:require.toUrl("")+"translation/datatables.chinese.json"},columns:[{data:null,defaultContent:""},{title:d.groupName,data:"name",className:"dt-center"},{title:d.groupStatus,data:"status",className:"dt-center"},{title:d.currentUserCount,data:"userCount",className:"dt-center"},{title:d.availableQueue,data:"queueList",className:"dt-center"},{title:d.lastOperation,data:"last_operation_time",className:"dt-center"}],dom:'T<"clear">lfrtip',tableTools:{sRowSelect:"single",sRowSelector:"td:first-child",aButtons:[]},fnRowCallback:function(e,t){var n=t.status,i=n.toLowerCase()+"StatusIcon";switch(n){case"Ready":n=d.readyStatus;break;case"Creating":n=d.creating;break;case"Deleting":n=d.deleting;break;case"Updating":n=d.updating;break;case"Error":n=d.invalid}"Ready"!=n&&$("td:eq(2)",e).html('<div><span class="'+i+'"></span><span>'+n+"</span></div>");var r=t.last_operation_time;if(r){var s=new Date(parseInt(Date.parse(r))).toLocaleString();$("td:eq(5)",e).html("failed"==t.last_operation_result?"<div><div>"+s+'</div><div><span class="warningIcon"></span><span>'+t.last_operation_message+"</span></div></div>":"<div>"+s+"</div>")}return e},ajax:{url:a.userGroup,dataSrc:function(t){var n=t;return $.each(n,function(t,n){e.extendGroupData(n)}),n}}}),s.on(o.refreshUserGroup,e.refreshTable),$("#groupTable").click(function(){var e=$(".DTTT_selected.selected");e.length>0?(1==e.length?$("#editGroupBtn").removeAttr("disabled"):$("#editGroupBtn").attr("disabled","disabled"),$("#deleteGroupBtn").removeAttr("disabled")):($("#editGroupBtn").attr("disabled","disabled"),$("#deleteGroupBtn").attr("disabled","disabled"))}),$("#addGroupBtn,#editGroupBtn").click(function(e){var t=!1,n=null,i=$("#groupTable").DataTable();"editGroupBtn"==e.target.id&&(t=!0,n=i.rows(".selected").data()[0]),$.ajax({type:"GET",url:a.queues+"?role=admin",success:function(e){var i=[];$.each(e,function(e,r){var s=r.name;i.push(r.acl_group_enabled?t&&-1!=$.inArray(s,n.queueList)?{label:s,value:s,selected:!0}:{label:s,value:s}:{label:s+"("+d.mustQueue+")",value:s,selected:!0,disabled:!0})});var r=new l({el:"#userGroupModalID",availableQueues:i,editMode:t,selectedGroupData:n});r.render()},error:function(e){console.log(e)}})}),$("#deleteGroupBtn").click(function(){$("#confirmModal-deleteGroup").modal("show"),$("#deleteGroupMsg").hasClass("alert alert-danger")&&$("#deleteGroupMsg").removeClass("alert alert-danger").text("");var t=$("#groupTable").DataTable().rows(".selected").data(),n=$(".DTTT_selected.selected"),i=[],r="";$.each(t,function(e,s){var o={id:s.id,TRNode:n[e]};i.push(o),r+=s.name,e!=t.length-1&&(r+=","),$("#selectedGroupName").text(r)}),$("#confirmDeleteGroup").click(function(){$.each(i,function(t,n){e.deleteGroup(n)})}),$("#confirmModal-deleteGroup").on("shown.bs.modal",function(){})})},refreshTable:function(){if(!($(".modal.in").length>0)){var e=$("#groupTable").DataTable();e.ajax.reload()}},deleteGroup:function(e){var t=this,n=$("#groupTable").dataTable();$.ajax({type:"DELETE",url:a.userGroup+e.id+"/",success:function(i){var r=i;r&&(t.extendGroupData(r),"Deleting"==r.status?n.fnUpdate(r,e.TRNode):"Deleted"==r.status&&n.fnDeleteRow(e.TRNode._DT_RowIndex)),console.log("group is deleted"),$("#confirmModal-deleteGroup").modal("hide")},error:function(e){console.log("fail to delete user"),e.responseJSON&&e.responseJSON.detail&&$("#deleteGroupMsg").text(e.responseJSON.detail).addClass("alert alert-danger")}})},extendGroupData:function(e){e.queueList=[],e.os_users&&(e.userCount=e.os_users.length),e.queues&&$.each(e.queues,function(t,n){e.queueList.push(n.name)})}})}),define("text!customUI/accountingManagement/widgets/templates/progressModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="progressModal">\r\n	<div class="modal-dialog" style="margin-top:150px;width:300px">\r\n		<div class="modal-content">\r\n			<p style="text-align:center;margin-top:30px;margin-bottom:30px"><img src="/static/js/customUI/user/dashboard/job/resources/loading.gif"></p>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/accountingManagement/widgets/progressModalView",["marionette","text!./templates/progressModalTmpl.mustache"],function(e,t){return e.ItemView.extend({template:t,onRender:function(){$("#progressModal").modal("show")}})}),define("text!customUI/accountingManagement/widgets/templates/messageModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="messageModal">\r\n	<div class="modal-dialog" style="margin-top:10%">\r\n		<div id="messageContentArea">\r\n			<img id="msgIcon" style="position:fixed;margin-top:-9px;">\r\n			<div id="msgContent" style="positon:fixed;margin-left:45px;"></div>\r\n			<button style="margin-top:-20px" type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/accountingManagement/widgets/messageModalView",["marionette","text!./templates/messageModalTmpl.mustache"],function(e,t){return e.ItemView.extend({template:t,onRender:function(){var e=this.options,t=e.type,n=e.message;"error"==t?$("#msgIcon").attr("src","/static/js/customUI/accountingManagement/style/images/ic_clear_red_36x36.png"):"success"==t?$("#msgIcon").attr("src","/static/js/customUI/accountingManagement/style/images/ic_check_green_36x36.png"):"warning"==t&&$("#msgIcon").attr("src","/static/js/customUI/accountingManagement/style/images/warning.png"),$("#messageContentArea").addClass("alert alert-dismissable").css("background-color","white"),$("#msgContent").html(n).css("position","relative"),$("#messageModal").modal("show"),setTimeout(function(){$("#messageModal").modal("hide")},3e3)}})}),define("text!customUI/accountingManagement/widgets/templates/billGroupModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="createBillingGroupModal" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n	<div class="modal-dialog modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall">{{nls.accountingGroup}}</h3>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="row form-group">		\r\n					<div class="col-sm-10 col-sm-offset-1" id="billGroupMsgArea"></div>			\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="newBillGroupName" class="control-label">*{{nls.accountingGroup}}: </label>\r\n					</div>\r\n					<div class="billGroupInput">\r\n						<input type="text" id="newBillGroupName" class="form-control" style="width:200px;" autofocus required>\r\n					</div>\r\n				</div>				\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="chargeRate" class="control-label">*{{nls.rate}}{{nls.rateMeaning}}: </label>\r\n					</div>\r\n					<div class="billGroupInput">						\r\n						<span><input type="text" class="form-control inputwithUnitClass" id="chargeRate" required>{{nls.moneyType}}/{{nls.rateUnit}}</span>\r\n					</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="billAmount" class="control-label">*{{nls.initialAmount}}: </label>\r\n					</div>\r\n					<div class="billGroupInput">						\r\n						<span><input type="text" class="form-control inputwithUnitClass" id="billAmount" required>{{nls.moneyType}}</span>\r\n					</div>\r\n				</div>\r\n				<div class="row inputRow-overall" id="hintArea" style="display:none;">\r\n					<div class="col-sm-6 col-sm-offset-3">\r\n						<span>{{nls.hintforUser2}}</span>\r\n						<span id="hintforHours"></span>\r\n						<span>{{nls.hintforUser3}}</span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<div class="row">\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-primary btn-narrowModal" id="createBillGroupOKBtn" disabled>{{nls.OK}}</button>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/accountingManagement/nls/accountingMgt",{root:{accountingTitle:"计费组",createAccountingGroup:"创建计费组",changeRate:"修改费率",depositCredits:"充值",deductCredits:"扣款",deleteBillGroup:"删除",accountingGroup:"计费组",groupStatus:"计费组状态",lastOperation:"最近更新",rate:"费率",rateMeaning:"(单位机时所用金额)",moneyType:"元",rateUnit:"CPU/小时",deductValue:"扣款金额",usedHours:"已用机时(CPU*秒)",usedCredits:"已用金额",used:"已用",balance:"剩余金额",currentBalance:"当前余额",chargeUnit:"点数",initialAmount:"初始金额",chargeRate:"计时费率",OK:"确定",Cancel:"取消",deposit:"余额充值",currentRate:"当前费率",hintforUserDeposit1:"充值后",hintforUserDeduct:"扣款后",hintforUser2:"可使用",hintforInfinitHours:"无限",hintforUser3:"机时（单核CPU）",confirmDeletion:"确定要删除计费组",createGroupSuccessMsg:"计费组创建成功。",createGroupErrorMsg:"计费组创建失败：",depositSuccessMsg:"计费组充值成功。",depositErrorMsg:"计费组充值失败：",deductSuccessMsg:"计费组扣款成功。",deductErrorMsg:"计费组扣款失败：",changeRateSuccessMsg:"计费组修改费率成功。",changeRateErrorMsg:"计费组修改费率失败：",deleteGroupSuccessMsg:"计费组删除成功",deleteGroupErrorMsg:"计费组删除失败",groupErrorStatusMsg:"组当前状态异常，无法进行",groupErrorInstruction:"。请先删除该组。",usersNonEmptyMessage:"所选计费组中用户数不为0，无法删除。",groupUpdatingMsg:"所选计费组当前正在更新，无法进行",billGroupNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头",chargeRateRuleText:"费率必须为大于等于0且不超过1,000,000的有效数字，可精确至小数点后四位",amountRuleText:"单次充值金额必须为大于等于0且不超过1,000,000的有效数字，可精确至小数点后四位",deductValueMaxHint:"扣款金额不得超过当前余额"},zh:!0,en:!0}),define("customUI/accountingManagement/nls/zh/accountingMgt",{accountingTitle:"计费组",createAccountingGroup:"创建计费组",changeRate:"修改费率",depositCredits:"充值",deductCredits:"扣款",deleteBillGroup:"删除",accountingGroup:"计费组",groupStatus:"计费组状态",lastOperation:"最近更新",rate:"费率",rateMeaning:"(单位机时所用金额)",moneyType:"元",rateUnit:"CPU/小时",deductValue:"扣款金额",usedHours:"已用机时(CPU*秒)",usedCredits:"已用金额",used:"已用",balance:"剩余金额",currentBalance:"当前余额",chargeUnit:"点数",initialAmount:"初始金额",chargeRate:"计时费率",OK:"确定",Cancel:"取消",deposit:"余额充值",currentRate:"当前费率",hintforUserDeposit1:"充值后",hintforUserDeduct:"扣款后",hintforUser2:"可使用",hintforInfinitHours:"无限",hintforUser3:"机时（单核CPU）",confirmDeletion:"确定要删除计费组",createGroupSuccessMsg:"计费组创建成功。",createGroupErrorMsg:"计费组创建失败：",depositSuccessMsg:"计费组充值成功。",depositErrorMsg:"计费组充值失败：",deductSuccessMsg:"计费组扣款成功。",deductErrorMsg:"计费组扣款失败：",changeRateSuccessMsg:"计费组修改费率成功。",changeRateErrorMsg:"计费组修改费率失败：",deleteGroupSuccessMsg:"计费组删除成功",deleteGroupErrorMsg:"计费组删除失败",groupErrorStatusMsg:"组当前状态异常，无法进行",groupErrorInstruction:"。请先删除该组。",usersNonEmptyMessage:"所选计费组中用户数不为0，无法删除。",groupUpdatingMsg:"所选计费组当前正在更新，无法进行",billGroupNameRuleText:"2~20个字符，可使用字母、数字、下划线，需以字母开头",chargeRateRuleText:"费率必须为大于等于0且不超过1,000,000的有效数字，可精确至小数点后四位",amountRuleText:"充值金额必须为大于等于0且不超过1,000,000的有效数字，可精确至小数点后四位",deductValueMaxHint:"扣款金额不得超过当前余额"}),define("customUI/accountingManagement/widgets/billGroupModalView",["marionette","cookie","utils/utils","utils/constants/urlConstants","customUI/accountingManagement/widgets/progressModalView","customUI/accountingManagement/widgets/messageModalView","text!./templates/billGroupModalTmpl.mustache","i18n!../nls/accountingMgt"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({template:o,groupQuery:null,templateHelpers:function(){return{nls:a}},onRender:function(){var e=this;$("#createBillingGroupModal").modal("show"),$("#newBillGroupName,#chargeRate,#billAmount").keyup(function(e){var t=/^[a-zA-Z][a-zA-Z0-9_]{1,19}$/,i=/^(([1-9]\d{0,6})|\d)(\.\d{1,4})?$/,r=/^(([1-9]\d{0,6})|\d)(\.\d{1,4})?$/,s=$("#newBillGroupName").val(),o=$("#chargeRate").val(),l=$("#billAmount").val(),c=!1,d=!1,u=!1;if(""!==s&&t.test(s)&&(c=!0,n.hideMessageOnSpot("#newBillGroupName")),i.test(o)){var h=parseFloat(o);h>1e6?n.showMessageOnSpot("#chargeRate",a.chargeRateRuleText):(d=!0,n.hideMessageOnSpot("#chargeRate"))}if(r.test(l)){var p=parseFloat(l);p>1e6?n.showMessageOnSpot("#billAmount",a.amountRuleText):(u=!0,n.hideMessageOnSpot("#billAmount"))}if(c&&d&&u){$("#createBillGroupOKBtn").removeAttr("disabled");var h=parseFloat(o),f=parseFloat(l);if(0==h)$("#hintforHours").text(a.hintforInfinitHours);else{var m=parseInt(f/h);$("#hintforHours").text(m)}$("#hintArea").css("display","block")}else $("#hintArea").css("display","none"),c||"newBillGroupName"!=e.target.id||n.showMessageOnSpot("#newBillGroupName",a.billGroupNameRuleText),d||"chargeRate"!=e.target.id||n.showMessageOnSpot("#chargeRate",a.chargeRateRuleText),u||"billAmount"!=e.target.id||n.showMessageOnSpot("#billAmount",a.amountRuleText),$("#createBillGroupOKBtn").attr("disabled","disabled")}),$("#createBillGroupOKBtn").click(function(){{var t=$("#newBillGroupName").val(),n=$("#billAmount").val(),s=$("#chargeRate").val(),o={name:t,charge_rate:s,credits:n};$("#accountingGrid").dataTable()}$.ajax({type:"POST",url:i.billGroup,dataType:"json",contentType:"application/json",data:$.toJSON(o),success:function(t){$("#createBillingGroupModal").modal("hide");var n=t,i=n.id;if("Creating"==n.status){var s=new r({el:"#progressArea"});s.render(),e.groupQuery=setInterval(function(){e.queryGroupInfo(i)},2e3)}},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#billGroupMsgArea").addClass("alert alert-danger").text(t.detail),400==e.status&&(t&&t.name&&t.name.length>0&&$("#billGroupMsgArea").addClass("alert alert-danger").text(t.name[0]),t&&t.charge_rate&&t.charge_rate.length>0&&$("#billGroupMsgArea").addClass("alert alert-danger").text(t.charge_rate[0]),t&&t.credits&&t.credits.length>0&&$("#billGroupMsgArea").addClass("alert alert-danger").text(t.credits[0]))
}})})},queryGroupInfo:function(e){var t=this,n=i.billGroup+e;$.ajax({url:n,type:"GET",dataType:"json",success:function(e){var n=e;"Ready"==n.status&&t.showGroupStatusMsgModal({type:"success",message:a.createGroupSuccessMsg,groupData:n}),"Error"==n.status&&t.showGroupStatusMsgModal({type:"error",message:n.last_operation_message,groupData:n})},error:function(){console.log("query failed")}})},showGroupStatusMsgModal:function(e){var t=this;clearInterval(t.groupQuery),$("#progressModal").modal("hide");var n=new s({el:"#messageArea",type:e.type,message:e.message});n.render();var i=$("#accountingGrid").dataTable();i.fnAddData(e.groupData),$("#accountingGrid").trigger("click")}})}),define("text!customUI/accountingManagement/widgets/templates/chargeRateModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="changeRateModal" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n	<div class="modal-dialog modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall">{{nls.changeRate}}</h3>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="row inputRow-overall">\r\n					<div class="col-sm-10 col-sm-offset-1" id="rateMsgArea"></div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="billGroupName" class="control-label">{{nls.accountingGroup}}: </label>\r\n					</div>\r\n					<div class="col-sm-8">\r\n						<span id="billGroupName"></span>\r\n					</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="currentRate" class="control-label">{{nls.currentRate}}: </label>\r\n					</div>\r\n					<div class="col-sm-8 groupInfoClass">\r\n						<span id="currentRate"></span><span>{{nls.moneyType}}/{{nls.rateUnit}}</span>\r\n					</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="changeRateInput" class="control-label">{{nls.changeRate}}: </label>\r\n					</div>\r\n					<div class="col-sm-8">\r\n						<span><input type="text" id="changeRateInput" class="form-control inputwithUnitClass" autofocus required>{{nls.moneyType}}/{{nls.rateUnit}}</span>	\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<div class="row">\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-primary btn-narrowModal" id="changeRateOKBtn" disabled>{{nls.OK}}</button>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/accountingManagement/widgets/chargeRateModalView",["marionette","cookie","utils/utils","utils/constants/urlConstants","customUI/accountingManagement/widgets/progressModalView","customUI/accountingManagement/widgets/messageModalView","text!./templates/chargeRateModalTmpl.mustache","i18n!../nls/accountingMgt"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({template:o,groupQuery:null,templateHelpers:function(){return{nls:a}},onRender:function(){var e=this,t=this.options;this.initModalInfo(t.selectedGroup),$("#changeRateModal").modal("show"),$("#changeRateInput").keyup(function(){var e=/^(([1-9]\d{0,6})|\d)(\.\d{1,4})?$/,t=$("#changeRateInput").val();if(e.test(t)){var i=parseFloat(t);i>1e6?n.showMessageOnSpot("#changeRateInput",a.amountRuleText):($("#changeRateOKBtn").removeAttr("disabled"),n.hideMessageOnSpot("#changeRateInput"))}else $("#changeRateOKBtn").attr("disabled","disabled"),n.showMessageOnSpot("#changeRateInput",a.amountRuleText)}),$("#changeRateOKBtn").click(function(){var n=$("#changeRateInput").val(),s=(t.selectedGroup.name,t.selectedGroup.id),o={charge_rate:n};$.ajax({type:"PUT",url:i.billGroup+s+"/",dataType:"json",contentType:"application/json",data:$.toJSON(o),success:function(t){var n=t;if($("#changeRateModal").modal("hide"),"Updating"==n.status){var i=new r({el:"#progressArea"});i.render(),e.groupQuery=setInterval(function(){e.queryGroupInfo(s)},2e3)}},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#rateMsgArea").addClass("alert alert-danger").text(t.detail),400==e.status&&t&&t.charge_rate&&t.charge_rate.length>0&&$("#rateMsgArea").addClass("alert alert-danger").text(t.charge_rate[0])}})})},initModalInfo:function(e){$("#billGroupName").text(e.name),$("#currentRate").text(e.charge_rate)},queryGroupInfo:function(e){var t=this,n=i.billGroup+e;$.ajax({url:n,type:"GET",dataType:"json",success:function(e){var n=e;if("Ready"==n.status){t.showGroupStatusMsgModal({type:"success",message:a.changeRateSuccessMsg});var i=$("#accountingGrid").dataTable(),r=$(".DTTT_selected.selected")[0];i.fnUpdate(n,r),$("#accountingGrid").trigger("click")}"Error"==n.status&&t.showGroupStatusMsgModal({type:"success",message:a.changeRateErrorMsg})},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#rateMsgArea").addClass("alert alert-danger").text(t.detail)}})},showGroupStatusMsgModal:function(e){var t=this;clearInterval(t.groupQuery),$("#progressModal").modal("hide");var n=new s({el:"#messageArea",type:e.type,message:e.message});n.render()}})}),define("text!customUI/accountingManagement/widgets/templates/depositModalTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="modal fade" id="depositModal" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n	<div class="modal-dialog modal-overall">\r\n		<div class="modal-content modal-content-overall">\r\n			<div class="modal-header modal-header-overall">\r\n				<h3 class="modal-title modal-title-overall depositClass">{{nls.deposit}}</h3>\r\n				<h3 class="modal-title modal-title-overall deductClass">{{nls.deductCredits}}</h3>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="row inputRow-overall">\r\n					<div class="col-sm-10 col-sm-offset-1" id="msgArea"></div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="accountingGroupName" class="control-label">{{nls.accountingGroup}}: </label>\r\n					</div>\r\n					<div class="col-sm-8">\r\n						<span id="accountingGroupName"></span>\r\n					</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="currentBalanceSpan" class="control-label">{{nls.currentBalance}}: </label>\r\n					</div>\r\n					<div class="col-sm-8">\r\n						<span id="currentBalanceSpan"></span><span>{{nls.moneyType}}</span>\r\n					</div>\r\n				</div>\r\n				<div class="row inputRow-overall">\r\n					<div class="col-sm-8 col-sm-offset-3">{{nls.hintforUser2}}<span id="currentBalanceHours"></span>{{nls.hintforUser3}}</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall">\r\n					<div class="col-sm-3 label-modal-overall">\r\n						<label for="depositInput" class="control-label depositClass">{{nls.depositCredits}}: </label>\r\n						<label for="depositInput" class="control-label deductClass">{{nls.deductValue}}</label>\r\n					</div>\r\n					<div class="col-sm-8">\r\n						<span><input type="text" id="depositInput" class="form-control inputwithUnitClass" autofocus required>{{nls.moneyType}}</span>\r\n					</div>\r\n				</div>\r\n				<div class="row form-group inputRow-overall" id="depositHintArea" style="display:none;">\r\n					<div class="col-sm-8 col-sm-offset-3">\r\n						<span class="depositClass" id="hintforUserDeposit">{{nls.hintforUserDeposit1}}</span>\r\n						<span class="deductClass" id="hintforUserDeduct">{{nls.hintforUserDeduct}}</span>\r\n						<span>{{nls.hintforUser2}}</span>\r\n						<span id="hintforSumHours"></span>\r\n						<span>{{nls.hintforUser3}}</span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer modal-footer-overall">\r\n				<div class="row">\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-primary btn-narrowModal" id="depositOKBtn">{{nls.OK}}</button>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("customUI/accountingManagement/widgets/depositModalView",["marionette","cookie","utils/utils","utils/constants/urlConstants","customUI/accountingManagement/widgets/progressModalView","customUI/accountingManagement/widgets/messageModalView","text!./templates/depositModalTmpl.mustache","i18n!../nls/accountingMgt"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({template:o,queryDeposits:null,templateHelpers:function(){return{nls:a}},onRender:function(){var e=this.options,t=this;this.initModalData(e.selectedGroup,e.depositMode),$("#depositModal").modal("show"),$("#depositInput").keyup(function(){var t=/^(([1-9]\d{0,6})|\d)(\.\d{1,4})?$/,i=$("#depositInput").val(),r=parseFloat(e.selectedGroup.charge_rate);if(t.test(i))if($("#depositOKBtn").removeAttr("disabled"),e.depositMode){var s=parseFloat(i),o=parseFloat(e.selectedGroup.balance)+parseFloat(i);s>1e6&&($("#depositOKBtn").attr("disabled","disabled"),n.hideMessageOnSpot("#depositInput"),n.showMessageOnSpot("#depositInput",a.amountRuleText),$("#depositHintArea").css("display","none")),$("#hintforSumHours").text(0!=r?parseFloat(o/r).toFixed(0):a.hintforInfinitHours),$("#hintforUserDeposit").css("display","inline-block"),$("#depositHintArea").css("display","block")}else{var o=parseFloat(e.selectedGroup.balance)-parseFloat(i);0>o?($("#depositOKBtn").attr("disabled","disabled"),n.hideMessageOnSpot("#depositInput"),n.showMessageOnSpot("#depositInput",a.deductValueMaxHint),$("#depositHintArea").css("display","none")):(n.hideMessageOnSpot("#depositInput"),$("#hintforSumHours").text(0!=r?parseInt(o/r):a.hintforInfinitHours),$("#hintforUserDeduct").css("display","inline-block"),$("#depositHintArea").css("display","block"))}else $("#depositOKBtn").attr("disabled","disabled"),n.showMessageOnSpot("#depositInput",a.chargeRateRuleText),$("#depositHintArea").css("display","none")}),$("#depositOKBtn").click(function(){var n=e.selectedGroup.name,s=e.depositMode,o=0;o=s?$("#depositInput").val():-$("#depositInput").val();var a={bill_group_name:n,credits:o};$.ajax({type:"POST",url:i.deposit,dataType:"json",contentType:"application/json",data:$.toJSON(a),success:function(e){var n=e;if("Creating"==n.status){$("#depositModal").modal("hide");var i=new r({el:"#progressArea"});i.render(),t.queryDeposits=setInterval(function(){t.queryDepositStatus(n)},2e3)}},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#msgArea").addClass("alert alert-danger").text(t.detail),400==e.status&&t&&t.credits&&t.credits.length>0&&$("#msgArea").addClass("alert alert-danger").text(t.credits[0])}})})},initModalData:function(e,t){t?($(".deductClass").css("display","none"),$(".depositClass").css("display","block")):($(".depositClass").css("display","none"),$(".deductClass").css("display","block")),$("#accountingGroupName").text(e.name),$("#currentBalanceSpan").text(e.balance);var n=parseFloat(e.balance),i=parseFloat(e.charge_rate);if(0!=i){var r=parseInt(n/i);$("#currentBalanceHours").text(r)}else $("#currentBalanceHours").text(a.hintforInfinitHours)},queryDepositStatus:function(e){var t=e.url,n=this,i=e.bill_group_id;$.ajax({url:t,type:"GET",dataType:"json",success:function(e){var t=e;if("Ready"==t.status||"Error"==t.status){clearInterval(n.queryDeposits),$("#progressModal").modal("hide");var r=n.options.depositMode?"Ready"==t.status?a.depositSuccessMsg:a.depositErrorMsg:"Ready"==t.status?a.deductSuccessMsg:a.deductErrorMsg,o=new s({el:"#messageArea",type:"Ready"==t.status?"success":"error",message:r});o.render(),n.queryGroupInfo(i)}},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#msgArea").addClass("alert alert-danger").text(t.detail)}})},queryGroupInfo:function(e){var t=i.billGroup+e;$.ajax({url:t,type:"GET",dataType:"json",success:function(e){var t=e;if("Ready"==t.status){var n=$("#accountingGrid").dataTable(),i=$(".DTTT_selected.selected")[0];n.fnUpdate(t,i),$("#accountingGrid").trigger("click")}},error:function(e){var t=e.responseJSON;t&&t.detail&&$("#msgArea").addClass("alert alert-danger").text(t.detail)}})}})}),define("text!customUI/accountingManagement/templates/accountingMgtTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="container-fluid userViewArea">\r\n	<div class="admin-users-title">		\r\n		<h3 class="overall-heading">{{nls.accountingTitle}}</h3>		\r\n	</div>\r\n	<div class="row">\r\n		<div class="col-md-12">\r\n			<div class="btn-toolbar">\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="addNewBillGroupBtn">{{nls.createAccountingGroup}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="changeRateBtn" disabled>{{nls.changeRate}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="depositBtn" disabled>{{nls.depositCredits}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="deductBtn" disabled>{{nls.deductCredits}}</button>\r\n				</div>\r\n				<div class="btn-group">\r\n					<button class="btn btn-primary" id="deleteBtn" disabled>{{nls.deleteBillGroup}}</button>\r\n				</div>\r\n			</div>\r\n			<div class="dataTable_wrapper">\r\n				<table class="table table-striped table-hover" id="accountingGrid"></table>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div id="createAccountingGroup"></div>\r\n	<div id="changeChargeRate"></div>\r\n	<div id="depositBalance"></div>\r\n	<div id="deductBalance"></div>\r\n	<div id="progressArea"></div>\r\n	<div id="messageArea"></div>\r\n\r\n	<div class="modal fade" id="deleteConfirmationModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="true">\r\n		<div class="modal-dialog modal-overall">\r\n			<div class="modal-content modal-content-overall">\r\n				<div class="modal-header modal-header-overall">\r\n					<h4 class="modal-title">{{nls.confirmDeletion}}<span id="selectedBillGroupName"></span>?</h4>\r\n				</div>\r\n				<div class="modal-body" id="deleteBillGroupBody" style="display:none;">\r\n					<div id="deleteErrorMsg" style="margin: 0px 30px;"></div>\r\n				</div>\r\n				<div class="modal-footer modal-footer-overall">\r\n					<div class="row">\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-primary btn-narrowModal" id="confirmDeleteBillGroup">{{nls.OK}}</button>\r\n						</div>\r\n						<div class="col-sm-6">\r\n							<button class="btn btn-default btn-narrowModal" data-dismiss="modal">{{nls.Cancel}}</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("libs/require-css/css!customUI/accountingManagement/style/accountingMgt",[],function(){}),define("customUI/accountingManagement/accountingMgtView",["marionette","cookie","utils/eventBus","utils/constants/constants","utils/constants/urlConstants","datatables","datatables_bootstrap","dataTables_tableTools","customUI/accountingManagement/widgets/billGroupModalView","customUI/accountingManagement/widgets/chargeRateModalView","customUI/accountingManagement/widgets/depositModalView","customUI/accountingManagement/widgets/progressModalView","customUI/accountingManagement/widgets/messageModalView","text!./templates/accountingMgtTmpl.mustache","i18n!./nls/accountingMgt","css!./style/accountingMgt"],function(e,t,n,i,r,s,o,a,l,c,d,u,h,p,f){return e.ItemView.extend({template:p,queryGroup:null,templateHelpers:function(){return{nls:f}},ui:{accountingTable:"#accountingGrid"},onRender:function(){var e=this;this.ui.accountingTable.dataTable({responsive:!0,bInfo:!1,bLengthChange:!1,sLengthMenu:"",language:{url:require.toUrl("")+"translation/datatables.chinese.json"},columns:[{data:null,defaultContent:""},{title:f.accountingGroup,data:"name",className:"dt-center"},{title:f.rate+"("+f.moneyType+"/"+f.rateUnit+")",data:"charge_rate",className:"dt-center"},{title:f.usedHours,data:"used_time",className:"dt-center"},{title:f.usedCredits+"("+f.moneyType+")",data:"used_credits",className:"dt-center"},{title:f.balance+"("+f.moneyType+")",data:"balance",className:"dt-center"}],ajax:{url:r.billGroup,dataSrc:""},dom:'T<"clear">lfrtip',tableTools:{sRowSelect:"single",sRowSelector:"td:first-child",aButtons:[]}}),n.on(i.refreshAccountGroup,e.refreshTable),$("#accountingGrid").click(function(){var e=$(".DTTT_selected.selected");e.length>0?($("#changeRateBtn").removeAttr("disabled"),$("#depositBtn").removeAttr("disabled"),$("#deductBtn").removeAttr("disabled"),$("#deleteBtn").removeAttr("disabled")):($("#changeRateBtn").attr("disabled","disabled"),$("#depositBtn").attr("disabled","disabled"),$("#deductBtn").attr("disabled","disabled"),$("#deleteBtn").attr("disabled","disabled"))}),$("#addNewBillGroupBtn").click(function(){var e=new l({el:"#createAccountingGroup"});e.render()}),$("#changeRateBtn").click(function(){var e=$("#accountingGrid").DataTable().rows(".selected").data()[0];if("Ready"==e.status){var t=new c({el:"#changeChargeRate",selectedGroup:e});t.render()}else if("Error"==e.status){var n=new h({el:"#messageArea",type:"error",message:f.groupErrorStatusMsg+f.changeRate+f.groupErrorInstruction});n.render()}else{var n=new h({el:"#messageArea",type:"warning",message:f.groupUpdatingMsg+f.changeRate});n.render()}}),$("#depositBtn, #deductBtn").click(function(e){var t=$("#accountingGrid").DataTable().rows(".selected").data()[0],n=!1,i=f.deductCredits;if("depositBtn"==e.target.id&&(n=!0,i=f.depositCredits),"Ready"==t.status){var r=new d({el:"#depositBalance",selectedGroup:t,depositMode:n});r.render()}else if("Error"==t.status){var s=f.deductCredits;n&&(s=f.depositCredits);var o=new h({el:"#messageArea",type:"error",message:f.groupErrorStatusMsg+s+f.groupErrorInstruction});o.render()}else{var o=new h({el:"#messageArea",type:"warning",message:f.groupUpdatingMsg+i});o.render()}}),$("#deleteBtn").click(function(){var e=$("#accountingGrid").DataTable().rows(".selected").data()[0];if(e.bill_members.length>0){var t=new h({el:"#messageArea",type:"warning",message:f.usersNonEmptyMessage});t.render()}else $("#selectedBillGroupName").text(e.name),$("#deleteBillGroupBody").css("display","none"),$("#deleteConfirmationModal").modal("show")}),$("#confirmDeleteBillGroup").click(function(){var t=$("#accountingGrid").DataTable(),n=t.rows(".selected").data()[0],i=n.id;$.ajax({type:"DELETE",url:r.billGroup+i+"/",success:function(t){$("#deleteConfirmationModal").modal("hide");var n=new u({el:"#progressArea"});n.render(),e.queryGroup=setInterval(function(){e.doQueryGroupStatus(i)},2e3)},error:function(e){var t=e.responseJSON;t&&t.detail&&($("#deleteErrorMsg").addClass("alert alert-danger").text(t.detail),$("#deleteBillGroupBody").css("display","block"))}})})},refreshTable:function(){if(!($(".modal.in").length>0)){var e=$("#accountingGrid").DataTable();e.ajax.reload()}},doQueryGroupStatus:function(e){var t=r.billGroup+e,n=this;$.ajax({type:"GET",url:t,dataType:"json",success:function(e){var t=e;if("Error"==t.status){clearInterval(n.queryGroup),$("#progressModal").modal("hide");var i=new h({el:"#messageArea",type:"error",message:f.deleteGroupErrorMsg});i.render()}},error:function(e){if(404==e.status){clearInterval(n.queryGroup),$("#progressModal").modal("hide");var t=new h({el:"#messageArea",type:"success",message:f.deleteGroupSuccessMsg});t.render();var i=$("#accountingGrid").dataTable(),r=$(".DTTT_selected.selected")[0];i.fnDeleteRow(r._DT_RowIndex)}}})}})}),define("text!customUI/nodes/templates/allNodesTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div>\r\n	<div class="container-fluid nodesViewArea">\r\n		<div class="admin-users-title">\r\n			<h3 class="overall-heading">{{nls.allNodesTitle}}</h3>\r\n		</div>\r\n		<div class="row">\r\n			<div class="col-md-12">\r\n				<div class="dataTable_wrapper">\r\n					<table class="table table-striped table-hover" style="width:100%;" id="allNodesTable"></table>\r\n				</div>\r\n			</div>\r\n			\r\n		</div>\r\n	</div>\r\n	\r\n	<div style="display:inline-block;" id="selectArea">\r\n		<select class="form-control nodeSelectClass" name="nodeStatusSelect" style="min-width:100px;" id="nodeStatusSelect">		\r\n		</select>\r\n		<select class="form-control nodeSelectClass" name="nodeTypeSelect" style="min-width:100px;" id="nodeTypeSelect">			\r\n		</select>\r\n	</div>\r\n	<div style=\'display:inline;font-size:18px;padding-left:20px;\' id="nodesCountArea">{{nls.nodesCount}} : <span id="nodesCount"></span></div>\r\n</div>'}),define("customUI/nodes/nls/allNodes",{root:{allNodesTitle:"全部节点",nodeName:"名称",nodeStatus:"状态",nodeType:"类别",managementIP:"管理IP",OSIP:"OS IP",CPUCores:"CPU核数",usedMemory:"已用内存",totalMemory:"总内存",usedStorage:"已用存储",totleStorage:"总存储",CPUCoreUnit:"核",showAllStatus:"查看全部状态",showAllType:"查看全部类型",nodesCount:"总节点数",offStatus:"关机",busyStatus:"忙碌",workingStatus:"已占用",idleStatus:"空闲",headNodeType:"管理节点",computeNodeType:"计算节点",gpuNodeType:"GPU节点",ioNodeType:"I/O节点",loginNodeType:"登录节点"},zh:!0,en:!0}),define("customUI/nodes/nls/zh/allNodes",{allNodesTitle:"全部节点",nodeName:"名称",nodeStatus:"状态",nodeType:"类别",managementIP:"管理IP",OSIP:"OS IP",CPUCores:"CPU核数",usedMemory:"已用内存",totalMemory:"总内存",usedStorage:"已用存储",totleStorage:"总存储",CPUCoreUnit:"核",showAllStatus:"查看全部状态",showAllType:"查看全部类型",nodesCount:"总节点数",offStatus:"关机",busyStatus:"忙碌",workingStatus:"已占用",idleStatus:"空闲",headNodeType:"管理节点",computeNodeType:"计算节点",gpuNodeType:"GPU节点",ioNodeType:"I/O节点",loginNodeType:"登录节点"}),define("libs/require-css/css!customUI/nodes/style/allNodes",[],function(){}),define("customUI/nodes/allNodesView",["marionette","datatables","datatables_bootstrap","utils/constants/urlConstants","utils/constants/constants","utils/eventBus","text!./templates/allNodesTmpl.mustache","i18n!./nls/allNodes","css!./style/nodeInfo.css"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({template:o,templateHelpers:function(){return{nls:a}},ui:{allNodesTable:"#allNodesTable"},nodeStatusArr:[],nodeTypeArr:[],onDestroy:function(){$("body").css("background-color","#F6F6F4")},onRender:function(){$("body").css("background-color","white");var e=this;e.nodeStatusArr=[],e.nodeTypeArr=[],this.ui.allNodesTable.dataTable({responsive:!0,bPaginate:!1,bInfo:!1,sLengthMenu:"",language:{url:require.toUrl("")+"translation/datatables.chinese.json"},columns:[{data:"hostname",title:a.nodeName,className:"dt-center"},{data:"status",title:a.nodeStatus,className:"dt-center"},{data:"type",title:a.nodeType,className:"dt-center"},{data:"bmc_ipv4",title:a.managementIP,className:"dt-center"},{data:"mgt_ipv4",title:a.OSIP,className:"dt-center"},{data:"cpuCores",title:a.CPUCores,className:"dt-center"},{title:a.usedMemory+"/"+a.totalMemory,data:"memoryUsage",className:"dt-center"},{title:a.usedStorage+"/"+a.totleStorage,data:"storageUsage",className:"dt-center"}],ajax:{url:i.nodes,dataSrc:function(t){var n=t,i=[],r=[];return $.each(n,function(e,t){var n=parseInt(t.memory_used_kb/1024/1024),s=parseInt(t.memory_total_kb/1024/1024);t.memoryUsage=n+"GB/"+s+"GB";var o=parseInt(t.disk_used_gb),l=parseInt(t.disk_total_gb);switch(t.storageUsage=o+"GB/"+l+"GB",t.cpuCores=t.processors_total+a.CPUCoreUnit,t.status.toLowerCase()){case"off":t.status=a.offStatus;break;case"busy":t.status=a.busyStatus;break;case"working":t.status=a.workingStatus;break;case"idle":t.status=a.idleStatus}var c=t.type.split(",");$.each(c,function(e,t){switch(t.toLowerCase()){case"head":c[e]=a.headNodeType;break;case"compute":c[e]=a.computeNodeType;break;case"gpu":c[e]=a.gpuNodeType;break;case"io":c[e]=a.ioNodeType;break;case"login":c[e]=a.loginNodeType}-1==$.inArray(c[e],r)&&""!=$.trim(c[e])&&r.push(c[e])}),t.type=c.join(","),-1==$.inArray(t.status,i)&&""!=$.trim(t.status)&&i.push(t.status)}),e.nodeStatusArr=i,e.nodeTypeArr=r,n}},fnInitComplete:function(t,n){var i=$("#nodeStatusSelect").val(),r=$("#nodeTypeSelect").val();$("#nodeStatusSelect").empty(),$.each(e.nodeStatusArr,function(e,t){$("#nodeStatusSelect").append("<option value='"+t+"'>"+t+"</option>")}),$("#nodeStatusSelect").append("<option value='showAll' selected='true'>"+a.showAllStatus+"</option>"),$("#nodeStatusSelect").val("showAll"!=i&&-1==$.inArray(i,e.nodeStatusArr)?"showAll":i),$("#nodeTypeSelect").empty(),$.each(e.nodeTypeArr,function(e,t){$("#nodeTypeSelect").append("<option value='"+t+"'>"+t+"</option>")}),$("#nodeTypeSelect").append("<option value='showAll' selected='true'>"+a.showAllType+"</option>"),$("#nodeTypeSelect").val("showAll"!=r&&-1==$.inArray(r,e.nodeTypeArr)?"showAll":r),$("#nodesCount").text(n.length),$("#nodesCountArea").appendTo($("#allNodesTable_wrapper .row .col-sm-6:first")),$("#nodeStatusSelect").change(function(){var t=$("#nodeStatusSelect").val();"showAll"==t&&(t="");var n=$("input[type='search']").val();n=""!=$.trim(n)?e.generateSearchString(t,e.nodeStatusArr):t,$("#allNodesTable").DataTable().search(n).draw()}),$("#nodeTypeSelect").change(function(){var t=$("#nodeTypeSelect").val();"showAll"==t&&(t="");var n=$("input[type='search']").val();n=""!=$.trim(n)?e.generateSearchString(t,e.nodeTypeArr):t,$("#allNodesTable").DataTable().search(n).draw()}),$("#selectArea").prependTo($("#allNodesTable_wrapper .dataTables_filter"))},fnRowCallback:function(e,t){var n=t.bmc_ipv4;return""!=n&&$("td:eq(3)",e).html('<a href="https://'+n+'" target="_blank">'+n+"</a>"),e}}),s.on(r.refreshResource,e.refreshTable)},generateSearchString:function(e,t){var n=$("input[type='search']").val(),i="",r=!1;if(""!=$.trim(n)){var s=n.split(" ");$.each(s,function(n,s){""!=s&&(-1!=$.inArray(s,t)&&(s=e,r=!0),i+=" "+s)}),r||(i+=" "+e)}return i},refreshTable:function(){var e=$("#allNodesTable").DataTable();e.ajax.reload()}})}),define("text!customUI/user/fileManagement/templates/fileManagementTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="user-files-return"><a href="#">{{nls.returnHome}}</a></div>\r\n<div class="user-files" id="user-files">\r\n</div>'}),define("customUI/user/fileManagement/nls/fileManagement",{root:{uploadFiles:"上传文件",returnHome:"返回主页"},zh:!0,en:!0}),define("customUI/user/fileManagement/nls/zh/fileManagement",{uploadFiles:"上传文件",returnHome:"返回主页"}),define("libs/require-css/css!customUI/user/fileManagement/css/fileManagement",[],function(){}),define("customUI/user/fileManagement/fileManagementView",["marionette","elfinder","elfinder_i18n","utils/constants/urlConstants","utils/constants/constants","utils/eventBus","text!./templates/fileManagementTmpl.mustache","i18n!./nls/fileManagement","css!./css/fileManagement"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({template:o,templateHelpers:function(){return{nls:a}},refresh:function(){this.elf.exec("reload")},onShow:function(){var e=this;e.elf=$("#user-files").elfinder({url:i.files,lang:"zh_CN",defaultView:"list",useBrowserHistory:!1,height:550,commands:["choosefolder","open","reload","home","up","back","forward","getfile","quicklook","download","rm","duplicate","rename","mkdir","mkfile","upload","copy","cut","paste","edit","extract","archive","search","info","view","help","resize","sort","netmount"],uiOptions:{toolbar:[["back","forward"],["mkdir","mkfile","upload"],["download"],["rm"],["rename","edit"],["search"],["view","sort"]]},contextmenu:{navbar:["open","|","rm"],cwd:["reload","back","|","upload","mkdir","mkfile"],files:["download","|","rm","|","edit","rename","resize"]},getFileCallback:function(){},handlers:{init:function(){$(".elfinder-button form input[type='file']").attr("title",a.uploadFiles)}}}).elfinder("instance"),e.elf.bind("load",function(){e.elf.exec("reload")})}})}),define("text!customUI/admin/dashboard/jobChart/templates/jobChart.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div>\r\n	<div style="margin-top:10px">\r\n		<div style="font-size:18px;font-weight:700;margin-left:12px">作业</div>\r\n		<div style="margin-top:-19px">\r\n			<select id="select_status" style="border-color:white;float:right;margin-right:25px">\r\n				<option value="uncompleted">{{nls.uncompleted}}</option>\r\n				<option value="completed">{{nls.finished}}</option>\r\n			</select>\r\n			<select id="select_time" style="border-color:white;float:right;margin-right:45px">\r\n				<option value="3600">{{nls.last_hour}}</option>\r\n				<option value="86400">{{nls.last_day}}</option>\r\n				<option value="604800">{{nls.last_7_days}}</option>\r\n				<option value="2592000">{{nls.last_30_days}}</option>\r\n			</select>\r\n			<select id="select_queue" style="border-color:white;width:100px;float:right;margin-right:45px">\r\n				<option value="all">{{nls.all_queues}}</option>\r\n			</select>\r\n			\r\n		</div>\r\n	</div>\r\n	<hr style="width:100%" size=3>\r\n	\r\n	<div style="margin-top:-15px">\r\n		<div id="job_chart_running_icon"><div style="float:right;margin-right:25px">{{nls.running}}</div><div style="background-color:#69f0ae;width:15px;height:15px;float:right;margin-right:25px"></div></div>\r\n		<div id="job_chart_waiting_icon"><div style="float:right;margin-right:25px">{{nls.waiting}}</div><div style="background-color:#00b0ff;width:15px;height:15px;float:right;margin-right:25px"></div></div>\r\n		<div id="job_chart_finish_icon" style="display:none"><div style="float:right;margin-right:25px">{{nls.finished}}</div><div style="background-color:#b4e89f;width:15px;height:15px;float:right;margin-right:25px"></div></div>\r\n	</div>\r\n	\r\n	<div id="basic" style="margin-top:55px">\r\n		<div class="job_chart"></div>\r\n	</div>\r\n</div>'}),define("customUI/admin/dashboard/jobChart/nls/jobChart",{root:{test:"测试",uncompleted:"未完成",finished:"结束",last_hour:"过去一小时",last_day:"过去一天",last_7_days:"过去七天",last_30_days:"过去三十天",all_queues:"全部队列",running:"运行中",waiting:"等待中",err_msg:"获取数据失败, 请重试"},zh:!0,en:!0}),define("customUI/admin/dashboard/jobChart/nls/zh/jobChart",{test:"测试",uncompleted:"未完成",finished:"结束",last_hour:"过去一小时",last_day:"过去一天",last_7_days:"过去七天",last_30_days:"过去三十天",all_queues:"全部队列",running:"运行中",waiting:"等待中",err_msg:"获取数据失败, 请重试"}),function(e){var t,n,i="0.4.2",r="hasOwnProperty",s=/[\.\/]/,o="*",a=function(){},l=function(e,t){return e-t
},c={n:{}},d=function(e,i){e=String(e);var r,s=n,o=Array.prototype.slice.call(arguments,2),a=d.listeners(e),c=0,u=[],h={},p=[],f=t;t=e,n=0;for(var m=0,g=a.length;g>m;m++)"zIndex"in a[m]&&(u.push(a[m].zIndex),a[m].zIndex<0&&(h[a[m].zIndex]=a[m]));for(u.sort(l);u[c]<0;)if(r=h[u[c++]],p.push(r.apply(i,o)),n)return n=s,p;for(m=0;g>m;m++)if(r=a[m],"zIndex"in r)if(r.zIndex==u[c]){if(p.push(r.apply(i,o)),n)break;do if(c++,r=h[u[c]],r&&p.push(r.apply(i,o)),n)break;while(r)}else h[r.zIndex]=r;else if(p.push(r.apply(i,o)),n)break;return n=s,t=f,p.length?p:null};d._events=c,d.listeners=function(e){var t,n,i,r,a,l,d,u,h=e.split(s),p=c,f=[p],m=[];for(r=0,a=h.length;a>r;r++){for(u=[],l=0,d=f.length;d>l;l++)for(p=f[l].n,n=[p[h[r]],p[o]],i=2;i--;)t=n[i],t&&(u.push(t),m=m.concat(t.f||[]));f=u}return m},d.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(s),i=c,r=0,o=n.length;o>r;r++)i=i.n,i=i.hasOwnProperty(n[r])&&i[n[r]]||(i[n[r]]={n:{}});for(i.f=i.f||[],r=0,o=i.f.length;o>r;r++)if(i.f[r]==t)return a;return i.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},d.f=function(e){var t=[].slice.call(arguments,1);return function(){d.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},d.stop=function(){n=1},d.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},d.nts=function(){return t.split(s)},d.off=d.unbind=function(e,t){if(!e)return void(d._events=c={n:{}});var n,i,a,l,u,h,p,f=e.split(s),m=[c];for(l=0,u=f.length;u>l;l++)for(h=0;h<m.length;h+=a.length-2){if(a=[h,1],n=m[h].n,f[l]!=o)n[f[l]]&&a.push(n[f[l]]);else for(i in n)n[r](i)&&a.push(n[i]);m.splice.apply(m,a)}for(l=0,u=m.length;u>l;l++)for(n=m[l];n.n;){if(t){if(n.f){for(h=0,p=n.f.length;p>h;h++)if(n.f[h]==t){n.f.splice(h,1);break}!n.f.length&&delete n.f}for(i in n.n)if(n.n[r](i)&&n.n[i].f){var g=n.n[i].f;for(h=0,p=g.length;p>h;h++)if(g[h]==t){g.splice(h,1);break}!g.length&&delete n.n[i].f}}else{delete n.f;for(i in n.n)n.n[r](i)&&n.n[i].f&&delete n.n[i].f}n=n.n}},d.once=function(e,t){var n=function(){return d.unbind(e,n),t.apply(this,arguments)};return d.on(e,n)},d.version=i,d.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=d:"undefined"!=typeof define?define("eve",[],function(){return d}):e.eve=d}(window||this),function(e,t){"function"==typeof define&&define.amd?define("raphael",["eve"],function(n){return t(e,n)}):t(e,e.eve||"function"==typeof require&&require("eve"))}(this,function(e,t){function n(e){if(n.is(e,"function"))return w?e():t.on("raphael.DOMload",e);if(n.is(e,V))return n._engine.create[M](n,e.splice(0,3+n.is(e[0],G))).add(e);var i=Array.prototype.slice.call(arguments,0);if(n.is(i[i.length-1],"function")){var r=i.pop();return w?r.call(n._engine.create[M](n,i)):t.on("raphael.DOMload",function(){r.call(n._engine.create[M](n,i))})}return n._engine.create[M](n,arguments)}function i(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[T](n)&&(t[n]=i(e[n]));return t}function r(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function s(e,t,n){function i(){var s=Array.prototype.slice.call(arguments,0),o=s.join("␀"),a=i.cache=i.cache||{},l=i.count=i.count||[];return a[T](o)?(r(l,o),n?n(a[o]):a[o]):(l.length>=1e3&&delete a[l.shift()],l.push(o),a[o]=e[M](t,s),n?n(a[o]):a[o])}return i}function o(){return this.hex}function a(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var s=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?r-4==i?s[3]={x:+e[0],y:+e[1]}:r-2==i&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?s[3]=s[2]:i||(s[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}function l(e,t,n,i,r){var s=-3*t+9*n-9*i+3*r,o=e*s+6*t-12*n+6*i;return e*o-3*t+3*n}function c(e,t,n,i,r,s,o,a,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var d=c/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var g=d*h[m]+d,v=l(g,e,n,r,o),b=l(g,t,i,s,a),y=v*v+b*b;f+=p[m]*z.sqrt(y)}return d*f}function d(e,t,n,i,r,s,o,a,l){if(!(0>l||c(e,t,n,i,r,s,o,a)<l)){var d,u=1,h=u/2,p=u-h,f=.01;for(d=c(e,t,n,i,r,s,o,a,p);H(d-l)>f;)h/=2,p+=(l>d?1:-1)*h,d=c(e,t,n,i,r,s,o,a,p);return p}}function u(e,t,n,i,r,s,o,a){if(!(L(e,n)<B(r,o)||B(e,n)>L(r,o)||L(t,i)<B(s,a)||B(t,i)>L(s,a))){var l=(e*i-t*n)*(r-o)-(e-n)*(r*a-s*o),c=(e*i-t*n)*(s-a)-(t-i)*(r*a-s*o),d=(e-n)*(s-a)-(t-i)*(r-o);if(d){var u=l/d,h=c/d,p=+u.toFixed(2),f=+h.toFixed(2);if(!(p<+B(e,n).toFixed(2)||p>+L(e,n).toFixed(2)||p<+B(r,o).toFixed(2)||p>+L(r,o).toFixed(2)||f<+B(t,i).toFixed(2)||f>+L(t,i).toFixed(2)||f<+B(s,a).toFixed(2)||f>+L(s,a).toFixed(2)))return{x:u,y:h}}}}function h(e,t,i){var r=n.bezierBBox(e),s=n.bezierBBox(t);if(!n.isBBoxIntersect(r,s))return i?0:[];for(var o=c.apply(0,e),a=c.apply(0,t),l=L(~~(o/5),1),d=L(~~(a/5),1),h=[],p=[],f={},m=i?0:[],g=0;l+1>g;g++){var v=n.findDotsAtSegment.apply(n,e.concat(g/l));h.push({x:v.x,y:v.y,t:g/l})}for(g=0;d+1>g;g++)v=n.findDotsAtSegment.apply(n,t.concat(g/d)),p.push({x:v.x,y:v.y,t:g/d});for(g=0;l>g;g++)for(var b=0;d>b;b++){var y=h[g],w=h[g+1],x=p[b],_=p[b+1],C=H(w.x-y.x)<.001?"y":"x",k=H(_.x-x.x)<.001?"y":"x",T=u(y.x,y.y,w.x,w.y,x.x,x.y,_.x,_.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var S=y.t+H((T[C]-y[C])/(w[C]-y[C]))*(w.t-y.t),I=x.t+H((T[k]-x[k])/(_[k]-x[k]))*(_.t-x.t);S>=0&&1.001>=S&&I>=0&&1.001>=I&&(i?m++:m.push({x:T.x,y:T.y,t1:B(S,1),t2:B(I,1)}))}}return m}function p(e,t,i){e=n._path2curve(e),t=n._path2curve(t);for(var r,s,o,a,l,c,d,u,p,f,m=i?0:[],g=0,v=e.length;v>g;g++){var b=e[g];if("M"==b[0])r=l=b[1],s=c=b[2];else{"C"==b[0]?(p=[r,s].concat(b.slice(1)),r=p[6],s=p[7]):(p=[r,s,r,s,l,c,l,c],r=l,s=c);for(var y=0,w=t.length;w>y;y++){var x=t[y];if("M"==x[0])o=d=x[1],a=u=x[2];else{"C"==x[0]?(f=[o,a].concat(x.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,d,u,d,u],o=d,a=u);var _=h(p,f,i);if(i)m+=_;else{for(var C=0,k=_.length;k>C;C++)_[C].segment1=g,_[C].segment2=y,_[C].bez1=p,_[C].bez2=f;m=m.concat(_)}}}}}return m}function f(e,t,n,i,r,s){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+R+this.y+R+this.width+" × "+this.height}function g(e,t,n,i,r,s){function o(e){return((u*e+d)*e+c)*e}function a(e,t){var n=l(e,t);return((f*n+p)*n+h)*n}function l(e,t){var n,i,r,s,a,l;for(r=e,l=0;8>l;l++){if(s=o(r)-e,H(s)<t)return r;if(a=(3*u*r+2*d)*r+c,H(a)<1e-6)break;r-=s/a}if(n=0,i=1,r=e,n>r)return n;if(r>i)return i;for(;i>n;){if(s=o(r),H(s-e)<t)return r;e>s?n=r:i=r,r=(i-n)/2+n}return r}var c=3*t,d=3*(i-t)-c,u=1-c-d,h=3*n,p=3*(r-n)-h,f=1-h-p;return a(e,1/(200*s))}function v(e,t){var n=[],i={};if(this.ms=t,this.times=1,e){for(var r in e)e[T](r)&&(i[Z(r)]=e[r],n.push(Z(r)));n.sort(ut)}this.anim=i,this.top=n[n.length-1],this.percents=n}function b(e,i,r,s,o,a){r=Z(r);var l,c,d,u,h,p,m=e.ms,v={},b={},y={};if(s)for(x=0,C=cn.length;C>x;x++){var w=cn[x];if(w.el.id==i.id&&w.anim==e){w.percent!=r?(cn.splice(x,1),d=1):c=w,i.attr(w.totalOrigin);break}}else s=+b;for(var x=0,C=e.percents.length;C>x;x++){if(e.percents[x]==r||e.percents[x]>s*e.top){r=e.percents[x],h=e.percents[x-1]||0,m=m/e.top*(r-h),u=e.percents[x+1],l=e.anim[r];break}s&&i.attr(e.anim[e.percents[x]])}if(l){if(c)c.initstatus=s,c.start=new Date-c.ms*s;else{for(var k in l)if(l[T](k)&&(it[T](k)||i.paper.customAttributes[T](k)))switch(v[k]=i.attr(k),null==v[k]&&(v[k]=nt[k]),b[k]=l[k],it[k]){case G:y[k]=(b[k]-v[k])/m;break;case"colour":v[k]=n.getRGB(v[k]);var S=n.getRGB(b[k]);y[k]={r:(S.r-v[k].r)/m,g:(S.g-v[k].g)/m,b:(S.b-v[k].b)/m};break;case"path":var I=$t(v[k],b[k]),D=I[1];for(v[k]=I[0],y[k]=[],x=0,C=v[k].length;C>x;x++){y[k][x]=[0];for(var M=1,E=v[k][x].length;E>M;M++)y[k][x][M]=(D[x][M]-v[k][x][M])/m}break;case"transform":var P=i._,R=Bt(P[k],b[k]);if(R)for(v[k]=R.from,b[k]=R.to,y[k]=[],y[k].real=!0,x=0,C=v[k].length;C>x;x++)for(y[k][x]=[v[k][x][0]],M=1,E=v[k][x].length;E>M;M++)y[k][x][M]=(b[k][x][M]-v[k][x][M])/m;else{var $=i.matrix||new f,N={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};v[k]=[$.a,$.b,$.c,$.d,$.e,$.f],zt(N,b[k]),b[k]=N._.transform,y[k]=[(N.matrix.a-$.a)/m,(N.matrix.b-$.b)/m,(N.matrix.c-$.c)/m,(N.matrix.d-$.d)/m,(N.matrix.e-$.e)/m,(N.matrix.f-$.f)/m]}break;case"csv":var O=F(l[k])[j](_),z=F(v[k])[j](_);if("clip-rect"==k)for(v[k]=z,y[k]=[],x=z.length;x--;)y[k][x]=(O[x]-v[k][x])/m;b[k]=O;break;default:for(O=[][A](l[k]),z=[][A](v[k]),y[k]=[],x=i.paper.customAttributes[k].length;x--;)y[k][x]=((O[x]||0)-(z[x]||0))/m}var L=l.easing,B=n.easing_formulas[L];if(!B)if(B=F(L).match(K),B&&5==B.length){var H=B;B=function(e){return g(e,+H[1],+H[2],+H[3],+H[4],m)}}else B=pt;if(p=l.start||e.start||+new Date,w={anim:e,percent:r,timestamp:p,start:p+(e.del||0),status:0,initstatus:s||0,stop:!1,ms:m,easing:B,from:v,diff:y,to:b,el:i,callback:l.callback,prev:h,next:u,repeat:a||e.times,origin:i.attr(),totalOrigin:o},cn.push(w),s&&!c&&!d&&(w.stop=!0,w.start=new Date-m*s,1==cn.length))return un();d&&(w.start=new Date-w.ms*s),1==cn.length&&dn(un)}t("raphael.anim.start."+i.id,i,e)}}function y(e){for(var t=0;t<cn.length;t++)cn[t].el.paper==e&&cn.splice(t--,1)}n.version="2.1.2",n.eve=t;var w,x,_=/[, ]+/,C={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,T="hasOwnProperty",S={doc:document,win:e},I={was:Object.prototype[T].call(S.win,"Raphael"),is:S.win.Raphael},D=function(){this.ca=this.customAttributes={}},M="apply",A="concat",E="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,P="",R=" ",F=String,j="split",$="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[j](R),N={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=F.prototype.toLowerCase,z=Math,L=z.max,B=z.min,H=z.abs,U=z.pow,q=z.PI,G="number",W="string",V="array",Y=Object.prototype.toString,J=(n._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),X={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=z.round,Z=parseFloat,et=parseInt,tt=F.prototype.toUpperCase,nt=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},it=n._availableAnimAttrs={blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rx:G,ry:G,stroke:"colour","stroke-opacity":G,"stroke-width":G,transform:"transform",width:G,x:G,y:G},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,st={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,dt=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(e,t){return Z(e)-Z(t)},ht=function(){},pt=function(e){return e},ft=n._rectPath=function(e,t,n,i,r){return r?[["M",e+r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]]},mt=function(e,t,n,i){return null==i&&(i=n),[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},gt=n._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)}},vt=n.mapPath=function(e,t){if(!t)return e;var n,i,r,s,o,a,l;for(e=$t(e),r=0,o=e.length;o>r;r++)for(l=e[r],s=1,a=l.length;a>s;s+=2)n=t.x(l[s],l[s+1]),i=t.y(l[s],l[s+1]),l[s]=n,l[s+1]=i;return e};if(n._g=S,n.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var bt,yt=S.doc.createElement("div");if(yt.innerHTML='<v:shape adj="1"/>',bt=yt.firstChild,bt.style.behavior="url(#default#VML)",!bt||"object"!=typeof bt.adj)return n.type=P;yt=null}n.svg=!(n.vml="VML"==n.type),n._Paper=D,n.fn=x=D.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(e,t){return t=O.call(t),"finite"==t?!X[T](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||Y.call(e).slice(8,-1).toLowerCase()==t},n.angle=function(e,t,i,r,s,o){if(null==s){var a=e-i,l=t-r;return a||l?(180+180*z.atan2(-l,-a)/q+360)%360:0}return n.angle(e,t,s,o)-n.angle(i,r,s,o)},n.rad=function(e){return e%360*q/180},n.deg=function(e){return Math.round(180*e/q%360*1e3)/1e3},n.snapTo=function(e,t,i){if(i=n.is(i,"finite")?i:10,n.is(e,V)){for(var r=e.length;r--;)if(H(e[r]-t)<=i)return e[r]}else{e=+e;var s=t%e;if(i>s)return t-s;if(s>e-i)return t-s+e}return t};n.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*z.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});n.setWindow=function(e){t("raphael.setWindow",n,S.win,e),S.win=e,S.doc=S.win.document,n._engine.initWin&&n._engine.initWin(S.win)};var wt=function(e){if(n.vml){var t,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),t=r.body}catch(o){t=createPopup().document.body}var a=t.createTextRange();wt=s(function(e){try{t.style.color=F(e).replace(i,P);var n=a.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=S.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",S.doc.body.appendChild(l),wt=s(function(e){return l.style.color=e,S.doc.defaultView.getComputedStyle(l,P).getPropertyValue("color")})}return wt(e)},xt=function(){return"hsb("+[this.h,this.s,this.b]+")"},_t=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ct=function(){return this.hex},kt=function(e,t,i){if(null==t&&n.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,t=e.g,e=e.r),null==t&&n.is(e,W)){var r=n.getRGB(e);e=r.r,t=r.g,i=r.b}return(e>1||t>1||i>1)&&(e/=255,t/=255,i/=255),[e,t,i]},Tt=function(e,t,i,r){e*=255,t*=255,i*=255;var s={r:e,g:t,b:i,hex:n.rgb(e,t,i),toString:Ct};return n.is(r,"finite")&&(s.opacity=r),s};n.color=function(e){var t;return n.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):n.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(n.is(e,"string")&&(e=n.getRGB(e)),n.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=Ct,e},n.hsb2rgb=function(e,t,n,i){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,i=e.o,e=e.h),e*=360;var r,s,o,a,l;return e=e%360/60,l=n*t,a=l*(1-H(e%2-1)),r=s=o=n-l,e=~~e,r+=[l,a,0,0,a,l][e],s+=[a,l,l,a,0,0][e],o+=[0,0,a,l,l,a][e],Tt(r,s,o,i)},n.hsl2rgb=function(e,t,n,i){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var r,s,o,a,l;return e=e%360/60,l=2*t*(.5>n?n:1-n),a=l*(1-H(e%2-1)),r=s=o=n-l/2,e=~~e,r+=[l,a,0,0,a,l][e],s+=[a,l,l,a,0,0][e],o+=[0,0,a,l,l,a][e],Tt(r,s,o,i)},n.rgb2hsb=function(e,t,n){n=kt(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,s,o;return s=L(e,t,n),o=s-B(e,t,n),i=0==o?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,i=(i+360)%6*60/360,r=0==o?0:o/s,{h:i,s:r,b:s,toString:xt}},n.rgb2hsl=function(e,t,n){n=kt(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,s,o,a,l;return o=L(e,t,n),a=B(e,t,n),l=o-a,i=0==l?null:o==e?(t-n)/l:o==t?(n-e)/l+2:(e-t)/l+4,i=(i+360)%6*60/360,s=(o+a)/2,r=0==l?0:.5>s?l/(2*s):l/(2-2*s),{h:i,s:r,l:s,toString:_t}},n._path2string=function(){return this.join(",").replace(ot,"$1")};n._preload=function(e,t){var n=S.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,S.doc.body.removeChild(this)},n.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(n),n.src=e};n.getRGB=s(function(e){if(!e||(e=F(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(st[T](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=wt(e));var t,i,r,s,a,l,c=e.match(J);return c?(c[2]&&(r=et(c[2].substring(5),16),i=et(c[2].substring(3,5),16),t=et(c[2].substring(1,3),16)),c[3]&&(r=et((a=c[3].charAt(3))+a,16),i=et((a=c[3].charAt(2))+a,16),t=et((a=c[3].charAt(1))+a,16)),c[4]&&(l=c[4][j](rt),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),i=Z(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),c[5]?(l=c[5][j](rt),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),i=Z(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),n.hsb2rgb(t,i,r,s)):c[6]?(l=c[6][j](rt),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),i=Z(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),n.hsl2rgb(t,i,r,s)):(c={r:t,g:i,b:r,toString:o},c.hex="#"+(16777216|r|i<<8|t<<16).toString(16).slice(1),n.is(s,"finite")&&(c.opacity=s),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},n),n.hsb=s(function(e,t,i){return n.hsb2rgb(e,t,i).hex}),n.hsl=s(function(e,t,i){return n.hsl2rgb(e,t,i).hex}),n.rgb=s(function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)}),n.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(e){if(!e)return null;var t=St(e);if(t.arr)return Dt(t.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return n.is(e,V)&&n.is(e[0],V)&&(r=Dt(e)),r.length||F(e).replace(at,function(e,t,n){var s=[],o=t.toLowerCase();if(n.replace(ct,function(e,t){t&&s.push(+t)}),"m"==o&&s.length>2&&(r.push([t][A](s.splice(0,2))),o="l",t="m"==t?"l":"L"),"r"==o)r.push([t][A](s));else for(;s.length>=i[o]&&(r.push([t][A](s.splice(0,i[o]))),i[o]););}),r.toString=n._path2string,t.arr=Dt(r),r},n.parseTransformString=s(function(e){if(!e)return null;var t=[];return n.is(e,V)&&n.is(e[0],V)&&(t=Dt(e)),t.length||F(e).replace(lt,function(e,n,i){{var r=[];O.call(n)}i.replace(ct,function(e,t){t&&r.push(+t)}),t.push([n][A](r))}),t.toString=n._path2string,t});var St=function(e){var t=St.ps=St.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[T](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]};n.findDotsAtSegment=function(e,t,n,i,r,s,o,a,l){var c=1-l,d=U(c,3),u=U(c,2),h=l*l,p=h*l,f=d*e+3*u*l*n+3*c*l*l*r+p*o,m=d*t+3*u*l*i+3*c*l*l*s+p*a,g=e+2*l*(n-e)+h*(r-2*n+e),v=t+2*l*(i-t)+h*(s-2*i+t),b=n+2*l*(r-n)+h*(o-2*r+n),y=i+2*l*(s-i)+h*(a-2*s+i),w=c*e+l*n,x=c*t+l*i,_=c*r+l*o,C=c*s+l*a,k=90-180*z.atan2(g-b,v-y)/q;return(g>b||y>v)&&(k+=180),{x:f,y:m,m:{x:g,y:v},n:{x:b,y:y},start:{x:w,y:x},end:{x:_,y:C},alpha:k}},n.bezierBBox=function(e,t,i,r,s,o,a,l){n.is(e,"array")||(e=[e,t,i,r,s,o,a,l]);var c=jt.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},n.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},n.isBBoxIntersect=function(e,t){var i=n.isPointInsideBBox;return i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},n.pathIntersection=function(e,t){return p(e,t)},n.pathIntersectionNumber=function(e,t){return p(e,t,1)},n.isPointInsidePath=function(e,t,i){var r=n.pathBBox(e);return n.isPointInsideBBox(r,t,i)&&p(e,[["M",t,i],["H",r.x2+10]],1)%2==1},n._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var It=n.pathBBox=function(e){var t=St(e);if(t.bbox)return i(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=$t(e);for(var n,r=0,s=0,o=[],a=[],l=0,c=e.length;c>l;l++)if(n=e[l],"M"==n[0])r=n[1],s=n[2],o.push(r),a.push(s);else{var d=jt(r,s,n[1],n[2],n[3],n[4],n[5],n[6]);o=o[A](d.min.x,d.max.x),a=a[A](d.min.y,d.max.y),r=n[5],s=n[6]}var u=B[M](0,o),h=B[M](0,a),p=L[M](0,o),f=L[M](0,a),m=p-u,g=f-h,v={x:u,y:h,x2:p,y2:f,width:m,height:g,cx:u+m/2,cy:h+g/2};return t.bbox=i(v),v},Dt=function(e){var t=i(e);return t.toString=n._path2string,t},Mt=n._pathToRelative=function(e){var t=St(e);if(t.rel)return Dt(t.rel);n.is(e,V)&&n.is(e&&e[0],V)||(e=n.parsePathString(e));var i=[],r=0,s=0,o=0,a=0,l=0;"M"==e[0][0]&&(r=e[0][1],s=e[0][2],o=r,a=s,l++,i.push(["M",r,s]));for(var c=l,d=e.length;d>c;c++){var u=i[c]=[],h=e[c];if(h[0]!=O.call(h[0]))switch(u[0]=O.call(h[0]),u[0]){case"a":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]-r).toFixed(3),u[7]=+(h[7]-s).toFixed(3);break;case"v":u[1]=+(h[1]-s).toFixed(3);break;case"m":o=h[1],a=h[2];default:for(var p=1,f=h.length;f>p;p++)u[p]=+(h[p]-(p%2?r:s)).toFixed(3)}else{u=i[c]=[],"m"==h[0]&&(o=h[1]+r,a=h[2]+s);for(var m=0,g=h.length;g>m;m++)i[c][m]=h[m]}var v=i[c].length;switch(i[c][0]){case"z":r=o,s=a;break;case"h":r+=+i[c][v-1];break;case"v":s+=+i[c][v-1];break;default:r+=+i[c][v-2],s+=+i[c][v-1]}}return i.toString=n._path2string,t.rel=Dt(i),i},At=n._pathToAbsolute=function(e){var t=St(e);if(t.abs)return Dt(t.abs);if(n.is(e,V)&&n.is(e&&e[0],V)||(e=n.parsePathString(e)),!e||!e.length)return[["M",0,0]];var i=[],r=0,s=0,o=0,l=0,c=0;"M"==e[0][0]&&(r=+e[0][1],s=+e[0][2],o=r,l=s,c++,i[0]=["M",r,s]);for(var d,u,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=c,f=e.length;f>p;p++){if(i.push(d=[]),u=e[p],u[0]!=tt.call(u[0]))switch(d[0]=tt.call(u[0]),d[0]){case"A":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]+r),d[7]=+(u[7]+s);break;case"V":d[1]=+u[1]+s;break;case"H":d[1]=+u[1]+r;break;case"R":for(var m=[r,s][A](u.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+r,m[++g]=+m[g]+s;i.pop(),i=i[A](a(m,h));break;case"M":o=+u[1]+r,l=+u[2]+s;default:for(g=1,v=u.length;v>g;g++)d[g]=+u[g]+(g%2?r:s)}else if("R"==u[0])m=[r,s][A](u.slice(1)),i.pop(),i=i[A](a(m,h)),d=["R"][A](u.slice(-2));else for(var b=0,y=u.length;y>b;b++)d[b]=u[b];switch(d[0]){case"Z":r=o,s=l;break;case"H":r=d[1];break;case"V":s=d[1];break;case"M":o=d[d.length-2],l=d[d.length-1];default:r=d[d.length-2],s=d[d.length-1]}}return i.toString=n._path2string,t.abs=Dt(i),i},Et=function(e,t,n,i){return[e,t,n,i,n,i]},Pt=function(e,t,n,i,r,s){var o=1/3,a=2/3;return[o*e+a*n,o*t+a*i,o*r+a*n,o*s+a*i,r,s]},Rt=function(e,t,n,i,r,o,a,l,c,d){var u,h=120*q/180,p=q/180*(+r||0),f=[],m=s(function(e,t,n){var i=e*z.cos(n)-t*z.sin(n),r=e*z.sin(n)+t*z.cos(n);return{x:i,y:r}});if(d)k=d[0],T=d[1],_=d[2],C=d[3];else{u=m(e,t,-p),e=u.x,t=u.y,u=m(l,c,-p),l=u.x,c=u.y;var g=(z.cos(q/180*r),z.sin(q/180*r),(e-l)/2),v=(t-c)/2,b=g*g/(n*n)+v*v/(i*i);b>1&&(b=z.sqrt(b),n=b*n,i=b*i);var y=n*n,w=i*i,x=(o==a?-1:1)*z.sqrt(H((y*w-y*v*v-w*g*g)/(y*v*v+w*g*g))),_=x*n*v/i+(e+l)/2,C=x*-i*g/n+(t+c)/2,k=z.asin(((t-C)/i).toFixed(9)),T=z.asin(((c-C)/i).toFixed(9));k=_>e?q-k:k,T=_>l?q-T:T,0>k&&(k=2*q+k),0>T&&(T=2*q+T),a&&k>T&&(k-=2*q),!a&&T>k&&(T-=2*q)}var S=T-k;if(H(S)>h){var I=T,D=l,M=c;T=k+h*(a&&T>k?1:-1),l=_+n*z.cos(T),c=C+i*z.sin(T),f=Rt(l,c,n,i,r,0,a,D,M,[T,I,_,C])}S=T-k;var E=z.cos(k),P=z.sin(k),R=z.cos(T),F=z.sin(T),$=z.tan(S/4),N=4/3*n*$,O=4/3*i*$,L=[e,t],B=[e+N*P,t-O*E],U=[l+N*F,c-O*R],G=[l,c];if(B[0]=2*L[0]-B[0],B[1]=2*L[1]-B[1],d)return[B,U,G][A](f);f=[B,U,G][A](f).join()[j](",");for(var W=[],V=0,Y=f.length;Y>V;V++)W[V]=V%2?m(f[V-1],f[V],p).y:m(f[V],f[V+1],p).x;return W},Ft=function(e,t,n,i,r,s,o,a,l){var c=1-l;return{x:U(c,3)*e+3*U(c,2)*l*n+3*c*l*l*r+U(l,3)*o,y:U(c,3)*t+3*U(c,2)*l*i+3*c*l*l*s+U(l,3)*a}},jt=s(function(e,t,n,i,r,s,o,a){var l,c=r-2*n+e-(o-2*r+n),d=2*(n-e)-2*(r-n),u=e-n,h=(-d+z.sqrt(d*d-4*c*u))/2/c,p=(-d-z.sqrt(d*d-4*c*u))/2/c,f=[t,a],m=[e,o];return H(h)>"1e12"&&(h=.5),H(p)>"1e12"&&(p=.5),h>0&&1>h&&(l=Ft(e,t,n,i,r,s,o,a,h),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Ft(e,t,n,i,r,s,o,a,p),m.push(l.x),f.push(l.y)),c=s-2*i+t-(a-2*s+i),d=2*(i-t)-2*(s-i),u=t-i,h=(-d+z.sqrt(d*d-4*c*u))/2/c,p=(-d-z.sqrt(d*d-4*c*u))/2/c,H(h)>"1e12"&&(h=.5),H(p)>"1e12"&&(p=.5),h>0&&1>h&&(l=Ft(e,t,n,i,r,s,o,a,h),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Ft(e,t,n,i,r,s,o,a,p),m.push(l.x),f.push(l.y)),{min:{x:B[M](0,m),y:B[M](0,f)},max:{x:L[M](0,m),y:L[M](0,f)}}}),$t=n._path2curve=s(function(e,t){var n=!t&&St(e);if(!t&&n.curve)return Dt(n.curve);for(var i=At(e),r=t&&At(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(e,t,n){var i,r,s={T:1,Q:1};if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in s)&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][A](Rt[M](0,[t.x,t.y][A](e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r][A](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][A](Pt(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][A](Pt(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][A](Et(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][A](Et(t.x,t.y,e[1],t.y));break;case"V":e=["C"][A](Et(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][A](Et(t.x,t.y,t.X,t.Y))}return e}),l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)d[t]="A",r&&(u[t]="A"),e.splice(t++,0,["C"][A](n.splice(0,6)));e.splice(t,1),m=L(i.length,r&&r.length||0)}},c=function(e,t,n,s,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(t.splice(o,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],m=L(i.length,r&&r.length||0))},d=[],u=[],h="",p="",f=0,m=L(i.length,r&&r.length||0);m>f;f++){i[f]&&(h=i[f][0]),"C"!=h&&(d[f]=h,f&&(p=d[f-1])),i[f]=a(i[f],s,p),"A"!=d[f]&&"C"==h&&(d[f]="C"),l(i,f),r&&(r[f]&&(h=r[f][0]),"C"!=h&&(u[f]=h,f&&(p=u[f-1])),r[f]=a(r[f],o,p),"A"!=u[f]&&"C"==h&&(u[f]="C"),l(r,f)),c(i,r,s,o,f),c(r,i,o,s,f);var g=i[f],v=r&&r[f],b=g.length,y=r&&v.length;s.x=g[b-2],s.y=g[b-1],s.bx=Z(g[b-4])||s.x,s.by=Z(g[b-3])||s.y,o.bx=r&&(Z(v[y-4])||o.x),o.by=r&&(Z(v[y-3])||o.y),o.x=r&&v[y-2],o.y=r&&v[y-1]}return r||(n.curve=Dt(i)),r?[i,r]:i},null,Dt),Nt=(n._parseDots=s(function(e){for(var t=[],i=0,r=e.length;r>i;i++){var s={},o=e[i].match(/^([^:]*):?([\d\.]*)/);if(s.color=n.getRGB(o[1]),s.color.error)return null;s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),t.push(s)}for(i=1,r=t.length-1;r>i;i++)if(!t[i].offset){for(var a=Z(t[i-1].offset||0),l=0,c=i+1;r>c;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=r),l=Z(l);for(var d=(l-a)/(c-i+1);c>i;i++)a+=d,t[i].offset=a+"%"}return t}),n._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Ot=(n._tofront=function(e,t){t.top!==e&&(Nt(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},n._toback=function(e,t){t.bottom!==e&&(Nt(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},n._insertafter=function(e,t,n){Nt(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},n._insertbefore=function(e,t,n){Nt(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},n.toMatrix=function(e,t){var n=It(e),i={_:{transform:P},getBBox:function(){return n}};return zt(i,t),i.matrix}),zt=(n.transformPath=function(e,t){return vt(e,Ot(e,t))},n._extractTransform=function(e,t){if(null==t)return e._.transform;t=F(t).replace(/\.{3}|\u2026/g,e._.transform||P);var i=n.parseTransformString(t),r=0,s=0,o=0,a=1,l=1,c=e._,d=new f;if(c.transform=i||[],i)for(var u=0,h=i.length;h>u;u++){var p,m,g,v,b,y=i[u],w=y.length,x=F(y[0]).toLowerCase(),_=y[0]!=x,C=_?d.invert():0;"t"==x&&3==w?_?(p=C.x(0,0),m=C.y(0,0),g=C.x(y[1],y[2]),v=C.y(y[1],y[2]),d.translate(g-p,v-m)):d.translate(y[1],y[2]):"r"==x?2==w?(b=b||e.getBBox(1),d.rotate(y[1],b.x+b.width/2,b.y+b.height/2),r+=y[1]):4==w&&(_?(g=C.x(y[2],y[3]),v=C.y(y[2],y[3]),d.rotate(y[1],g,v)):d.rotate(y[1],y[2],y[3]),r+=y[1]):"s"==x?2==w||3==w?(b=b||e.getBBox(1),d.scale(y[1],y[w-1],b.x+b.width/2,b.y+b.height/2),a*=y[1],l*=y[w-1]):5==w&&(_?(g=C.x(y[3],y[4]),v=C.y(y[3],y[4]),d.scale(y[1],y[2],g,v)):d.scale(y[1],y[2],y[3],y[4]),a*=y[1],l*=y[2]):"m"==x&&7==w&&d.add(y[1],y[2],y[3],y[4],y[5],y[6]),c.dirtyT=1,e.matrix=d}e.matrix=d,c.sx=a,c.sy=l,c.deg=r,c.dx=s=d.e,c.dy=o=d.f,1==a&&1==l&&!r&&c.bbox?(c.bbox.x+=+s,c.bbox.y+=+o):c.dirtyT=1}),Lt=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Bt=n._equaliseTransform=function(e,t){t=F(t).replace(/\.{3}|\u2026/g,e),e=n.parseTransformString(e)||[],t=n.parseTransformString(t)||[];for(var i,r,s,o,a=L(e.length,t.length),l=[],c=[],d=0;a>d;d++){if(s=e[d]||Lt(t[d]),o=t[d]||Lt(s),s[0]!=o[0]||"r"==s[0].toLowerCase()&&(s[2]!=o[2]||s[3]!=o[3])||"s"==s[0].toLowerCase()&&(s[3]!=o[3]||s[4]!=o[4]))return;
for(l[d]=[],c[d]=[],i=0,r=L(s.length,o.length);r>i;i++)i in s&&(l[d][i]=s[i]),i in o&&(c[d][i]=o[i])}return{from:l,to:c}};n._getContainer=function(e,t,i,r){var s;return s=null!=r||n.is(e,"object")?e:S.doc.getElementById(e),null!=s?s.tagName?null==t?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:t,height:i}:{container:1,x:e,y:t,width:i,height:r}:void 0},n.pathToRelative=Mt,n._engine={},n.path2curve=$t,n.matrix=function(e,t,n,i,r,s){return new f(e,t,n,i,r,s)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function i(e){var n=z.sqrt(t(e));e[0]&&(e[0]/=n),e[1]&&(e[1]/=n)}e.add=function(e,t,n,i,r,s){var o,a,l,c,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,n,r],[t,i,s],[0,0,1]];for(e&&e instanceof f&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),o=0;3>o;o++)for(a=0;3>a;a++){for(c=0,l=0;3>l;l++)c+=u[o][l]*h[l][a];d[o][a]=c}this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,i){null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},e.rotate=function(e,t,i){e=n.rad(e),t=t||0,i=i||0;var r=+z.cos(e).toFixed(9),s=+z.sin(e).toFixed(9);this.add(r,s,-s,r,t,i),this.add(1,0,0,1,-t,-i)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[F.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=z.sqrt(t(r[0])),i(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=z.sqrt(t(r[1])),i(r[1]),e.shear/=e.scaley;var s=-r[0][1],o=r[1][1];return 0>o?(e.rotate=n.deg(z.acos(o)),0>s&&(e.rotate=360-e.rotate)):e.rotate=n.deg(z.asin(s)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[j]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:P)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:P)+(t.rotate?"r"+[t.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Ht=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);x.safari="Apple Computer, Inc."==navigator.vendor&&(Ht&&Ht[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Ht&&Ht[1]<8?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:ht;for(var Ut=function(){this.returnValue=!1},qt=function(){return this.originalEvent.preventDefault()},Gt=function(){this.cancelBubble=!0},Wt=function(){return this.originalEvent.stopPropagation()},Vt=function(e){var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,n=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},Yt=function(){return S.doc.addEventListener?function(e,t,n,i){var r=function(e){var t=Vt(e);return n.call(i,e,t.x,t.y)};if(e.addEventListener(t,r,!1),E&&N[t]){var s=function(t){for(var r=Vt(t),s=t,o=0,a=t.targetTouches&&t.targetTouches.length;a>o;o++)if(t.targetTouches[o].target==e){t=t.targetTouches[o],t.originalEvent=s,t.preventDefault=qt,t.stopPropagation=Wt;break}return n.call(i,t,r.x,r.y)};e.addEventListener(N[t],s,!1)}return function(){return e.removeEventListener(t,r,!1),E&&N[t]&&e.removeEventListener(N[t],s,!1),!0}}:S.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||S.win.event;var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=e.clientX+r,o=e.clientY+t;return e.preventDefault=e.preventDefault||Ut,e.stopPropagation=e.stopPropagation||Gt,n.call(i,e,s,o)};e.attachEvent("on"+t,r);var s=function(){return e.detachEvent("on"+t,r),!0};return s}:void 0}(),Jt=[],Xt=function(e){for(var n,i=e.clientX,r=e.clientY,s=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,o=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=Jt.length;a--;){if(n=Jt[a],E&&e.touches){for(var l,c=e.touches.length;c--;)if(l=e.touches[c],l.identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d,u=n.el.node,h=u.nextSibling,p=u.parentNode,f=u.style.display;S.win.opera&&p.removeChild(u),u.style.display="none",d=n.el.paper.getElementByPoint(i,r),u.style.display=f,S.win.opera&&(h?p.insertBefore(u,h):p.appendChild(u)),d&&t("raphael.drag.over."+n.el.id,n.el,d),i+=o,r+=s,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},Kt=function(e){n.unmousemove(Xt).unmouseup(Kt);for(var i,r=Jt.length;r--;)i=Jt[r],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,e);Jt=[]},Qt=n.el={},Zt=$.length;Zt--;)!function(e){n[e]=Qt[e]=function(t,i){return n.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Yt(this.shape||this.node||S.doc,e,t,i||this)})),this},n["un"+e]=Qt["un"+e]=function(t){for(var i=this.events||[],r=i.length;r--;)i[r].name!=e||!n.is(t,"undefined")&&i[r].f!=t||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}($[Zt]);Qt.data=function(e,i){var r=dt[this.id]=dt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(n.is(e,"object")){for(var s in e)e[T](s)&&this.data(s,e[s]);return this}return t("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=i,t("raphael.data.set."+this.id,this,i,e),this},Qt.removeData=function(e){return null==e?dt[this.id]={}:dt[this.id]&&delete dt[this.id][e],this},Qt.getData=function(){return i(dt[this.id]||{})},Qt.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},Qt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var en=[];Qt.drag=function(e,i,r,s,o,a){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,d=l.clientY,u=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,h=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=l.identifier,E&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){c=p.clientX,d=p.clientY;break}this._drag.x=c+h,this._drag.y=d+u,!Jt.length&&n.mousemove(Xt).mouseup(Kt),Jt.push({el:this,move_scope:s,start_scope:o,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),e&&t.on("raphael.drag.move."+this.id,e),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,o||s||this,l.clientX+h,l.clientY+u,l)}return this._drag={},en.push({el:this,start:l}),this.mousedown(l),this},Qt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Qt.undrag=function(){for(var e=en.length;e--;)en[e].el==this&&(this.unmousedown(en[e].start),en.splice(e,1),t.unbind("raphael.drag.*."+this.id));!en.length&&n.unmousemove(Xt).unmouseup(Kt),Jt=[]},x.circle=function(e,t,i){var r=n._engine.circle(this,e||0,t||0,i||0);return this.__set__&&this.__set__.push(r),r},x.rect=function(e,t,i,r,s){var o=n._engine.rect(this,e||0,t||0,i||0,r||0,s||0);return this.__set__&&this.__set__.push(o),o},x.ellipse=function(e,t,i,r){var s=n._engine.ellipse(this,e||0,t||0,i||0,r||0);return this.__set__&&this.__set__.push(s),s},x.path=function(e){e&&!n.is(e,W)&&!n.is(e[0],V)&&(e+=P);var t=n._engine.path(n.format[M](n,arguments),this);return this.__set__&&this.__set__.push(t),t},x.image=function(e,t,i,r,s){var o=n._engine.image(this,e||"about:blank",t||0,i||0,r||0,s||0);return this.__set__&&this.__set__.push(o),o},x.text=function(e,t,i){var r=n._engine.text(this,e||0,t||0,F(i));return this.__set__&&this.__set__.push(r),r},x.set=function(e){!n.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new pn(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},x.setStart=function(e){this.__set__=e||this.set()},x.setFinish=function(){var e=this.__set__;return delete this.__set__,e},x.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},x.setSize=function(e,t){return n._engine.setSize.call(this,e,t)},x.setViewBox=function(e,t,i,r,s){return n._engine.setViewBox.call(this,e,t,i,r,s)},x.top=x.bottom=null,x.raphael=n;var tn=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,s=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0,a=t.top+(S.win.pageYOffset||r.scrollTop||i.scrollTop)-s,l=t.left+(S.win.pageXOffset||r.scrollLeft||i.scrollLeft)-o;return{y:a,x:l}};x.getElementByPoint=function(e,t){var n=this,i=n.canvas,r=S.doc.elementFromPoint(e,t);if(S.win.opera&&"svg"==r.tagName){var s=tn(i),o=i.createSVGRect();o.x=e-s.x,o.y=t-s.y,o.width=o.height=1;var a=i.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r=r&&r.raphael?n.getById(r.raphaelid):null},x.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(i){n.isBBoxIntersect(i.getBBox(),e)&&t.push(i)}),t},x.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},x.forEach=function(e,t){for(var n=this.bottom;n;){if(e.call(t,n)===!1)return this;n=n.next}return this},x.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(i){i.isPointInside(e,t)&&n.push(i)}),n},Qt.isPointInside=function(e,t){var i=this.realPath=gt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=n.transformPath(i,this.attr("transform"))),n.isPointInsidePath(i,e,t)},Qt.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=gt[this.type](this),t.bboxwt=It(this.realPath),t.bboxwt.toString=m,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=gt[this.type](this)),t.bbox=It(vt(this.realPath,this.matrix)),t.bbox.toString=m,t.dirty=t.dirtyT=0),t.bbox)},Qt.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Qt.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,i=this.paper,r=i.set(),s=this.realPath||gt[this.type](this);s=this.matrix?vt(s,this.matrix):s;for(var o=1;n+1>o;o++)r.push(i.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*o).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var nn=function(e,t,i,r,s,o,a,l,u){return null==u?c(e,t,i,r,s,o,a,l):n.findDotsAtSegment(e,t,i,r,s,o,a,l,d(e,t,i,r,s,o,a,l,u))},rn=function(e,t){return function(i,r,s){i=$t(i);for(var o,a,l,c,d,u="",h={},p=0,f=0,m=i.length;m>f;f++){if(l=i[f],"M"==l[0])o=+l[1],a=+l[2];else{if(c=nn(o,a,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>r){if(t&&!h.start){if(d=nn(o,a,l[1],l[2],l[3],l[4],l[5],l[6],r-p),u+=["C"+d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y],s)return u;h.start=u,u=["M"+d.x,d.y+"C"+d.n.x,d.n.y,d.end.x,d.end.y,l[5],l[6]].join(),p+=c,o=+l[5],a=+l[6];continue}if(!e&&!t)return d=nn(o,a,l[1],l[2],l[3],l[4],l[5],l[6],r-p),{x:d.x,y:d.y,alpha:d.alpha}}p+=c,o=+l[5],a=+l[6]}u+=l.shift()+l}return h.end=u,d=e?p:t?h:n.findDotsAtSegment(o,a,l[0],l[1],l[2],l[3],l[4],l[5],1),d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha}),d}},sn=rn(1),on=rn(),an=rn(0,1);n.getTotalLength=sn,n.getPointAtLength=on,n.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return an(e,t).end;var i=an(e,n,1);return t?an(i,t).end:i},Qt.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():sn(e)},Qt.getPointAtLength=function(e){var t=this.getPath();if(t)return on(t,e)},Qt.getPath=function(){var e,t=n._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(e=t(this)),e},Qt.getSubpath=function(e,t){var i=this.getPath();if(i)return n.getSubpath(i,e,t)};var ln=n.easing_formulas={linear:function(e){return e},"<":function(e){return U(e,1.7)},">":function(e){return U(e,.48)},"<>":function(e){var t=.48-e/1.04,n=z.sqrt(.1734+t*t),i=n-t,r=U(H(i),1/3)*(0>i?-1:1),s=-n-t,o=U(H(s),1/3)*(0>s?-1:1),a=r+o+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:U(2,-10*e)*z.sin(2*(e-.075)*q/.3)+1},bounce:function(e){var t,n=7.5625,i=2.75;return 1/i>e?t=n*e*e:2/i>e?(e-=1.5/i,t=n*e*e+.75):2.5/i>e?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t}};ln.easeIn=ln["ease-in"]=ln["<"],ln.easeOut=ln["ease-out"]=ln[">"],ln.easeInOut=ln["ease-in-out"]=ln["<>"],ln["back-in"]=ln.backIn,ln["back-out"]=ln.backOut;var cn=[],dn=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},un=function(){for(var e=+new Date,i=0;i<cn.length;i++){var r=cn[i];if(!r.el.removed&&!r.paused){var s,o,a=e-r.start,l=r.ms,c=r.easing,d=r.from,u=r.diff,h=r.to,p=(r.t,r.el),f={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&cn.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(0>a))if(l>a){var g=c(a/l);for(var v in d)if(d[T](v)){switch(it[v]){case G:s=+d[v]+g*l*u[v];break;case"colour":s="rgb("+[hn(Q(d[v].r+g*l*u[v].r)),hn(Q(d[v].g+g*l*u[v].g)),hn(Q(d[v].b+g*l*u[v].b))].join(",")+")";break;case"path":s=[];for(var y=0,w=d[v].length;w>y;y++){s[y]=[d[v][y][0]];for(var x=1,_=d[v][y].length;_>x;x++)s[y][x]=+d[v][y][x]+g*l*u[v][y][x];s[y]=s[y].join(R)}s=s.join(R);break;case"transform":if(u[v].real)for(s=[],y=0,w=d[v].length;w>y;y++)for(s[y]=[d[v][y][0]],x=1,_=d[v][y].length;_>x;x++)s[y][x]=d[v][y][x]+g*l*u[v][y][x];else{var C=function(e){return+d[v][e]+g*l*u[v][e]};s=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==v)for(s=[],y=4;y--;)s[y]=+d[v][y]+g*l*u[v][y];break;default:var k=[][A](d[v]);for(s=[],y=p.paper.customAttributes[v].length;y--;)s[y]=+k[y]+g*l*u[v][y]}f[v]=s}p.attr(f),function(e,n,i){setTimeout(function(){t("raphael.anim.frame."+e,n,i)})}(p.id,p,r.anim)}else{if(function(e,i,r){setTimeout(function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),n.is(e,"function")&&e.call(i)})}(r.callback,p,r.anim),p.attr(h),cn.splice(i--,1),r.repeat>1&&!r.next){for(o in h)h[T](o)&&(m[o]=r.totalOrigin[o]);r.el.attr(m),b(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&b(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}n.svg&&p&&p.paper&&p.paper.safari(),cn.length&&dn(un)},hn=function(e){return e>255?255:0>e?0:e};Qt.animateWith=function(e,t,i,r,s,o){var a=this;if(a.removed)return o&&o.call(a),a;var l=i instanceof v?i:n.animation(i,r,s,o);b(l,a,l.percents[0],null,a.attr());for(var c=0,d=cn.length;d>c;c++)if(cn[c].anim==t&&cn[c].el==e){cn[d-1].start=cn[c].start;break}return a},Qt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(e){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},v.prototype.repeat=function(e){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=z.floor(L(e,0))||1,t},n.animation=function(e,t,i,r){if(e instanceof v)return e;(n.is(i,"function")||!i)&&(r=r||i||null,i=null),e=Object(e),t=+t||0;var s,o,a={};for(o in e)e[T](o)&&Z(o)!=o&&Z(o)+"%"!=o&&(s=!0,a[o]=e[o]);if(s)return i&&(a.easing=i),r&&(a.callback=r),new v({100:a},t);if(r){var l=0;for(var c in e){var d=et(c);e[T](c)&&d>l&&(l=d)}l+="%",!e[l].callback&&(e[l].callback=r)}return new v(e,t)},Qt.animate=function(e,t,i,r){var s=this;if(s.removed)return r&&r.call(s),s;var o=e instanceof v?e:n.animation(e,t,i,r);return b(o,s,o.percents[0],null,s.attr()),s},Qt.setTime=function(e,t){return e&&null!=t&&this.status(e,B(t,e.ms)/e.ms),this},Qt.status=function(e,t){var n,i,r=[],s=0;if(null!=t)return b(e,this,-1,B(t,1)),this;for(n=cn.length;n>s;s++)if(i=cn[s],i.el.id==this.id&&(!e||i.anim==e)){if(e)return i.status;r.push({anim:i.anim,status:i.status})}return e?0:r},Qt.pause=function(e){for(var n=0;n<cn.length;n++)cn[n].el.id!=this.id||e&&cn[n].anim!=e||t("raphael.anim.pause."+this.id,this,cn[n].anim)!==!1&&(cn[n].paused=!0);return this},Qt.resume=function(e){for(var n=0;n<cn.length;n++)if(cn[n].el.id==this.id&&(!e||cn[n].anim==e)){var i=cn[n];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Qt.stop=function(e){for(var n=0;n<cn.length;n++)cn[n].el.id!=this.id||e&&cn[n].anim!=e||t("raphael.anim.stop."+this.id,this,cn[n].anim)!==!1&&cn.splice(n--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Qt.toString=function(){return"Raphaël’s object"};var pn=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;n>t;t++)!e[t]||e[t].constructor!=Qt.constructor&&e[t].constructor!=pn||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},fn=pn.prototype;fn.push=function(){for(var e,t,n=0,i=arguments.length;i>n;n++)e=arguments[n],!e||e.constructor!=Qt.constructor&&e.constructor!=pn||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},fn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},fn.forEach=function(e,t){for(var n=0,i=this.items.length;i>n;n++)if(e.call(t,this.items[n],n)===!1)return this;return this};for(var mn in Qt)Qt[T](mn)&&(fn[mn]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][M](n,t)})}}(mn));return fn.attr=function(e,t){if(e&&n.is(e,V)&&n.is(e[0],"object"))for(var i=0,r=e.length;r>i;i++)this.items[i].attr(e[i]);else for(var s=0,o=this.items.length;o>s;s++)this.items[s].attr(e,t);return this},fn.clear=function(){for(;this.length;)this.pop()},fn.splice=function(e,t){e=0>e?L(this.length+e,0):e,t=L(0,B(this.length-e,t));var n,i=[],r=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;t>n;n++)r.push(this[e+n]);for(;n<this.length-e;n++)i.push(this[e+n]);var o=s.length;for(n=0;n<o+i.length;n++)this.items[e+n]=this[e+n]=o>n?s[n]:i[n-o];for(n=this.items.length=this.length-=t-o;this[n];)delete this[n++];return new pn(r)},fn.exclude=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return this.splice(t,1),!0},fn.animate=function(e,t,i,r){(n.is(i,"function")||!i)&&(r=i||null);var s,o,a=this.items.length,l=a,c=this;if(!a)return this;r&&(o=function(){!--a&&r.call(c)}),i=n.is(i,W)?i:o;var d=n.animation(e,t,i,o);for(s=this.items[--l].animate(d);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,d,d),this.items[l]&&!this.items[l].removed||a--;return this},fn.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},fn.getBBox=function(){for(var e=[],t=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();e.push(s.x),t.push(s.y),n.push(s.x+s.width),i.push(s.y+s.height)}return e=B[M](0,e),t=B[M](0,t),n=L[M](0,n),i=L[M](0,i),{x:e,y:t,x2:n,y2:i,width:n-e,height:i-t}},fn.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;n>t;t++)e.push(this.items[t].clone());return e},fn.toString=function(){return"Raphaël‘s set"},fn.glow=function(e){var t=this.paper.set();return this.forEach(function(n){var i=n.glow(e);null!=i&&i.forEach(function(e){t.push(e)})}),t},fn.isPointInside=function(e,t){var n=!1;return this.forEach(function(i){return i.isPointInside(e,t)?(n=!0,!1):void 0}),n},n.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var i in e.face)e.face[T](i)&&(t.face[i]=e.face[i]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg){t.face["units-per-em"]=et(e.face["units-per-em"],10);for(var r in e.glyphs)if(e.glyphs[T](r)){var s=e.glyphs[r];if(t.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},s.k)for(var o in s.k)s[T](o)&&(t.glyphs[r].k[o]=s.k[o])}}return e},x.getFont=function(e,t,i,r){if(r=r||"normal",i=i||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,n.fonts){var s=n.fonts[e];if(!s){var o=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var a in n.fonts)if(n.fonts[T](a)&&o.test(a)){s=n.fonts[a];break}}var l;if(s)for(var c=0,d=s.length;d>c&&(l=s[c],l.face["font-weight"]!=t||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=r);c++);return l}},x.print=function(e,t,i,r,s,o,a,l){o=o||"middle",a=L(B(a||0,1),-1),l=L(B(l||1,3),1);var c,d=F(i)[j](P),u=0,h=0,p=P;if(n.is(r,"string")&&(r=this.getFont(r)),r){c=(s||16)/r.face["units-per-em"];for(var f=r.face.bbox[j](_),m=+f[0],g=f[3]-f[1],v=0,b=+f[1]+("baseline"==o?g+ +r.face.descent:g/2),y=0,w=d.length;w>y;y++){if("\n"==d[y])u=0,C=0,h=0,v+=g*l;else{var x=h&&r.glyphs[d[y-1]]||{},C=r.glyphs[d[y]];u+=h?(x.w||r.w)+(x.k&&x.k[d[y]]||0)+r.w*a:0,h=1}C&&C.d&&(p+=n.transformPath(C.d,["t",u*c,v*c,"s",c,c,m,b,"t",(e-m)/c,(t-b)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},x.add=function(e){if(n.is(e,"array"))for(var t,i=this.set(),r=0,s=e.length;s>r;r++)t=e[r]||{},C[T](t.type)&&i.push(this[t.type]().attr(t));return i},n.format=function(e,t){var i=n.is(t,V)?[0][A](t):arguments;return e&&n.is(e,W)&&i.length-1&&(e=e.replace(k,function(e,t){return null==i[++t]?P:i[t]})),e||P},n.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,i){var r=i;return n.replace(t,function(e,t,n,i,s){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&s&&(r=r()))}),r=(null==r||r==i?e:r)+""};return function(t,i){return String(t).replace(e,function(e,t){return n(e,t,i)})}}(),n.ninja=function(){return I.was?S.win.Raphael=I.is:delete Raphael,n},n.st=fn,t.on("raphael.DOMload",function(){w=!0}),function(e,t,i){function r(){/in/.test(e.readyState)?setTimeout(r,9):n.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,i=function(){e.removeEventListener(t,i,!1),e.readyState="complete"},!1),e.readyState="loading"),r()}(document,"DOMContentLoaded"),function(){if(n.svg){var e="hasOwnProperty",t=String,i=parseFloat,r=parseInt,s=Math,o=s.max,a=s.abs,l=s.pow,c=/[, ]+/,d=n.eve,u="",h=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};n.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(i,r){if(r){"string"==typeof i&&(i=g(i));for(var s in r)r[e](s)&&("xlink:"==s.substring(0,6)?i.setAttributeNS(p,s.substring(6),t(r[s])):i.setAttribute(s,t(r[s])))}else i=n._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,r){var c="linear",d=e.id+r,h=.5,p=.5,f=e.node,m=e.paper,v=f.style,b=n._g.doc.getElementById(d);if(!b){if(r=t(r).replace(n._radial_gradient,function(e,t,n){if(c="radial",t&&n){h=i(t),p=i(n);var r=2*(p>.5)-1;l(h-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(h-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return u}),r=r.split(/\s*\-\s*/),"linear"==c){var y=r.shift();if(y=-i(y),isNaN(y))return null;var w=[0,0,s.cos(n.rad(y)),s.sin(n.rad(y))],x=1/(o(a(w[2]),a(w[3]))||1);w[2]*=x,w[3]*=x,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var _=n._parseDots(r);if(!_)return null;if(d=d.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&d!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(c+"Gradient",{id:d}),e.gradient=b,g(b,"radial"==c?{fx:h,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var C=0,k=_.length;k>C;C++)b.appendChild(g("stop",{offset:_[C].offset?_[C].offset:C?"100%":"0%","stop-color":_[C].color||"#fff"}))}}return g(f,{fill:"url('"+document.location+"#"+d+"')",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},b=function(e){var t=e.getBBox(1);g(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(i,r,s){if("path"==i.type){for(var o,a,l,c,d,h=t(r).toLowerCase().split("-"),p=i.paper,v=s?"end":"start",b=i.node,y=i.attrs,w=y["stroke-width"],x=h.length,_="classic",C=3,k=3,T=5;x--;)switch(h[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=h[x];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==_?(C+=2,k+=2,T+=2,l=1,c=s?4:1,d={fill:"none",stroke:y.stroke}):(c=l=C/2,d={fill:y.stroke,stroke:"none"}),i._.arrows?s?(i._.arrows.endPath&&m[i._.arrows.endPath]--,i._.arrows.endMarker&&m[i._.arrows.endMarker]--):(i._.arrows.startPath&&m[i._.arrows.startPath]--,i._.arrows.startMarker&&m[i._.arrows.startMarker]--):i._.arrows={},"none"!=_){var S="raphael-marker-"+_,I="raphael-marker-"+v+_+C+k+"-obj"+i.id;n._g.doc.getElementById(S)?m[S]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[_],id:S})),m[S]=1);var D,M=n._g.doc.getElementById(I);M?(m[I]++,D=M.getElementsByTagName("use")[0]):(M=g(g("marker"),{id:I,markerHeight:k,markerWidth:C,orient:"auto",refX:c,refY:k/2}),D=g(g("use"),{"xlink:href":"#"+S,transform:(s?"rotate(180 "+C/2+" "+k/2+") ":u)+"scale("+C/T+","+k/T+")","stroke-width":(1/((C/T+k/T)/2)).toFixed(4)}),M.appendChild(D),p.defs.appendChild(M),m[I]=1),g(D,d);var A=l*("diamond"!=_&&"oval"!=_);s?(o=i._.arrows.startdx*w||0,a=n.getTotalLength(y.path)-A*w):(o=A*w,a=n.getTotalLength(y.path)-(i._.arrows.enddx*w||0)),d={},d["marker-"+v]="url(#"+I+")",(a||o)&&(d.d=n.getSubpath(y.path,o,a)),g(b,d),i._.arrows[v+"Path"]=S,i._.arrows[v+"Marker"]=I,i._.arrows[v+"dx"]=A,i._.arrows[v+"Type"]=_,i._.arrows[v+"String"]=r}else s?(o=i._.arrows.startdx*w||0,a=n.getTotalLength(y.path)-o):(o=0,a=n.getTotalLength(y.path)-(i._.arrows.enddx*w||0)),i._.arrows[v+"Path"]&&g(b,{d:n.getSubpath(y.path,o,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(d in m)if(m[e](d)&&!m[d]){var E=n._g.doc.getElementById(d);E&&E.parentNode.removeChild(E)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(e,n,i){if(n=w[t(n).toLowerCase()]){for(var r=e.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],a=n.length;a--;)o[a]=n[a]*r+(a%2?1:-1)*s;g(e.node,{"stroke-dasharray":o.join(",")})}},_=function(i,s){var l=i.node,d=i.attrs,h=l.style.visibility;l.style.visibility="hidden";for(var f in s)if(s[e](f)){if(!n._availableAttrs[e](f))continue;var m=s[f];switch(d[f]=m,f){case"blur":i.blur(m);break;case"title":var w=l.getElementsByTagName("title");if(w.length&&(w=w[0]))w.firstChild.nodeValue=m;else{w=g("title");var _=n._g.doc.createTextNode(m);w.appendChild(_),l.appendChild(w)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var T=g("a");C.insertBefore(T,l),T.appendChild(l),C=T}"target"==f?C.setAttributeNS(p,"show","blank"==m?"new":m):C.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":i.transform(m);break;case"arrow-start":y(i,m);break;case"arrow-end":y(i,m,1);break;case"clip-rect":var S=t(m).split(c);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var I=g("clipPath"),D=g("rect");I.id=n.createUUID(),g(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),I.appendChild(D),i.paper.defs.appendChild(I),g(l,{"clip-path":"url(#"+I.id+")"}),i.clip=D}if(!m){var M=l.getAttribute("clip-path");if(M){var A=n._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g,u));A&&A.parentNode.removeChild(A),g(l,{"clip-path":u}),delete i.clip}}break;case"path":"path"==i.type&&(g(l,{d:m?d.path=n._pathToAbsolute(m):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),i._.dirty=1,!d.fx)break;f="x",m=d.x;case"x":d.fx&&(m=-d.x-(d.width||0));case"rx":if("rx"==f&&"rect"==i.type)break;case"cx":l.setAttribute(f,m),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(f,m),i._.dirty=1,!d.fy)break;f="y",m=d.y;case"y":d.fy&&(m=-d.y-(d.height||0));case"ry":if("ry"==f&&"rect"==i.type)break;case"cy":l.setAttribute(f,m),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",m);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(m/=o(a(i._.sx),a(i._.sy))||1),l.setAttribute(f,m),d["stroke-dasharray"]&&x(i,d["stroke-dasharray"],s),i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1));break;case"stroke-dasharray":x(i,m,s);break;case"fill":var E=t(m).match(n._ISURL);if(E){I=g("pattern");var P=g("image");I.id=n.createUUID(),g(I,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(P,{x:0,y:0,"xlink:href":E[1]}),I.appendChild(P),function(e){n._preload(E[1],function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(P,{width:t,height:n}),i.paper.safari()})}(I),i.paper.defs.appendChild(I),g(l,{fill:"url(#"+I.id+")"}),i.pattern=I,i.pattern&&b(i);break}var R=n.getRGB(m);if(R.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=t(m).charAt())&&v(i,m)){if("opacity"in d||"fill-opacity"in d){var F=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(F){var j=F.getElementsByTagName("stop");g(j[j.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})}}d.gradient=m,d.fill="none";break}}else delete s.gradient,delete d.gradient,!n.is(d.opacity,"undefined")&&n.is(s.opacity,"undefined")&&g(l,{opacity:d.opacity}),!n.is(d["fill-opacity"],"undefined")&&n.is(s["fill-opacity"],"undefined")&&g(l,{"fill-opacity":d["fill-opacity"]});R[e]("opacity")&&g(l,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=n.getRGB(m),l.setAttribute(f,R.hex),"stroke"==f&&R[e]("opacity")&&g(l,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity}),"stroke"==f&&i._.arrows&&("startString"in i._.arrows&&y(i,i._.arrows.startString),"endString"in i._.arrows&&y(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=t(m).charAt())&&v(i,m);break;case"opacity":d.gradient&&!d[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(d.gradient){F=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),F&&(j=F.getElementsByTagName("stop"),g(j[j.length-1],{"stop-opacity":m}));
break}default:"font-size"==f&&(m=r(m,10)+"px");var $=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[$]=m,i._.dirty=1,l.setAttribute(f,m)}}k(i,s),l.style.visibility=h},C=1.2,k=function(i,s){if("text"==i.type&&(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var o=i.attrs,a=i.node,l=a.firstChild?r(n._g.doc.defaultView.getComputedStyle(a.firstChild,u).getPropertyValue("font-size"),10):10;if(s[e]("text")){for(o.text=s.text;a.firstChild;)a.removeChild(a.firstChild);for(var c,d=t(s.text).split("\n"),h=[],p=0,f=d.length;f>p;p++)c=g("tspan"),p&&g(c,{dy:l*C,x:o.x}),c.appendChild(n._g.doc.createTextNode(d[p])),a.appendChild(c),h[p]=c}else for(h=a.getElementsByTagName("tspan"),p=0,f=h.length;f>p;p++)p?g(h[p],{dy:l*C,x:o.x}):g(h[0],{dy:0});g(a,{x:o.x,y:o.y}),i._.dirty=1;var m=i._getBBox(),v=o.y-(m.y+m.height/2);v&&n.is(v,"finite")&&g(h[0],{dy:v})}},T=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},S=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=n._oid++,e.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},I=n.el;S.prototype=I,I.constructor=S,n._engine.path=function(e,t){var n=g("path");t.canvas&&t.canvas.appendChild(n);var i=new S(n,t);return i.type="path",_(i,{fill:"none",stroke:"#000",path:e}),i},I.rotate=function(e,n,r){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(n=i(e[1]),r=i(e[2])),e=i(e[0]),null==r&&(n=r),null==n||null==r){var s=this.getBBox(1);n=s.x+s.width/2,r=s.y+s.height/2}return this.transform(this._.transform.concat([["r",e,n,r]])),this},I.scale=function(e,n,r,s){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(n=i(e[1]),r=i(e[2]),s=i(e[3])),e=i(e[0]),null==n&&(n=e),null==s&&(r=s),null==r||null==s)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,n,r,s]])),this},I.translate=function(e,n){return this.removed?this:(e=t(e).split(c),e.length-1&&(n=i(e[1])),e=i(e[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",e,n]])),this)},I.transform=function(t){var i=this._;if(null==t)return i.transform;if(n._extractTransform(this,t),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},I.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},I.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},I.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),n._tear(this,t),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?n._removedFactory(i):null;this.removed=!0}},I._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var i={};try{i=this.node.getBBox()}catch(r){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(t.display="none")}return e&&this.hide(),i},I.attr=function(t,i){if(this.removed)return this;if(null==t){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&n.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var o=t.split(c),a={},l=0,u=o.length;u>l;l++)t=o[l],a[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return u-1?a:a[o[0]]}if(null==i&&n.is(t,"array")){for(a={},l=0,u=t.length;u>l;l++)a[t[l]]=this.attr(t[l]);return a}if(null!=i){var h={};h[t]=i}else null!=t&&n.is(t,"object")&&(h=t);for(var p in h)d("raphael.attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&h[e](p)&&n.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var m in f)f[e](m)&&(h[m]=f[m])}return _(this,h),this},I.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var t=this.paper;return t.top!=this&&n._tofront(this,t),this},I.toBack=function(){if(this.removed)return this;var e=T(this.node),t=e.parentNode;t.insertBefore(e,t.firstChild),n._toback(this,this.paper);this.paper;return this},I.insertAfter=function(e){if(this.removed||!e)return this;var t=T(this.node),i=T(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(t,i.nextSibling):i.parentNode.appendChild(t),n._insertafter(this,e,this.paper),this},I.insertBefore=function(e){if(this.removed||!e)return this;var t=T(this.node),i=T(e.node||e[0].node);return i.parentNode.insertBefore(t,i),n._insertbefore(this,e,this.paper),this},I.blur=function(e){var t=this;if(0!==+e){var i=g("filter"),r=g("feGaussianBlur");t.attrs.blur=e,i.id=n.createUUID(),g(r,{stdDeviation:+e||1.5}),i.appendChild(r),t.paper.defs.appendChild(i),t._blur=i,g(t.node,{filter:"url(#"+i.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},n._engine.circle=function(e,t,n,i){var r=g("circle");e.canvas&&e.canvas.appendChild(r);var s=new S(r,e);return s.attrs={cx:t,cy:n,r:i,fill:"none",stroke:"#000"},s.type="circle",g(r,s.attrs),s},n._engine.rect=function(e,t,n,i,r,s){var o=g("rect");e.canvas&&e.canvas.appendChild(o);var a=new S(o,e);return a.attrs={x:t,y:n,width:i,height:r,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",g(o,a.attrs),a},n._engine.ellipse=function(e,t,n,i,r){var s=g("ellipse");e.canvas&&e.canvas.appendChild(s);var o=new S(s,e);return o.attrs={cx:t,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",g(s,o.attrs),o},n._engine.image=function(e,t,n,i,r,s){var o=g("image");g(o,{x:n,y:i,width:r,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(o);var a=new S(o,e);return a.attrs={x:n,y:i,width:r,height:s,src:t},a.type="image",a},n._engine.text=function(e,t,i,r){var s=g("text");e.canvas&&e.canvas.appendChild(s);var o=new S(s,e);return o.attrs={x:t,y:i,"text-anchor":"middle",text:r,"font-family":n._availableAttrs["font-family"],"font-size":n._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",_(o,o.attrs),o},n._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var e=n._getContainer.apply(0,arguments),t=e&&e.container,i=e.x,r=e.y,s=e.width,o=e.height;if(!t)throw new Error("SVG container not found.");var a,l=g("svg"),c="overflow:hidden;";return i=i||0,r=r||0,s=s||512,o=o||342,g(l,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==t?(l.style.cssText=c+"position:absolute;left:"+i+"px;top:"+r+"px",n._g.doc.body.appendChild(l),a=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),t=new n._Paper,t.width=s,t.height=o,t.canvas=l,t.clear(),t._left=t._top=0,a&&(t.renderfix=function(){}),t.renderfix(),t},n._engine.setViewBox=function(e,t,n,i,r){d("raphael.setViewBox",this,this._viewBox,[e,t,n,i,r]);var s,a,l=this.getSize(),c=o(n/l.width,i/l.height),u=this.top,p=r?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(c=1),delete this._vbSize,s="0 0 "+this.width+h+this.height):(this._vbSize=c,s=e+h+t+h+n+h+i),g(this.canvas,{viewBox:s,preserveAspectRatio:p});c&&u;)a="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":a}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[e,t,n,i,!!r],this},n.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(i){e=t.createSVGMatrix()}var r=-e.e%1,s=-e.f%1;(r||s)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),s&&(this._top=(this._top+s)%1,n.top=this._top+"px"))},n.prototype.clear=function(){n.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(n._g.doc.createTextNode("Created with Raphaël "+n.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},n.prototype.remove=function(){d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null};var D=n.st;for(var M in I)I[e](M)&&!D[e](M)&&(D[M]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(M))}}(),function(){if(n.vml){var e="hasOwnProperty",t=String,i=parseFloat,r=Math,s=r.round,o=r.max,a=r.min,l=r.abs,c="fill",d=/[, ]+/,u=n.eve,h=" progid:DXImageTransform.Microsoft",p=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,b=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",w=21600,x={path:1,rect:1,image:1},_={circle:1,ellipse:1},C=function(e){var i=/[ahqstv]/gi,r=n._pathToAbsolute;if(t(e).match(i)&&(r=n._path2curve),i=/[clmz]/g,r==n._pathToAbsolute&&!t(e).match(i)){var o=t(e).replace(g,function(e,t,n){var i=[],r="m"==t.toLowerCase(),o=m[t];return n.replace(b,function(e){r&&2==i.length&&(o+=i+m["m"==t?"l":"L"],i=[]),i.push(s(e*w))}),o+i});return o}var a,l,c=r(e);o=[];for(var d=0,u=c.length;u>d;d++){a=c[d],l=c[d][0].toLowerCase(),"z"==l&&(l="x");for(var h=1,v=a.length;v>h;h++)l+=s(a[h]*w)+(h!=v-1?",":f);o.push(l)}return o.join(p)},k=function(e,t,i){var r=n.matrix();return r.rotate(-e,.5,.5),{dx:r.x(t,i),dy:r.y(t,i)}},T=function(e,t,n,i,r,s){var o=e._,a=e.matrix,d=o.fillpos,u=e.node,h=u.style,f=1,m="",g=w/t,v=w/n;if(h.visibility="hidden",t&&n){if(u.coordsize=l(g)+p+l(v),h.rotation=s*(0>t*n?-1:1),s){var b=k(s,i,r);i=b.dx,r=b.dy}if(0>t&&(m+="x"),0>n&&(m+=" y")&&(f=-1),h.flip=m,u.coordorigin=i*-g+p+r*-v,d||o.fillsize){var y=u.getElementsByTagName(c);y=y&&y[0],u.removeChild(y),d&&(b=k(s,a.x(d[0],d[1]),a.y(d[0],d[1])),y.position=b.dx*f+p+b.dy*f),o.fillsize&&(y.size=o.fillsize[0]*l(t)+p+o.fillsize[1]*l(n)),u.appendChild(y)}h.visibility="visible"}};n.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(e,n,i){for(var r=t(n).toLowerCase().split("-"),s=i?"end":"start",o=r.length,a="classic",l="medium",c="medium";o--;)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[o];break;case"wide":case"narrow":c=r[o];break;case"long":case"short":l=r[o]}var d=e.node.getElementsByTagName("stroke")[0];d[s+"arrow"]=a,d[s+"arrowlength"]=l,d[s+"arrowwidth"]=c},I=function(r,l){r.attrs=r.attrs||{};var u=r.node,h=r.attrs,m=u.style,g=x[r.type]&&(l.x!=h.x||l.y!=h.y||l.width!=h.width||l.height!=h.height||l.cx!=h.cx||l.cy!=h.cy||l.rx!=h.rx||l.ry!=h.ry||l.r!=h.r),v=_[r.type]&&(h.cx!=l.cx||h.cy!=l.cy||h.r!=l.r||h.rx!=l.rx||h.ry!=l.ry),b=r;for(var y in l)l[e](y)&&(h[y]=l[y]);if(g&&(h.path=n._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||g)&&(u.path=C(~t(h.path).toLowerCase().indexOf("r")?n._pathToAbsolute(h.path):h.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[h.x,h.y],r._.fillsize=[h.width,h.height],T(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var k=+h.cx,I=+h.cy,M=+h.rx||+h.r||0,A=+h.ry||+h.r||0;u.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-M)*w),s((I-A)*w),s((k+M)*w),s((I+A)*w),s(k*w)),r._.dirty=1}if("clip-rect"in l){var P=t(l["clip-rect"]).split(d);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var R=u.clipRect||n._g.doc.createElement("div"),F=R.style;F.clip=n.format("rect({1}px {2}px {3}px {0}px)",P),u.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=r.paper.width+"px",F.height=r.paper.height+"px",u.parentNode.insertBefore(R,u),R.appendChild(u),u.clipRect=R)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var j=r.textpath.style;l.font&&(j.font=l.font),l["font-family"]&&(j.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(j.fontSize=l["font-size"]),l["font-weight"]&&(j.fontWeight=l["font-weight"]),l["font-style"]&&(j.fontStyle=l["font-style"])}if("arrow-start"in l&&S(b,l["arrow-start"]),"arrow-end"in l&&S(b,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var $=u.getElementsByTagName(c),N=!1;if($=$&&$[0],!$&&(N=$=E(c)),"image"==r.type&&l.src&&($.src=l.src),l.fill&&($.on=!0),(null==$.on||"none"==l.fill||null===l.fill)&&($.on=!1),$.on&&l.fill){var O=t(l.fill).match(n._ISURL);if(O){$.parentNode==u&&u.removeChild($),$.rotate=!0,$.src=O[1],$.type="tile";var z=r.getBBox(1);$.position=z.x+p+z.y,r._.fillpos=[z.x,z.y],n._preload(O[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=n.getRGB(l.fill).hex,$.src=f,$.type="solid",n.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=t(l.fill).charAt())&&D(b,l.fill,$)&&(h.fill="none",h.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var L=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+n.getRGB(l.fill).o+1||2)-1);L=a(o(L,0),1),$.opacity=L,$.src&&($.color="none")}u.appendChild($);var B=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],H=!1;!B&&(H=B=E("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(B.on=!0),("none"==l.stroke||null===l.stroke||null==B.on||0==l.stroke||0==l["stroke-width"])&&(B.on=!1);var U=n.getRGB(l.stroke);B.on&&l.stroke&&(B.color=U.hex),L=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+U.o+1||2)-1);var q=.75*(i(l["stroke-width"])||1);if(L=a(o(L,0),1),null==l["stroke-width"]&&(q=h["stroke-width"]),l["stroke-width"]&&(B.weight=q),q&&1>q&&(L*=q)&&(B.weight=1),B.opacity=L,l["stroke-linejoin"]&&(B.joinstyle=l["stroke-linejoin"]||"miter"),B.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(B.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};B.dashstyle=G[e](l["stroke-dasharray"])?G[l["stroke-dasharray"]]:f}H&&u.appendChild(B)}if("text"==b.type){b.paper.canvas.style.display=f;var W=b.paper.span,V=100,Y=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);m=W.style,h.font&&(m.font=h.font),h["font-family"]&&(m.fontFamily=h["font-family"]),h["font-weight"]&&(m.fontWeight=h["font-weight"]),h["font-style"]&&(m.fontStyle=h["font-style"]),Y=i(h["font-size"]||Y&&Y[0])||10,m.fontSize=Y*V+"px",b.textpath.string&&(W.innerHTML=t(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var J=W.getBoundingClientRect();b.W=h.w=(J.right-J.left)/V,b.H=h.h=(J.bottom-J.top)/V,b.X=h.x,b.Y=h.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=n.format("m{0},{1}l{2},{1}",s(h.x*w),s(h.y*w),s(h.x*w)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Q=X.length;Q>K;K++)if(X[K]in l){b._.dirty=1;break}switch(h["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},D=function(e,s,o){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),l="linear",c=".5 .5";if(e.attrs.gradient=s,s=t(s).replace(n._radial_gradient,function(e,t,n){return l="radial",t&&n&&(t=i(t),n=i(n),a(t-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(t-.5,2))*(2*(n>.5)-1)+.5),c=t+p+n),f}),s=s.split(/\s*\-\s*/),"linear"==l){var d=s.shift();if(d=-i(d),isNaN(d))return null}var u=n._parseDots(s);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(o),o.on=!0,o.method="none",o.color=u[0].color,o.color2=u[u.length-1].color;for(var h=[],m=0,g=u.length;g>m;m++)u[m].offset&&h.push(u[m].offset+p+u[m].color);o.colors=h.length?h.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=c,o.angle=0):(o.type="gradient",o.angle=(270-d)%360),e.appendChild(o)}return 1},M=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=n._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},A=n.el;M.prototype=A,A.constructor=M,A.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,s=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(i=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||f)),n._extractTransform(this,s+e);var o,a=this.matrix.clone(),l=this.skew,c=this.node,d=~t(this.attrs.fill).indexOf("-"),u=!t(this.attrs.fill).indexOf("url(");if(a.translate(1,1),u||d||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=a.split(),d&&o.noRotation||!o.isSimple){c.style.filter=a.toFilter();var h=this.getBBox(),m=this.getBBox(1),g=h.x-m.x,v=h.y-m.y;c.coordorigin=g*-w+p+v*-w,T(this,1,1,g,v,0)}else c.style.filter=f,T(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else c.style.filter=f,l.matrix=t(a),l.offset=a.offset();return null!==i&&(this._.transform=i,n._extractTransform(this,i)),this},A.rotate=function(e,n,r){if(this.removed)return this;if(null!=e){if(e=t(e).split(d),e.length-1&&(n=i(e[1]),r=i(e[2])),e=i(e[0]),null==r&&(n=r),null==n||null==r){var s=this.getBBox(1);n=s.x+s.width/2,r=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,n,r]])),this}},A.translate=function(e,n){return this.removed?this:(e=t(e).split(d),e.length-1&&(n=i(e[1])),e=i(e[0])||0,n=+n||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=n),this.transform(this._.transform.concat([["t",e,n]])),this)},A.scale=function(e,n,r,s){if(this.removed)return this;if(e=t(e).split(d),e.length-1&&(n=i(e[1]),r=i(e[2]),s=i(e[3]),isNaN(r)&&(r=null),isNaN(s)&&(s=null)),e=i(e[0]),null==n&&(n=e),null==s&&(r=s),null==r||null==s)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,n,r,s]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=f),this},A.auxGetBBox=n.el.getBBox,A.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("raphael.*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null;this.removed=!0}},A.attr=function(t,i){if(this.removed)return this;if(null==t){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&n.is(t,"string")){if(t==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=t.split(d),a={},l=0,h=o.length;h>l;l++)t=o[l],a[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return h-1?a:a[o[0]]}if(this.attrs&&null==i&&n.is(t,"array")){for(a={},l=0,h=t.length;h>l;l++)a[t[l]]=this.attr(t[l]);return a}var p;null!=i&&(p={},p[t]=i),null==i&&n.is(t,"object")&&(p=t);for(var f in p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&n.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var g in m)m[e](g)&&(p[g]=m[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),I(this,p)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==n.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),n._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==n.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),n._insertbefore(this,e,this.paper),this)},A.blur=function(e){var t=this.node.runtimeStyle,i=t.filter;return i=i.replace(v,f),0!==+e?(this.attrs.blur=e,t.filter=i+p+h+".Blur(pixelradius="+(+e||1.5)+")",t.margin=n.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(t.filter=i,t.margin=0,delete this.attrs.blur),this},n._engine.path=function(e,t){var n=E("shape");n.style.cssText=y,n.coordsize=w+p+w,n.coordorigin=t.coordorigin;var i=new M(n,t),r={fill:"none",stroke:"#000"};e&&(r.path=e),i.type="path",i.path=[],i.Path=f,I(i,r),t.canvas.appendChild(n);var s=E("skew");return s.on=!0,n.appendChild(s),i.skew=s,i.transform(f),i},n._engine.rect=function(e,t,i,r,s,o){var a=n._rectPath(t,i,r,s,o),l=e.path(a),c=l.attrs;return l.X=c.x=t,l.Y=c.y=i,l.W=c.width=r,l.H=c.height=s,c.r=o,c.path=a,l.type="rect",l},n._engine.ellipse=function(e,t,n,i,r){{var s=e.path();s.attrs}return s.X=t-i,s.Y=n-r,s.W=2*i,s.H=2*r,s.type="ellipse",I(s,{cx:t,cy:n,rx:i,ry:r}),s},n._engine.circle=function(e,t,n,i){{var r=e.path();r.attrs}return r.X=t-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",I(r,{cx:t,cy:n,r:i}),r},n._engine.image=function(e,t,i,r,s,o){var a=n._rectPath(i,r,s,o),l=e.path(a).attr({stroke:"none"}),d=l.attrs,u=l.node,h=u.getElementsByTagName(c)[0];return d.src=t,l.X=d.x=i,l.Y=d.y=r,l.W=d.width=s,l.H=d.height=o,d.path=a,l.type="image",h.parentNode==u&&u.removeChild(h),h.rotate=!0,h.src=t,h.type="tile",l._.fillpos=[i,r],l._.fillsize=[s,o],u.appendChild(h),T(l,1,1,0,0,0),l},n._engine.text=function(e,i,r,o){var a=E("shape"),l=E("path"),c=E("textpath");i=i||0,r=r||0,o=o||"",l.v=n.format("m{0},{1}l{2},{1}",s(i*w),s(r*w),s(i*w)+1),l.textpathok=!0,c.string=t(o),c.on=!0,a.style.cssText=y,a.coordsize=w+p+w,a.coordorigin="0 0";var d=new M(a,e),u={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:o};d.shape=a,d.path=l,d.textpath=c,d.type="text",d.attrs.text=t(o),d.attrs.x=i,d.attrs.y=r,d.attrs.w=1,d.attrs.h=1,I(d,u),a.appendChild(c),a.appendChild(l),e.canvas.appendChild(a);var h=E("skew");return h.on=!0,a.appendChild(h),d.skew=h,d.transform(f),d},n._engine.setSize=function(e,t){var i=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),i.width=e,i.height=t,i.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(e,t,i,r,s){n.eve("raphael.setViewBox",this,this._viewBox,[e,t,i,r,s]);var o,a,l=this.getSize(),c=l.width,d=l.height;return s&&(o=d/r,a=c/i,c>i*o&&(e-=(c-i*o)/2/o),d>r*a&&(t-=(d-r*a)/2/a)),this._viewBox=[e,t,i,r,!!s],this._viewBoxShift={dx:-e,dy:-t,scale:l},this.forEach(function(e){e.transform("...")}),this};var E;n._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){E=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var e=n._getContainer.apply(0,arguments),t=e.container,i=e.height,r=e.width,s=e.x,o=e.y;if(!t)throw new Error("VML container not found.");var a=new n._Paper,l=a.canvas=n._g.doc.createElement("div"),c=l.style;return s=s||0,o=o||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=1e3*w+p+1e3*w,a.coordorigin="0 0",a.span=n._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),c.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==t?(n._g.doc.body.appendChild(l),c.left=s+"px",c.top=o+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),a.renderfix=function(){},a},n.prototype.clear=function(){n.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){n.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null;return!0};var P=n.st;for(var R in A)A[e](R)&&!P[e](R)&&(P[R]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(R))}}(),I.was?S.win.Raphael=n:Raphael=n,"object"==typeof exports&&(module.exports=n),n}),function(e){define("morris",["jquery","raphael"],function(){return function(){(function(){var e,t,n,i,r=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=window.Morris={},e=jQuery,t.EventEmitter=function(){function e(){}return e.prototype.on=function(e,t){return null==this.handlers&&(this.handlers={}),null==this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this},e.prototype.fire=function(){var e,t,n,i,s,o,a;if(n=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[n]){for(o=this.handlers[n],a=[],i=0,s=o.length;s>i;i++)t=o[i],a.push(t.apply(null,e));return a}},e}(),t.commas=function(e){var t,n,i,r;return null!=e?(i=0>e?"-":"",t=Math.abs(e),n=Math.floor(t).toFixed(0),i+=n.replace(/(?=(?:\d{3})+$)(?!^)/g,","),r=t.toString(),r.length>n.length&&(i+=r.slice(n.length)),i):"-"},t.pad2=function(e){return(10>e?"0":"")+e},t.Grid=function(n){function i(t){this.resizeHandler=s(this.resizeHandler,this);var n=this;if(this.el=e("string"==typeof t.element?document.getElementById(t.element):t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=e.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(e){var t,i,r,s,o;return i=n.el.offset(),o=e.pageX-i.left,n.selectFrom?(t=n.data[n.hitTest(Math.min(o,n.selectFrom))]._x,r=n.data[n.hitTest(Math.max(o,n.selectFrom))]._x,s=r-t,n.selectionRect.attr({x:t,width:s})):n.fire("hovermove",o,e.pageY-i.top)}),this.el.bind("mouseleave",function(){return n.selectFrom&&(n.selectionRect.hide(),n.selectFrom=null),n.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(e){var t,i;return i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],t=n.el.offset(),n.fire("hovermove",i.pageX-t.left,i.pageY-t.top)}),this.el.bind("click",function(e){var t;return t=n.el.offset(),n.fire("gridclick",e.pageX-t.left,e.pageY-t.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(e){var t;return t=n.el.offset(),n.startRange(e.pageX-t.left)}),this.el.bind("mouseup",function(e){var t;return t=n.el.offset(),n.endRange(e.pageX-t.left),n.fire("hovermove",e.pageX-t.left,e.pageY-t.top)})),this.options.resize&&e(window).bind("resize",function(){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(i,n),i.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},i.prototype.setData=function(e,n){var i,r,s,o,a,l,c,d,u,h,p,f,m,g,v;return null==n&&(n=!0),this.options.data=e,null==e||0===e.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(f=this.cumulative?0:null,m=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),o=Math.max.apply(Math,this.options.goals),m=null!=m?Math.min(m,a):a,f=null!=f?Math.max(f,o):o),this.data=function(){var n,i,o;for(o=[],s=n=0,i=e.length;i>n;s=++n)c=e[s],l={src:c},l.label=c[this.options.xkey],this.options.parseTime?(l.x=t.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=s,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),u=0,l.y=function(){var e,t,n,i;for(n=this.options.ykeys,i=[],r=e=0,t=n.length;t>e;r=++e)p=n[r],g=c[p],"string"==typeof g&&(g=parseFloat(g)),null!=g&&"number"!=typeof g&&(g=null),null!=g&&(this.cumulative?u+=g:null!=f?(f=Math.max(g,f),m=Math.min(g,m)):f=m=g),this.cumulative&&null!=u&&(f=Math.max(u,f),m=Math.min(u,m)),i.push(g);
return i}.call(this),o.push(l);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(e,t){return(e.x>t.x)-(t.x>e.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var e,n,r,s;for(r=this.options.events,s=[],e=0,n=r.length;n>e;e++)i=r[e],s.push(t.parseDate(i));return s}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",m),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(m&&(this.ymin-=1),this.ymax+=1),((v=this.options.axes)===!0||"both"===v||"y"===v||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(d=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var e,t,n,i;for(i=[],h=e=t=this.ymin,n=this.ymax;d>0?n>=e:e>=n;h=e+=d)i.push(h);return i}.call(this))),this.dirty=!0,n?this.redraw():void 0)},i.prototype.yboundary=function(e,t){var n,i;return n=this.options["y"+e],"string"==typeof n?"auto"===n.slice(0,4)?n.length>5?(i=parseInt(n.slice(5),10),null==t?i:Math[e](t,i)):null!=t?t:0:parseInt(n,10):n},i.prototype.autoGridLines=function(e,t,n){var i,r,s,o,a,l,c,d,u;return a=t-e,u=Math.floor(Math.log(a)/Math.log(10)),c=Math.pow(10,u),r=Math.floor(e/c)*c,i=Math.ceil(t/c)*c,l=(i-r)/(n-1),1===c&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),i=r+l*(n-1)),0>r&&i>0&&(r=Math.floor(e/l)*l,i=Math.ceil(t/l)*l),1>l?(o=Math.floor(Math.log(l)/Math.log(10)),s=function(){var e,t;for(t=[],d=e=r;l>0?i>=e:e>=i;d=e+=l)t.push(parseFloat(d.toFixed(1-o)));return t}()):s=function(){var e,t;for(t=[],d=e=r;l>0?i>=e:e>=i;d=e+=l)t.push(d);return t}(),s},i.prototype._calc=function(){var e,t,n,i,r,s,o,a;return r=this.el.width(),n=this.el.height(),(this.elementWidth!==r||this.elementHeight!==n||this.dirty)&&(this.elementWidth=r,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((o=this.options.axes)===!0||"both"===o||"y"===o)&&(s=function(){var e,n,i,r;for(i=this.grid,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(this.measureText(this.yAxisFormat(t)).width);return r}.call(this),this.left+=Math.max.apply(Math,s)),((a=this.options.axes)===!0||"both"===a||"x"===a)&&(e=function(){var e,t,n;for(n=[],i=e=0,t=this.data.length;t>=0?t>e:e>t;i=t>=0?++e:--e)n.push(this.measureText(this.data[i].text,-this.options.xLabelAngle).height);return n}.call(this),this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},i.prototype.transY=function(e){return this.bottom-(e-this.ymin)*this.dy},i.prototype.transX=function(e){return 1===this.data.length?(this.left+this.right)/2:this.left+(e-this.xmin)*this.dx},i.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},i.prototype.measureText=function(e,t){var n,i;return null==t&&(t=0),i=this.raphael.text(100,100,e).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),n=i.getBBox(),i.remove(),n},i.prototype.yAxisFormat=function(e){return this.yLabelFormat(e)},i.prototype.yLabelFormat=function(e){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(e):""+this.options.preUnits+t.commas(e)+this.options.postUnits},i.prototype.drawGrid=function(){var e,t,n,i,r,s,o,a;if(this.options.grid!==!1||(r=this.options.axes)===!0||"both"===r||"y"===r){for(s=this.grid,a=[],n=0,i=s.length;i>n;n++)e=s[n],t=this.transY(e),((o=this.options.axes)===!0||"both"===o||"y"===o)&&this.drawYAxisLabel(this.left-this.options.padding/2,t,this.yAxisFormat(e)),a.push(this.options.grid?this.drawGridLine("M"+this.left+","+t+"H"+(this.left+this.width)):void 0);return a}},i.prototype.drawGoals=function(){var e,t,n,i,r,s,o;for(s=this.options.goals,o=[],n=i=0,r=s.length;r>i;n=++i)t=s[n],e=this.options.goalLineColors[n%this.options.goalLineColors.length],o.push(this.drawGoal(t,e));return o},i.prototype.drawEvents=function(){var e,t,n,i,r,s,o;for(s=this.events,o=[],n=i=0,r=s.length;r>i;n=++i)t=s[n],e=this.options.eventLineColors[n%this.options.eventLineColors.length],o.push(this.drawEvent(t,e));return o},i.prototype.drawGoal=function(e,t){return this.raphael.path("M"+this.left+","+this.transY(e)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},i.prototype.drawEvent=function(e,t){return this.raphael.path("M"+this.transX(e)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},i.prototype.drawYAxisLabel=function(e,t,n){return this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},i.prototype.drawGridLine=function(e){return this.raphael.path(e).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},i.prototype.startRange=function(e){return this.hover.hide(),this.selectFrom=e,this.selectionRect.attr({x:e,width:0}).show()},i.prototype.endRange=function(e){var t,n;return this.selectFrom?(n=Math.min(this.selectFrom,e),t=Math.max(this.selectFrom,e),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null):void 0},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(t.EventEmitter),t.parseDate=function(e){var t,n,i,r,s,o,a,l,c,d,u;return"number"==typeof e?e:(n=e.match(/^(\d+) Q(\d)$/),r=e.match(/^(\d+)-(\d+)$/),s=e.match(/^(\d+)-(\d+)-(\d+)$/),a=e.match(/^(\d+) W(\d+)$/),l=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():a?(d=new Date(parseInt(a[1],10),0,1),4!==d.getDay()&&d.setMonth(0,1+(4-d.getDay()+7)%7),d.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(u=parseFloat(c[6]),t=Math.floor(u),i=Math.round(1e3*(u-t)),c[8]?(o=0,"Z"!==c[8]&&(o=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(o=0-o)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+o,t,i)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),t,i).getTime()):new Date(parseInt(e,10),0,1).getTime())},t.Hover=function(){function n(n){null==n&&(n={}),this.options=e.extend({},t.Hover.defaults,n),this.el=e("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return n.defaults={"class":"morris-hover morris-default-style"},n.prototype.update=function(e,t,n){return e?(this.html(e),this.show(),this.moveTo(t,n)):this.hide()},n.prototype.html=function(e){return this.el.html(e)},n.prototype.moveTo=function(e,t){var n,i,r,s,o,a;return o=this.options.parent.innerWidth(),s=this.options.parent.innerHeight(),i=this.el.outerWidth(),n=this.el.outerHeight(),r=Math.min(Math.max(0,e-i/2),o-i),null!=t?(a=t-n-10,0>a&&(a=t+10,a+n>s&&(a=s/2-n/2))):a=s/2-n/2,this.el.css({left:r+"px",top:parseInt(a)+"px"})},n.prototype.show=function(){return this.el.show()},n.prototype.hide=function(){return this.el.hide()},n}(),t.Line=function(e){function n(e){return this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof t.Line?void n.__super__.constructor.call(this,e):new t.Line(e)}return a(n,e),n.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var e,t,n,i,r,s;for(r=this.data,s=[],n=0,i=r.length;i>n;n++)e=r[n],e._x=this.transX(e.x),e._y=function(){var n,i,r,s;for(r=e.y,s=[],n=0,i=r.length;i>n;n++)t=r[n],s.push(null!=t?this.transY(t):t);return s}.call(this),s.push(e._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,i,r,s;for(r=e._y,s=[],n=0,i=r.length;i>n;n++)t=r[n],null!=t&&s.push(t);return s}())));return s},n.prototype.hitTest=function(e){var t,n,i,r,s;if(0===this.data.length)return null;for(s=this.data.slice(1),t=i=0,r=s.length;r>i&&(n=s[t],!(e<(n._x+this.data[t]._x)/2));t=++i);return t},n.prototype.onGridClick=function(e,t){var n;return n=this.hitTest(e),this.fire("click",n,this.data[n].src,e,t)},n.prototype.onHoverMove=function(e){var t;return t=this.hitTest(e),this.displayHoverForRow(t)},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},n.prototype.displayHoverForRow=function(e){var t;return null!=e?((t=this.hover).update.apply(t,this.hoverContentForRow(e)),this.hilight(e)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(e){var t,n,i,r,s,o,a;for(i=this.data[e],t="<div class='morris-hover-row-label'>"+i.label+"</div>",a=i.y,n=s=0,o=a.length;o>s;n=++s)r=a[n],t+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t,i.src)),[t,i._x,i._ymax]},n.prototype.generatePaths=function(){var e,n,i,r;return this.paths=function(){var s,o,a,c;for(c=[],n=s=0,o=this.options.ykeys.length;o>=0?o>s:s>o;n=o>=0?++s:--s)r="boolean"==typeof this.options.smooth?this.options.smooth:(a=this.options.ykeys[n],l.call(this.options.smooth,a)>=0),e=function(){var e,t,r,s;for(r=this.data,s=[],e=0,t=r.length;t>e;e++)i=r[e],void 0!==i._y[n]&&s.push({x:i._x,y:i._y[n]});return s}.call(this),c.push(e.length>1?t.Line.createPath(e,r,this.bottom):null);return c}.call(this)},n.prototype.draw=function(){var e;return((e=this.options.axes)===!0||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},n.prototype.drawXAxis=function(){var e,n,i,r,s,o,a,l,c,d,u=this;for(a=this.bottom+this.options.padding/2,s=null,r=null,e=function(e,t){var n,i,o,l,c;return n=u.drawXAxisLabel(u.transX(t),a,e),c=n.getBBox(),n.transform("r"+-u.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*c.width*Math.cos(u.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),i=n.getBBox(),(null==s||s>=i.x+i.width||null!=r&&r>=i.x)&&i.x>=0&&i.x+i.width<u.el.width()?(0!==u.options.xLabelAngle&&(o=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),r=i.x-o),s=i.x-u.options.xLabelMargin):n.remove()},i=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:t.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var e,t,n,i;for(n=this.data,i=[],e=0,t=n.length;t>e;e++)o=n[e],i.push([o.label,o.x]);return i}.call(this),i.reverse(),d=[],l=0,c=i.length;c>l;l++)n=i[l],d.push(e(n[0],n[1]));return d},n.prototype.drawSeries=function(){var e,t,n,i,r,s;for(this.seriesPoints=[],e=t=i=this.options.ykeys.length-1;0>=i?0>=t:t>=0;e=0>=i?++t:--t)this._drawLineFor(e);for(s=[],e=n=r=this.options.ykeys.length-1;0>=r?0>=n:n>=0;e=0>=r?++n:--n)s.push(this._drawPointFor(e));return s},n.prototype._drawPointFor=function(e){var t,n,i,r,s,o;for(this.seriesPoints[e]=[],s=this.data,o=[],i=0,r=s.length;r>i;i++)n=s[i],t=null,null!=n._y[e]&&(t=this.drawLinePoint(n._x,n._y[e],this.colorFor(n,e,"point"),e)),o.push(this.seriesPoints[e].push(t));return o},n.prototype._drawLineFor=function(e){var t;return t=this.paths[e],null!==t?this.drawLinePath(t,this.colorFor(null,e,"line"),e):void 0},n.createPath=function(e,n,i){var r,s,o,a,l,c,d,u,h,p,f,m,g,v;for(d="",n&&(o=t.Line.gradients(e)),u={y:null},a=g=0,v=e.length;v>g;a=++g)r=e[a],null!=r.y&&(null!=u.y?n?(s=o[a],c=o[a-1],l=(r.x-u.x)/4,h=u.x+l,f=Math.min(i,u.y+l*c),p=r.x-l,m=Math.min(i,r.y-l*s),d+="C"+h+","+f+","+p+","+m+","+r.x+","+r.y):d+="L"+r.x+","+r.y:n&&null==o[a]||(d+="M"+r.x+","+r.y)),u=r;return d},n.gradients=function(e){var t,n,i,r,s,o,a,l;for(n=function(e,t){return(e.y-t.y)/(e.x-t.x)},l=[],i=o=0,a=e.length;a>o;i=++o)t=e[i],null!=t.y?(r=e[i+1]||{y:null},s=e[i-1]||{y:null},l.push(null!=s.y&&null!=r.y?n(s,r):null!=s.y?n(s,t):null!=r.y?n(t,r):null)):l.push(null);return l},n.prototype.hilight=function(e){var t,n,i,r,s;if(null!==this.prevHilight&&this.prevHilight!==e)for(t=n=0,r=this.seriesPoints.length-1;r>=0?r>=n:n>=r;t=r>=0?++n:--n)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(null!==e&&this.prevHilight!==e)for(t=i=0,s=this.seriesPoints.length-1;s>=0?s>=i:i>=s;t=s>=0?++i:--i)this.seriesPoints[t][e]&&this.seriesPoints[t][e].animate(this.pointGrowSeries(t));return this.prevHilight=e},n.prototype.colorFor=function(e,t,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,e,t,n):"point"===n?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},n.prototype.drawXAxisLabel=function(e,t,n){return this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(e,t,n){return this.raphael.path(e).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(n))},n.prototype.drawLinePoint=function(e,t,n,i){return this.raphael.circle(e,t,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},n.prototype.pointStrokeWidthForSeries=function(e){return this.options.pointStrokeWidths[e%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(e){return this.options.pointStrokeColors[e%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(e){return this.options.lineWidth instanceof Array?this.options.lineWidth[e%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(e){return this.options.pointSize instanceof Array?this.options.pointSize[e%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(e){return Raphael.animation({r:this.pointSizeForSeries(e)+3},25,"linear")},n.prototype.pointShrinkSeries=function(e){return Raphael.animation({r:this.pointSizeForSeries(e)},25,"linear")},n}(t.Grid),t.labelSeries=function(n,i,r,s,o){var a,l,c,d,u,h,p,f,m,g,v;if(c=200*(i-n)/r,l=new Date(n),p=t.LABEL_SPECS[s],void 0===p)for(v=t.AUTO_LABEL_ORDER,m=0,g=v.length;g>m;m++)if(d=v[m],h=t.LABEL_SPECS[d],c>=h.span){p=h;break}for(void 0===p&&(p=t.LABEL_SPECS.second),o&&(p=e.extend({},p,{fmt:o})),a=p.start(l),u=[];(f=a.getTime())<=i;)f>=n&&u.push([p.fmt(a),f]),p.incr(a);return u},n=function(e){return{span:60*e*1e3,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},i=function(e){return{span:1e3*e,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())+":"+t.pad2(e.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},t.LABEL_SPECS={decade:{span:1728e8,start:function(e){return new Date(e.getFullYear()-e.getFullYear()%10,0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+10)}},year:{span:1728e7,start:function(e){return new Date(e.getFullYear(),0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+1)}},month:{span:24192e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)},incr:function(e){return e.setMonth(e.getMonth()+1)}},week:{span:6048e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+7)}},day:{span:864e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+1)}},hour:n(60),"30min":n(30),"15min":n(15),"10min":n(10),"5min":n(5),minute:n(1),"30sec":i(30),"15sec":i(15),"10sec":i(10),"5sec":i(5),second:i(1)},t.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],t.Area=function(n){function i(n){var s;return this instanceof t.Area?(s=e.extend({},r,n),this.cumulative=!s.behaveLikeLine,"auto"===s.fillOpacity&&(s.fillOpacity=s.behaveLikeLine?.8:1),void i.__super__.constructor.call(this,s)):new t.Area(n)}var r;return a(i,n),r={fillOpacity:"auto",behaveLikeLine:!1},i.prototype.calcPoints=function(){var e,t,n,i,r,s,o;for(s=this.data,o=[],i=0,r=s.length;r>i;i++)e=s[i],e._x=this.transX(e.x),t=0,e._y=function(){var i,r,s,o;for(s=e.y,o=[],i=0,r=s.length;r>i;i++)n=s[i],this.options.behaveLikeLine?o.push(this.transY(n)):(t+=n||0,o.push(this.transY(t)));return o}.call(this),o.push(e._ymax=Math.max.apply(Math,e._y));return o},i.prototype.drawSeries=function(){var e,t,n,i,r,s,o,a;for(this.seriesPoints=[],t=this.options.behaveLikeLine?function(){s=[];for(var e=0,t=this.options.ykeys.length-1;t>=0?t>=e:e>=t;t>=0?e++:e--)s.push(e);return s}.apply(this):function(){o=[];for(var e=r=this.options.ykeys.length-1;0>=r?0>=e:e>=0;0>=r?e++:e--)o.push(e);return o}.apply(this),a=[],n=0,i=t.length;i>n;n++)e=t[n],this._drawFillFor(e),this._drawLineFor(e),a.push(this._drawPointFor(e));return a},i.prototype._drawFillFor=function(e){var t;return t=this.paths[e],null!==t?(t+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(t,this.fillForSeries(e))):void 0},i.prototype.fillForSeries=function(e){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[e],e,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?.9*t.s:.75*t.s,Math.min(.98,this.options.behaveLikeLine?1.2*t.l:1.25*t.l))},i.prototype.drawFilledPath=function(e,t){return this.raphael.path(e).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},i}(t.Line),t.Bar=function(n){function i(n){return this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof t.Bar?void i.__super__.constructor.call(this,e.extend({},n,{parseTime:!1})):new t.Bar(n)}return a(i,n),i.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},i.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},i.prototype.calc=function(){var e;return this.calcBars(),this.options.hideHover===!1?(e=this.hover).update.apply(e,this.hoverContentForRow(this.data.length-1)):void 0},i.prototype.calcBars=function(){var e,t,n,i,r,s,o;for(s=this.data,o=[],e=i=0,r=s.length;r>i;e=++i)t=s[e],t._x=this.left+this.width*(e+.5)/this.data.length,o.push(t._y=function(){var e,i,r,s;for(r=t.y,s=[],e=0,i=r.length;i>e;e++)n=r[e],s.push(null!=n?this.transY(n):null);return s}.call(this));return o},i.prototype.draw=function(){var e;return((e=this.options.axes)===!0||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries()},i.prototype.drawXAxis=function(){var e,t,n,i,r,s,o,a,l,c,d,u,h;for(c=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),o=null,s=null,h=[],e=d=0,u=this.data.length;u>=0?u>d:d>u;e=u>=0?++d:--d)a=this.data[this.data.length-1-e],t=this.drawXAxisLabel(a._x,c,a.label),l=t.getBBox(),t.transform("r"+-this.options.xLabelAngle),n=t.getBBox(),t.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+r+",0...")),(null==o||o>=n.x+n.width||null!=s&&s>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(i=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),s=n.x-i),h.push(o=n.x-this.options.xLabelMargin)):h.push(t.remove());return h},i.prototype.drawSeries=function(){var e,t,n,i,r,s,o,a,l,c,d,u,h,p,f;return n=this.width/this.options.data.length,a=this.options.stacked?1:this.options.ykeys.length,e=(n*this.options.barSizeRatio-this.options.barGap*(a-1))/a,this.options.barSize&&(e=Math.min(e,this.options.barSize)),u=n-e*a-this.options.barGap*(a-1),o=u/2,f=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var a,u,m,g;for(m=this.data,g=[],i=a=0,u=m.length;u>a;i=++a)l=m[i],r=0,g.push(function(){var a,u,m,g;for(m=l._y,g=[],c=a=0,u=m.length;u>a;c=++a)p=m[c],null!==p?(f?(h=Math.min(p,f),t=Math.max(p,f)):(h=p,t=this.bottom),s=this.left+i*n+o,this.options.stacked||(s+=c*(e+this.options.barGap)),d=t-h,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+i*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(h-=r),this.drawBar(s,h,e,d,this.colorFor(l,c,"bar"),this.options.barOpacity,this.options.barRadius),g.push(r+=d)):g.push(null);return g}.call(this));return g}.call(this)},i.prototype.colorFor=function(e,t,n){var i,r;return"function"==typeof this.options.barColors?(i={x:e.x,y:e.y[t],label:e.label},r={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,i,r,n)):this.options.barColors[t%this.options.barColors.length]},i.prototype.hitTest=function(e){return 0===this.data.length?null:(e=Math.max(Math.min(e,this.right),this.left),Math.min(this.data.length-1,Math.floor((e-this.left)/(this.width/this.data.length))))},i.prototype.onGridClick=function(e,t){var n;return n=this.hitTest(e),this.fire("click",n,this.data[n].src,e,t)},i.prototype.onHoverMove=function(e){var t,n;return t=this.hitTest(e),(n=this.hover).update.apply(n,this.hoverContentForRow(t))},i.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},i.prototype.hoverContentForRow=function(e){var t,n,i,r,s,o,a,l;for(i=this.data[e],t="<div class='morris-hover-row-label'>"+i.label+"</div>",l=i.y,n=o=0,a=l.length;a>o;n=++o)s=l[n],t+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(s)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t,i.src)),r=this.left+(e+.5)*this.width/this.data.length,[t,r]},i.prototype.drawXAxisLabel=function(e,t,n){var i;return i=this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawBar=function(e,t,n,i,r,s,o){var a,l;return a=Math.max.apply(Math,o),l=0===a||a>i?this.raphael.rect(e,t,n,i):this.raphael.path(this.roundedRect(e,t,n,i,o)),l.attr("fill",r).attr("fill-opacity",s).attr("stroke","none")},i.prototype.roundedRect=function(e,t,n,i,r){return null==r&&(r=[0,0,0,0]),["M",e,r[0]+t,"Q",e,t,e+r[0],t,"L",e+n-r[1],t,"Q",e+n,t,e+n,t+r[1],"L",e+n,t+i-r[2],"Q",e+n,t+i,e+n-r[2],t+i,"L",e+r[3],t+i,"Q",e,t+i,e,t+i-r[3],"Z"]},i}(t.Grid),t.Donut=function(n){function i(n){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var i=this;if(!(this instanceof t.Donut))return new t.Donut(n);if(this.options=e.extend({},this.defaults,n),this.el=e("string"==typeof n.element?document.getElementById(n.element):n.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==n.data&&0!==n.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&e(window).bind("resize",function(){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.setData(n.data))}return a(i,n),i.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:t.commas,resize:!1},i.prototype.redraw=function(){var e,n,i,r,s,o,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,_,C;for(this.raphael.clear(),n=this.el.width()/2,i=this.el.height()/2,p=(Math.min(n,i)-10)/3,u=0,w=this.values,f=0,v=w.length;v>f;f++)h=w[f],u+=h;for(l=5/(2*p),e=1.9999*Math.PI-l*this.data.length,o=0,s=0,this.segments=[],x=this.values,r=m=0,b=x.length;b>m;r=++m)h=x[r],c=o+l+e*(h/u),d=new t.DonutSegment(n,i,2*p,p,o,c,this.data[r].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael),d.render(),this.segments.push(d),d.on("hover",this.select),d.on("click",this.click),o=c,s+=1;for(this.text1=this.drawEmptyDonutLabel(n,i-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(n,i+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),s=0,_=this.values,C=[],g=0,y=_.length;y>g;g++){if(h=_[g],h===a){this.select(s);break}C.push(s+=1)}return C},i.prototype.setData=function(e){var t;return this.data=e,this.values=function(){var e,n,i,r;for(i=this.data,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(parseFloat(t.value));return r}.call(this),this.redraw()},i.prototype.click=function(e){return this.fire("click",e,this.data[e])},i.prototype.select=function(e){var t,n,i,r,s,o;for(o=this.segments,r=0,s=o.length;s>r;r++)n=o[r],n.deselect();return i=this.segments[e],i.select(),t=this.data[e],this.setLabels(t.label,this.options.formatter(t.value,t))},i.prototype.setLabels=function(e,t){var n,i,r,s,o,a,l,c;return n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,s=1.8*n,r=n/2,i=n/3,this.text1.attr({text:e,transform:""}),o=this.text1.getBBox(),a=Math.min(s/o.width,r/o.height),this.text1.attr({transform:"S"+a+","+a+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:t,transform:""}),l=this.text2.getBBox(),c=Math.min(s/l.width,i/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},i.prototype.drawEmptyDonutLabel=function(e,t,n,i,r){var s;return s=this.raphael.text(e,t,"").attr("font-size",i).attr("fill",n),null!=r&&s.attr("font-weight",r),s},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(t.EventEmitter),t.DonutSegment=function(e){function t(e,t,n,i,r,o,a,l,c,d){this.cx=e,this.cy=t,this.inner=n,this.outer=i,this.color=a,this.backgroundColor=l,this.index=c,this.raphael=d,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(o),this.cos_p1=Math.cos(o),this.is_long=o-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(t,e),t.prototype.calcArcPoints=function(e){return[this.cx+e*this.sin_p0,this.cy+e*this.cos_p0,this.cx+e*this.sin_p1,this.cy+e*this.cos_p1]},t.prototype.calcSegment=function(e,t){var n,i,r,s,o,a,l,c,d,u;return d=this.calcArcPoints(e),n=d[0],r=d[1],i=d[2],s=d[3],u=this.calcArcPoints(t),o=u[0],l=u[1],a=u[2],c=u[3],"M"+n+","+r+("A"+e+","+e+",0,"+this.is_long+",0,"+i+","+s)+("L"+a+","+c)+("A"+t+","+t+",0,"+this.is_long+",1,"+o+","+l)+"Z"},t.prototype.calcArc=function(e){var t,n,i,r,s;return s=this.calcArcPoints(e),t=s[0],i=s[1],n=s[2],r=s[3],"M"+t+","+i+("A"+e+","+e+",0,"+this.is_long+",0,"+n+","+r)},t.prototype.render=function(){var e=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return e.fire("hover",e.index)},function(){return e.fire("click",e.index)})},t.prototype.drawDonutArc=function(e,t){return this.raphael.path(e).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(e,t,n,i,r){return this.raphael.path(e).attr({fill:t,stroke:n,"stroke-width":3}).hover(i).click(r)},t.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},t.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},t}(t.EventEmitter)}).call(this)}.apply(e,arguments)})}(this),define("customUI/admin/dashboard/jobChart/jobChart",["marionette","elfinder","elfinder_i18n","utils/utils","utils/constants/constants","utils/constants/urlConstants","utils/eventBus","text!./templates/jobChart.mustache","i18n!./nls/jobChart","morris"],function(e,t,n,i,r,s,o,a,l){return e.ItemView.extend({template:a,templateHelpers:function(){return{nls:l}},self:this,chart:"",queue_selected:"all",time_period:"3600",status_selected:"uncompleted",setRefreshData:function(e){if(!(e.time_period!==this.time_period|e.queue_selected!==this.queue_selected|e.status_selected!==this.status_selected)){$(".job_chart").remove();var t="<div class='job_chart'></div>";$("#basic").append(t);var n={};"completed"==e.status_selected?(n.ykeys=["completed"],n.labels=[l.finished],n.lineColors=["#b4e89f"]):(n.ykeys=["running","waiting"],n.labels=[l.running,l.waiting],n.lineColors=["#69f0ae","#00b0ff"]),n.element=$(".job_chart");var i=[];$.each(e.jobChart,function(e,t){t.time=t.time-t.timezone,i.push(t)}),n.data=i,this.initJobChart(n)}},setChartDate:function(e){$(".job_chart").html("");var t=s.jobHistory+"?duration="+this.time_period+"&num_of_points=7&q_name="+this.queue_selected+"&status="+this.status_selected,n={};"completed"==this.status_selected?(n.ykeys=["completed"],n.labels=[l.finished],n.lineColors=["#b4e89f"]):(n.ykeys=["running","waiting"],n.labels=[l.running,l.waiting],n.lineColors=["#69f0ae","#00b0ff"]),n.element=$(".job_chart"),$.ajax({type:"GET",url:t,dataType:"json",success:function(t){var i=[];
$.each(t,function(e,t){t.time=t.time-t.timezone,i.push(t)}),n.data=i,e.initJobChart(n)},error:function(){$(".job_chart").html(l.err_msg)}})},initJobChart:function(e){this.chart=Morris.Area({element:e.element,data:e.data,xkey:"time",parseTime:!1,xLabelFormat:function(e){var t=new Date(1e3*e.label),n=t.getUTCFullYear(),i=t.getUTCMonth()+1;10>i&&(i="0"+i);var r=t.getUTCDate();10>r&&(r="0"+r);var s=t.getUTCHours();10>s&&(s="0"+s);var o=t.getUTCMinutes();10>o&&(o="0"+o);var a=s+":"+o,l=n+"-"+i+"-"+r;return l+"\n\r"+a},ykeys:e.ykeys,labels:e.labels,behaveLikeLine:!0,xLabelAngle:20,lineColors:e.lineColors,resize:!0})},refreshChart:function(e){e.setChartDate(e)},getQueue:function(){$.ajax({type:"GET",url:s.jobHistoryQueues,dataType:"json",success:function(e){var t=[];$.each(e,function(e,n){t.push(n.name)}),$.each(t,function(e,t){$("#select_queue").append("<option value='"+t+"'>"+t+"</option>")})},error:function(){}})},onRender:function(){var e=this;o.on(r.refreshAdmin,e.setRefreshData,e),e.getQueue(),e.setChartDate(e),$("#select_queue").change(function(){e.queue_selected=$("#select_queue").val(),i.changeQueue(e.queue_selected),e.refreshChart(e)}),$("#select_time").change(function(){e.time_period=$("#select_time").val(),i.changeTimePeriod(e.time_period),e.refreshChart(e)}),$("#select_status").change(function(){e.status_selected=$("#select_status").val(),i.changeStatus(e.status_selected),e.refreshChart(e),"uncompleted"==e.status_selected?($("#job_chart_running_icon").css("display","block"),$("#job_chart_waiting_icon").css("display","block"),$("#job_chart_finish_icon").css("display","none")):($("#job_chart_running_icon").css("display","none"),$("#job_chart_waiting_icon").css("display","none"),$("#job_chart_finish_icon").css("display","block"))})}})}),define("RegionManager",["marionette","core/layout/header/headerView","core/layout/welcome/welcomeView","core/layout/footer/footerView","customUI/nodeList/nodeListView","customUI/user/dashboard/job/jobView","customUI/userManagement/userManagementView","customUI/groupManagement/userGroupView","customUI/accountingManagement/accountingMgtView","customUI/nodes/allNodesView","customUI/user/fileManagement/fileManagementView","customUI/admin/dashboard/jobChart/jobChart"],function(e,t,n,i,r,s,o,a,l,c,d,u){var h=new e.RegionManager,p=h.addRegions({header:"#header",navigation:"#navigation",body:"#body",dialogregion:"#dialog-region",footer:"#footer"});return{showIndex:function(){p.header.show(new t),p.body.show(new n)},showFileManagement:function(){p.body.show(new d)},showHeader:function(e){p.header.show(new t(e))},showFooter:function(){p.footer.show(new i)},showNavigation:function(){},showContent:function(e){p.body.show(e)},showAbout:function(){p.login.show(new loginView)},showNodeList:function(){p.header.show(new t),p.body.show(new r)},showJobView:function(){p.header.show(new t),p.dialogregion.show(new s)},showJobChart:function(){p.header.show(new t),p.body.show(new u)},showAllNodes:function(){p.body.show(new c)}}}),define("text!customUI/user/dashboard/overview/templates/dashboardTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="user-dashboard">\r\n<div id="header-wrapper"></div>\r\n<div id="resource-wrapper"></div>\r\n<div id="job-wrapper"></div>\r\n<div id="footer-wrapper"></div>\r\n</div>'}),function(){var e=this,t=e.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),r=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=r;var n=this.width=e.canvas.width,r=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var i=n.helpers={},r=i.each=function(e,t,n){var i=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var r;for(r=0;r<e.length;r++)t.apply(n,[e[r],r].concat(i))}else for(var s in e)t.apply(n,[e[s],s].concat(i))},s=i.clone=function(e){var t={};return r(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)}),t},o=i.extend=function(e){return r(Array.prototype.slice.call(arguments,1),function(t){r(t,function(n,i){t.hasOwnProperty(i)&&(e[i]=n)})}),e},a=i.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),o.apply(null,e)},l=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=c,e&&o(n.prototype,e),n.__super__=t.prototype,n}),d=i.noop=function(){},u=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),h=i.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},p=i.amd="function"==typeof define&&define.amd,f=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},g=i.min=function(e){return Math.min.apply(Math,e)},v=(i.cap=function(e,t,n){if(f(t)){if(e>t)return t}else if(f(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&f(e)?e.toString().split(".")[1].length:0}),b=i.radians=function(e){return e*(Math.PI/180)},y=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),s=2*Math.PI+Math.atan2(i,n);return 0>n&&0>i&&(s+=2*Math.PI),{angle:s,distance:r}},i.aliasPixel=function(e){return e%2===0?0:.5}),w=(i.splineCurve=function(e,t,n,i){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=i*r/(r+s),a=i*s/(r+s);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+a*(n.x-e.x),y:t.y+a*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),x=(i.calculateScaleRange=function(e,t,n,i,r){var s=2,o=Math.floor(t/(1.5*n)),a=s>=o,l=m(e),c=g(e);l===c&&(l+=.5,c>=.5&&!i?c-=.5:l+=.5);for(var d=Math.abs(l-c),u=w(d),h=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=i?0:Math.floor(c/(1*Math.pow(10,u)))*Math.pow(10,u),f=h-p,v=Math.pow(10,u),b=Math.round(f/v);(b>o||o>2*b)&&!a;)if(b>o)v*=2,b=Math.round(f/v),b%1!==0&&(a=!0);else if(r&&u>=0){if(v/2%1!==0)break;v/=2,b=Math.round(f/v)}else v/=2,b=Math.round(f/v);return a&&(b=s,v=f/b),{steps:b,stepValue:v,min:p,max:p+b*v}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[e]=i[e];return t?n(t):n}if(e instanceof Function)return e(t);var i={};return n(e,t)}),_=(i.generateLabels=function(e,t,n,i){var s=new Array(t);return labelTemplateString&&r(s,function(t,r){s[r]=x(e,{value:n+i*(r+1)})}),s},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-_.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*_.easeInBounce(2*e):.5*_.easeOutBounce(2*e-1)+.5}}),C=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),k=i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),T=(i.animationLoop=function(e,t,n,i,r,s){var o=0,a=_[n]||_.linear,l=function(){o++;var n=o/t,c=a(n);e.call(s,c,n,o),i.call(s,c,n),t>o?s.animationFrame=C(l):r.apply(s)};C(l)},i.getRelativePosition=function(e){var t,n,i=e.originalEvent||e,r=e.currentTarget||e.srcElement,s=r.getBoundingClientRect();return i.touches?(t=i.touches[0].clientX-s.left,n=i.touches[0].clientY-s.top):(t=i.clientX-s.left,n=i.clientY-s.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),S=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=d},I=(i.bindEvents=function(e,t,n){e.events||(e.events={}),r(t,function(t){e.events[t]=function(){n.apply(e,arguments)},T(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){r(t,function(t,n){S(e.chart.canvas,n,t)})}),D=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},M=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},A=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,i=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=i+"px",t.canvas.height=i*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),E=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=i.fontString=function(e,t,n){return t+" "+e+"px "+n},R=i.longestText=function(e,t,n){e.font=t;var i=0;return r(n,function(t){var n=e.measureText(t).width;i=n>i?n:i}),i},F=i.drawRoundedRectangle=function(e,t,n,i,r,s){e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+i-s,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-s,n+r),e.lineTo(t+s,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath()};n.instances={},n.Type=function(e,t,i){this.options=t,this.chart=i,this.id=u(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},o(n.Type.prototype,{initialize:function(){return this},clear:function(){return E(this.chart),this},stop:function(){return k(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=D(this.chart.canvas),i=this.options.maintainAspectRatio?n/this.chart.aspectRatio:M(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=i,A(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),I(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var s=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(r(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(s||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,a,c=this.datasets.length-1;c>=0&&(o=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,a=l(o,e[0]),-1===a);c--);var d=[],u=[],h=function(){var e,t,n,r,s,o=[],l=[],c=[];return i.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[a]&&e[a].hasValue()&&o.push(e[a])}),i.each(o,function(e){l.push(e.x),c.push(e.y),d.push(i.template(this.options.multiTooltipTemplate,e)),u.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),s=g(c),n=m(c),r=g(l),t=m(l),{x:r>this.chart.width/2?r:t,y:(s+n)/2}}.call(this,a);new n.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:d,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else r(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this.options.onAnimationComplete.call(this),this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,i=function(){return t.apply(this,arguments)};if(i.prototype=s(t.prototype),o(i.prototype,e),i.extend=n.Type.extend,e.name||t.prototype.name){var r=e.name||t.prototype.name,l=n.defaults[t.prototype.name]?s(n.defaults[t.prototype.name]):{};n.defaults[r]=o(l,e.defaults),n.types[r]=i,n.prototype[r]=function(e,t){var s=a(n.defaults.global,n.defaults[r],t||{});return new i(e,s,this)}}else h("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){o(this,e),this.initialize.apply(this,arguments),this.save()},o(n.Element.prototype,{initialize:function(){},restore:function(e){return e?r(e,function(e){this[e]=this._saved[e]},this):o(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(e){return r(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return r(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,s=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&s},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,i=this.x+t,r=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(n+=s,i-=s,r+=s),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,r),e.lineTo(i,r),e.lineTo(i,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,i=this.fontSize+2*this.yPadding,r=i+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-r<0&&(this.yAlign="below");var s=this.x-n/2,o=this.y-r;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":s=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}F(e,s,o,n,i,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,s+n/2,o+i/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=R(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var i=this.height/2;this.y-i<0?this.y=i:this.y+i>this.chart.height&&(this.y=this.chart.height-i),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{F(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,i=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=i/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var r,s=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)r=Math.cos(b(this.xLabelRotation)),e=r*n,t=r*i,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=r*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),i=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=n/2),Math.round(i)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,r(this.yLabels,function(r,s){var o=this.endPoint-t*s,a=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,o),0!==s||l||(l=!0),l&&e.beginPath(),s>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),a+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,a),e.lineTo(this.width,a),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,a),e.lineTo(n,a),e.stroke(),e.closePath()},this),r(this.xLabels,function(t,n){var i=this.calculateX(n)+y(this.lineWidth),r=this.calculateX(n-(this.offsetGridLines?.5:0))+y(this.lineWidth),s=this.xLabelRotation>0,o=this.showVerticalLines;0!==n||o||(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(r,this.endPoint),e.lineTo(r,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(r,this.endPoint),e.lineTo(r,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(i,s?this.endPoint+12:this.endPoint+8),e.rotate(-1*b(this.xLabelRotation)),e.font=this.font,e.textAlign=s?"right":"center",e.textBaseline=s?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,i,r,s,o,a,l,c,d,u,h=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,h),n=this.ctx.measureText(x(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(i=n/2,e.x+i>p&&(p=e.x+i,r=t),e.x-i<m&&(m=e.x-i,o=t)):t<this.valuesCount/2?e.x+n>p&&(p=e.x+n,r=t):t>this.valuesCount/2&&e.x-n<m&&(m=e.x-n,o=t);l=m,c=Math.ceil(p-this.width),s=this.getIndexAngle(r),a=this.getIndexAngle(o),d=c/Math.sin(s+Math.PI/2),u=l/Math.sin(a+Math.PI/2),d=f(d)?d:0,u=f(u)?u:0,this.drawingArea=h-(u+d)/2,this.setCenterPoint(u,d)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=(i+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(r(this.yLabels,function(t,n){if(n>0){var i,r=n*(this.drawingArea/this.steps),s=this.yCenter-r;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)i=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),0===o?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var a=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-a/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,a+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,s)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var i=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var s=this.labels.length,o=this.labels.length/2,a=o/2,l=a>t||t>s-a,c=t===a||t===s-a;e.textAlign=0===t?"center":t===o?"center":o>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],i.x,i.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){r(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),p?define("chartjs",[],function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,i={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:i,initialize:function(e){var i=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var r=this.calculateBaseWidth(),s=this.calculateX(n)-r/2,o=this.calculateBarWidth(e);return s+o*t+t*i.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*i.barDatasetSpacing;
return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,i){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,i){n.each(t.bars,e,this,i)},this)},getBarsAtEvent:function(e){for(var t,i=[],r=n.getRelativePosition(e),s=function(e){i.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(r.x,r.y))return n.each(this.datasets,s),i;return i},buildScale:function(e){var t=this,i=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(r,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(r)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,i){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,i,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,i={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:i,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(i,{percentageInnerCutout:0})})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,i={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:i,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(i.x,i.y)&&t.push(e)})},this),t},buildScale:function(e){var i=this,r=function(){var e=[];return i.eachPoints(function(t){e.push(t.value)}),e},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(s,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(s)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var i=this.chart.ctx,r=function(e){return null!==e.value},s=function(e,t,i){return n.findNextWhere(t,r,i)||e},o=function(e,t,i){return n.findPreviousWhere(t,r,i)||e};this.scale.draw(t),n.each(this.datasets,function(e){var a=n.where(e.points,r);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(a,function(e,t){var i=t>0&&t<a.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,a,t),e,s(e,a,t),i),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(a,function(e,t){if(0===t)i.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,a,t);i.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else i.lineTo(e.x,e.y)},this),i.stroke(),this.options.datasetFill&&a.length>0&&(i.lineTo(a[a.length-1].x,this.scale.endPoint),i.lineTo(a[0].x,this.scale.endPoint),i.fillStyle=e.fillColor,i.closePath(),i.fill()),n.each(a,function(e){e.draw()})},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,i={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:i,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){var s;this.scale.animation||(s=this.scale.getPointPosition(r,this.scale.calculateCenterOffset(n))),i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),i=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),r=2*Math.PI/this.scale.valuesCount,s=Math.round((i.angle-1.5*Math.PI)/r),o=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),i.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[s])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:i.x,y:i.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,i=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(e.points,function(e,t){0===t?i.moveTo(e.x,e.y):i.lineTo(e.x,e.y)},this),i.closePath(),i.stroke(),i.fillStyle=e.fillColor,i.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){define("resourceDoughnutWidget",["chartjs"],function(){return function(){function e(e,t,n){var i="<div><div><svg width='50' height='5px'><rect x='0' y='0' width='50' height='5px' style='fill:"+t+";stroke-width:0;stroke:"+t+"' /> Sorry, your browser does not support inline SVG.</svg></div><div>"+n+"</div><div>"+e+"</div></div>";return i}function t(t){var n="";for(i=t.length-1;i>=0;i--)n+=e(t[i].value,t[i].color,t[i].label);return n}function n(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}window.drawFooter=t,function(e){e.fn.doughnut=function(t,i,r){var s=e.extend({header:"集群CPU",amount:"G"},r);return this.each(function(){e(this).empty(),e(this).append("<div class='resource-header'>"+s.header+"</div>"),e(this).append("<canvas id='"+i+"' width='120px' height='120px'></canvas>");var r=Math.max(n(t[0].value),n(t[1].value)),o=(parseFloat(t[0].value)+parseFloat(t[1].value)).toFixed(r);e(this).append("<div class='resource-usage'>"+s.nls.used+t[0].value+s.amount+"/"+o+s.amount+"</div>");{var a=e("#"+i).get(0).getContext("2d");new Chart(a).Doughnut(t,{animation:s.animation,animationSteps:60,responsive:!1,showTooltips:!1,percentageInnerCutout:85,segmentShowStroke:!1,onAnimationComplete:function(){var n=e("#"+i).width(),r=e("#"+i).height(),s=3.5,o=(r/s).toFixed(0);a.font=o+"px Arial",a.fillStyle="#333333",a.textBaseline="middle";var l=0;e.each(t,function(){l+=parseFloat(this.value,10)});var c=(t[0].value/l*100).toFixed(0);"NaN"===c&&(c=0);var d=a.measureText(c).width,u=Math.round((n-d)/2);a.fillText(c,u,r/2),o=(o/2).toFixed(0),a.font=o+"px sans-serif";var h=Math.round((n+d)/2);a.textBaseline="top",a.fillText("%",h,r/2)}})}})}}(jQuery)}.apply(e,arguments)})}(this),function(e){var t=function(e){for(var t=0,n=0;n<e.length;n++){var i=e[n].jobs.waiting+e[n].jobs.holding+e[n].jobs.suspending+e[n].jobs.queueing;i>t&&(t=i),e[n].jobs.running>t&&(t=e[n].jobs.running)}return t};e.fn.slidingWindow=function(n,i){var r=e.extend({color1:"#89B6DE",color2:"rgb(200,200,200)",columnWidth:"90"},i);return this.each(function(){e(this).empty();var i=e("<div class='sliding-window'></div>");e(this).append(i);var s=e("<table class='sliding-table'></table>");i.append(s);var o=e("<tr class='sliding-table-header'></tr>"),a=e("<tr class='sliding-table-data'></tr>");s.append(o),s.append("<tr style='height: 10px'></tr>"),s.append(a);var l=n.datasets.length;i.css("width",r.columnWidth*l);var c=t(n.datasets),d=0;0==c&&(d=0),d=100/c,n.datasets&&e.each(n.datasets,function(e,t){o.append("<th><div>"+t.name+"</div></th>");var n=t.jobs,i=n.waiting+n.holding+n.suspending+n.queueing;a.append("<td>"+drawAQueue(t.jobs.running,r.color1,r.runningLabel,d)+drawAQueue(i,r.color2,r.queueingLabel,d)+"</td>")})})}}(jQuery),function(e){e.fn.ioWindow=function(t,n){var i=function(e){for(var t=0,n=0;n<e.length;n++){var i=Number(e[n].in);i>t&&(t=i);var r=Number(e[n].out);r>t&&(t=r)}return t},r=e.extend({color1:"#89B6DE",color2:"#8FE9A5",columnWidth:"155"},n);return this.each(function(){e(this).empty();var n=e("<div class='io-window'></div>");e(this).append(n);var s=e("<table class='io-table'></table>");n.append(s);var o=e("<tr class='io-table-header'></tr>"),a=e("<tr class='io-table-data'></tr>");s.append(o),s.append("<tr style='height: 10px'>"),s.append(a);var l=t.datasets.length;n.css("width",r.columnWidth*l);var c=i(t.datasets),d=0;0==c&&(d=0),d=100/c,t.datasets&&e.each(t.datasets,function(e,t){o.append("<th>"+t.name+"</th>"),a.append("<td>"+drawAnIOBar(t.in,r.color1,r.readLabel,d)+drawAnIOBar(t.out,r.color2,r.writeLabel,d)+"</td>")})})}}(jQuery),function(e){e.fn.plainBarWindow=function(t,n){var i=function(e){for(var t=0,n=0;n<e.length;n++){var i=Number(e[n].in);i>t&&(t=i);var r=Number(e[n].out);r>t&&(t=r)}return t},r=e.extend({color1:"#89B6DE",color2:"#8FE9A5",columnWidth:"90"},n);return this.each(function(){e(this).empty();var n=e("<div class='io-window'></div>");e(this).append(n);var s=e("<table class='io-table'></table>");n.append(s);var o=e("<tr class='io-table-header'></tr>"),a=e("<tr class='io-table-data'></tr>");s.append(o),s.append("<tr style='height: 10px'>"),s.append(a);var l=t.datasets.length;n.css("width",r.columnWidth*l);var c=i(t.datasets),d=0;0==c&&(d=0),d=100/c,t.datasets&&e.each(t.datasets,function(e,t){o.append("<th>"+t.name+"</th>"),a.append("<td>"+drawAQueue(t.in,r.color1,r.readLabel,d)+drawAQueue(t.out,r.color2,r.writeLabel,d)+"</td>")})})}}(jQuery),define("resourceBarWidget",function(){}),define("text!customUI/user/dashboard/resourceBar/templates/resourceBarTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-2 col-md-6 ui-submitjob-wrapper">\r\n  <div class="ui-dashboard-submitjob" id="job_submit_start">\r\n    <div class="ui-plus"><i class="fa fa-plus ui-plus-icon" style="font-size:5em;"></i></div>\r\n    <div class="ui-plus-text">{{nls.submitJob}}</div>\r\n  </div>\r\n</div>\r\n<!--\r\n<div class="col-lg-1 col-md-3">\r\n<svg height="237" width="100" style="float:left">\r\n  <line x1="80" y1="0" x2="80" y2="237" style="stroke:rgb(200,200,200);stroke-width:1" />\r\n</svg>\r\n</div>\r\n-->\r\n<div class="col-lg-3 col-md-6">\r\n	<div class="banner-slider">\r\n		<div style="width:15px">\r\n			<a href="#" class="sliding-window-prev"></a>\r\n		</div>\r\n		<div id="sliding-window-container1" class="sliding-window-container">\r\n			<div class="sliding-window">\r\n			</div>\r\n		</div>\r\n		<div style="width:15px">\r\n			<a href="#" class="sliding-window-next"></a>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class="col-lg-2 col-md-6 resource-container">\r\n	<div class="banner-slider">\r\n		<div id="io-window-container1" class="io-window-container"></div>\r\n	</div>\r\n</div>\r\n<div class="col-lg-5 col-md-6 resource-container">\r\n	<div id="clusterCPU-holder" class="resource-holder"></div>\r\n	<div id="clusterMemory-holder" class="resource-holder"></div>\r\n	<div id="storage-holder" class="resource-holder"></div>\r\n</div>'}),define("customUI/user/dashboard/resourceBar/nls/resourceBar",{root:{submitJob:"提交作业",networkIO:"网络吞吐",used:"已用",remaining:"剩余",clusterCPU:"集群CPU",core:"核",clusterMemory:"集群内存",G:"G",clusterStorage:"集群存储",running:"运行",queueing:"排队",waiting:"等待",read:"读",write:"写"},zh:!0,en:!0}),define("customUI/user/dashboard/resourceBar/nls/zh/resourceBar",{submitJob:"提交作业",networkIO:"网络吞吐",used:"已用",remaining:"剩余",clusterCPU:"集群CPU",core:"核",clusterMemory:"集群内存",G:"G",clusterStorage:"集群存储",running:"运行",queueing:"排队",waiting:"等待",read:"读",write:"写"}),define("libs/require-css/css!customUI/user/dashboard/resourceBar/styles/sliding",[],function(){}),define("libs/require-css/css!customUI/user/dashboard/resourceBar/styles/resourceDoughnut",[],function(){}),define("libs/require-css/css!customUI/user/dashboard/resourceBar/styles/submitJob",[],function(){}),define("customUI/user/dashboard/resourceBar/resourceBarView",["marionette","resourceDoughnutWidget","resourceBarWidget","text!./templates/resourceBarTmpl.mustache","customUI/user/dashboard/job/jobView","utils/constants/urlConstants","utils/eventBus","utils/constants/constants","i18n!./nls/resourceBar","css!./styles/sliding","css!./styles/resourceDoughnut","css!./styles/submitJob"],function(e,t,n,i,r,s,o,a,l){return e.ItemView.extend({className:"row dashboard-shadow",templateHelpers:function(){return{nls:l}},template:i,onShow:function(){var e=this;$.ajax({type:"GET",url:s.queues,dataType:"json",success:function(t){e.renderQueues(t)},error:function(e,t,n){console.log(t+n),console.log(e)}}),$.ajax({type:"GET",url:s.clusterOverview,dataType:"json",success:function(t){e.renderResources(t,!0)},error:function(e,t,n){console.log(t+n),console.log(e)}}),o.on(a.refreshUser,e.renderQueues),o.on(a.refreshUser,e.renderResources),$(".sliding-window-prev").hide(),$(".sliding-window-next").hide(),$(".sliding-window-next").click(function(e){e.preventDefault(),$(".sliding-window-container").animate({scrollLeft:"+=90"},"slow"),$(".sliding-window-container").promise().done(function(){var e=$(".sliding-window-container").position(),t=$(".sliding-window").position(),n=$(".sliding-window-container").width(),i=$(".sliding-window").width();e.left>t.left&&$(".sliding-window-prev").fadeIn("normal"),e.left+n==t.left+i&&$(".sliding-window-next").fadeOut("normal")})}),$(".sliding-window-prev").click(function(e){e.preventDefault(),$(".sliding-window-container").animate({scrollLeft:"-=90"},"slow"),$(".sliding-window-container").promise().done(function(){var e=$(".sliding-window-container").position(),t=$(".sliding-window").position(),n=$(".sliding-window-container").width(),i=$(".sliding-window").width();
e.left==t.left&&$(".sliding-window-prev").fadeOut("normal"),e.left+n<t.left+i&&$(".sliding-window-next").fadeIn("normal")})}),$("#job_submit_start").click(function(){var e=new r({el:$("#dialog-region")});e.render()})},renderQueues:function(e){var t=e;e.queue&&(t=e.queue);var n={datasets:[]};n.datasets=t,$(".sliding-window-container").slidingWindow(n,{runningLabel:l.running,queueingLabel:l.waiting}),$(".sliding-window-container").width()<$(".sliding-window").width()&&$(".sliding-window-next").fadeIn("normal")},renderResources:function(e,t){var n=e;e.clusterOverview&&(n=e.clusterOverview);var i=n,r={datasets:[{name:l.networkIO,"in":parseFloat(i.throughput.in),out:parseFloat(i.throughput.out)}]},s=[{value:i.processors.used,color:"#A3A3CA",highlight:"#CC99FF",label:l.used},{value:i.processors.total-i.processors.used,color:"#EDEDED",highlight:"#5AD3D1",label:l.remaining}],o=[{value:(i.memory.used/1048576).toFixed(0),color:"#8FE9A5",highlight:"#00FF00",label:l.used},{value:((i.memory.total-i.memory.used)/1048576).toFixed(0),color:"#EDEDED",highlight:"#5AD3D1",label:l.remaining}],a="#89B6DE",c=i.diskspace.used.toFixed(1),d="#EDEDED",u=(i.diskspace.total-i.diskspace.used).toFixed(1);0==i.diskspace.used&&(a="#EDEDED",c=0,d="#EDEDED");var h=[{value:c,color:a,highlight:"#00FFFF",label:l.used},{value:u,color:d,highlight:"#5AD3D1",label:l.remaining}];$("#io-window-container1").ioWindow(r,{readLabel:l.read,writeLabel:l.write}),$("#clusterCPU-holder").doughnut(s,"clusterCPU-area",{nls:l,header:l.clusterCPU,amount:l.core,animation:t}),$("#clusterMemory-holder").doughnut(o,"clusterMemory-area",{nls:l,header:l.clusterMemory,amount:l.G,animation:t}),$("#storage-holder").doughnut(h,"storage-area",{nls:l,header:l.clusterStorage,amount:l.G,animation:t})}})}),define("text!customUI/user/dashboard/footer/templates/footerTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="user-dashboard-footer" id="userFooter">\r\n</div>'}),define("libs/require-css/css!customUI/user/dashboard/footer/css/footerView",[],function(){}),define("customUI/user/dashboard/footer/footerView",["marionette","utils/constants/urlConstants","text!./templates/footerTmpl.mustache","css!./css/footerView"],function(e,t,n){return e.ItemView.extend({template:n,onShow:function(){var e=$.ajax({url:t.config});e.done(function(e){$("#userFooter").text(e.footer)})}})}),define("text!customUI/user/dashboard/header/templates/headerTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-6 col-md-12">\r\n<div id="userBalance">\r\n<span class=\'users-balance-text\'>{{nls.accountBalance}}</span>\r\n<span class=\'users-balance-number\' id="users-balance-number"></span>\r\n</div>\r\n</div>\r\n<div class="col-lg-6 col-md-12">\r\n<div id="userNotice" class="user-notice-wrapper"></div>\r\n</div>\r\n'}),define("customUI/user/dashboard/header/nls/header",{root:{accountBalance:"账户余额",accountUnit:"元"},zh:!0,en:!0}),define("customUI/user/dashboard/header/nls/zh/header",{accountBalance:"账户余额",accountUnit:"元"}),define("libs/require-css/css!customUI/user/dashboard/header/css/headerView",[],function(){}),define("customUI/user/dashboard/header/headerView",["marionette","cookie","utils/constants/constants","utils/constants/urlConstants","utils/eventBus","text!./templates/headerTmpl.mustache","i18n!./nls/header","css!./css/headerView"],function(e,t,n,i,r,s,o){return e.ItemView.extend({className:"row",template:s,templateHelpers:function(){return{nls:o}},showUserBalance:function(e){var t="";t=e.user?e.user.bill_group.balance:e.bill_group.balance,"number"==typeof t&&(t=t.toFixed("3")),$("#users-balance-number").html(t+o.accountUnit)},onShow:function(){var e=this,t=$.ajax({url:i.config,dataType:"json",contentType:"application/json"});t.done(function(e){e.notice;$("#userNotice").html("<i class='fa fa-info-circle notice-icon'></i><span class='notice-text'>"+e.notice+"</span>"),$("#userNotice").attr("title",e.notice),e.notice.length<40&&$("#userNotice").css("float","right")});var s=$.cookie("userid"),o=$.ajax({url:i.users+s+"/",dataType:"json",contentType:"application/json"});o.done(function(t){e.showUserBalance(t)}),r.on(n.refreshUser,e.showUserBalance)}})}),define("text!customUI/user/dashboard/jobBar/templates/jobBarTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-4 col-md-12">\r\n	<div class="job-header">{{nls.workingStatus}}</div>\r\n	<div class="job-container">\r\n		<div class="job-data">\r\n		<canvas id="job-area" width="245" height="245"></canvas>\r\n		</div>\r\n		<div class="job-footer"></div>\r\n	</div>\r\n	<!--\r\n    <div style="height:200px;width:200px;background-color:red;margin-left:auto;margin-right:auto;"></div>\r\n    -->\r\n</div>\r\n<div class="col-lg-8 col-md-12">\r\n    <div id="job_table"></div>\r\n</div>'}),define("libs/require-css/css!customUI/user/dashboard/jobBar/styles/jobDoughnut",[],function(){}),define("customUI/user/dashboard/jobBar/nls/jobBar",{root:{workingStatus:"作业详情",running:"运行",waiting:"等待排队",holding:"保留",suspending:"挂起",hanging:"挂起",queueing:"排队",unfinished:"未完成"},zh:!0,en:!0}),define("customUI/user/dashboard/jobBar/nls/zh/jobBar",{workingStatus:"作业详情",running:"运行",waiting:"等待排队",holding:"保留",suspending:"挂起",hanging:"挂起",queueing:"排队",unfinished:"未完成"}),define("customUI/user/dashboard/jobBar/jobBarView",["marionette","text!./templates/jobBarTmpl.mustache","customUI/nodeList/nodeListView","chartjs","utils/constants/urlConstants","utils/constants/constants","utils/eventBus","css!./styles/jobDoughnut","i18n!./nls/jobBar"],function(e,t,n,i,r,s,o,a,l){return e.ItemView.extend({className:"row dashboard-shadow",template:t,templateHelpers:function(){return{nls:l}},onShow:function(){var e=new n({el:$("#job_table")});e.render();var t=this;$.ajax({type:"GET",url:r.jobSummary,dataType:"json",success:function(e){t.renderJobPie(e,!0)},error:function(e,t,n){console.log(t+n),console.log(e)}}),o.on(s.refreshUser,t.renderJobPie)},renderJobPie:function(e,t){var n=e;e.jobSummary&&(n=e.jobSummary);var r=[{value:n.suspending_num,color:"#69F6CA",highlight:"#b2fae4",label:l.suspending},{value:n.holding_num,color:"#E1F5FE",highlight:"#ebf8fe",label:l.holding},{value:n.waiting_num,color:"#B3E5FC",highlight:"#ceeefd",label:l.waiting},{value:n.queueing_num,color:"#4FC3F7",highlight:"#80d4f9",label:l.queueing},{value:n.running_num,color:"#69F0AE",highlight:"#86f3be",label:l.running}],s=document.getElementById("job-area");s.chart&&s.chart.destroy();var o=s.getContext("2d");o.clearRect(0,0,s.width,s.height),s.chart=new i(o).Doughnut(r,{responsive:!1,animateScale:!1,percentageInnerCutout:65,animation:t,animationSteps:60,onAnimationComplete:function(){var e=$("#job-area").width(),t=$("#job-area").height(),n=4.3,i=(t/n).toFixed(0);o.font=i+"px Microsoft YaHei",o.fillStyle="#333333",o.textBaseline="middle",o.textAlign="start";var s=0;$.each(r,function(){s+=parseInt(this.value,10)});var a=o.measureText(s).width,c=Math.round((e-a)/2);o.fillText(s,c,t/2),i=(i/3.5).toFixed(0),o.font=i+"px Microsoft YaHei";var d=o.measureText(l.unfinished).width,u=Math.round((e-d)/2);o.textBaseline="alphabetic",o.fillText(l.unfinished,u,(t-80)/2)}}),$(".job-footer").empty(),$(".job-footer").append(drawFooter(r))}})}),define("customUI/user/dashboard/overview/dashboardView",["marionette","text!./templates/dashboardTmpl.mustache","../resourceBar/resourceBarView","../footer/footerView","../header/headerView","../jobBar/jobBarView"],function(e,t,n,i,r,s){return e.LayoutView.extend({template:t,regions:{userDashboardHeader:"#header-wrapper",userResource:"#resource-wrapper",userJob:"#job-wrapper",userDashboardFooter:"#footer-wrapper"},onShow:function(){this.getRegion("userDashboardHeader").show(new r),this.getRegion("userResource").show(new n),this.getRegion("userJob").show(new s)}})}),define("text!customUI/admin/dashboard/overview/templates/dashboardTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="admin-dashboard">\r\n<div id="admin-cluster-wrapper"></div>\r\n<div id="admin-resource-wrapper"></div>\r\n<div id="admin-job-node-wrapper"></div>\r\n</div>'}),define("text!customUI/admin/dashboard/resourceBar/templates/resourceBarTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">\r\n	<div class="banner-slider">\r\n		<div id="io-window-container1" class="io-window-container"></div>\r\n	</div>\r\n</div>\r\n\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">\r\n	<div class="banner-slider" style="text-align:center">\r\n		<div id="io-window-container2" class="io-window-container"></div>\r\n	</div>\r\n</div>\r\n\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">\r\n	<div class="banner-slider">\r\n		<div id="io-window-container3" class="io-window-container"></div>\r\n	</div>\r\n</div>\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">\r\n	<div id="admin-clusterCPU-holder" class="resource-holder"></div>\r\n</div>\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">	\r\n	<div id="admin-clusterMemory-holder" class="resource-holder"></div>\r\n</div>\r\n<div class="col-lg-2 col-md-6 resource-container admin-resource-cell">\r\n	<div id="admin-storage-holder" class="resource-holder"></div>\r\n</div>'}),define("customUI/admin/dashboard/resourceBar/nls/resourceBar",{root:{submitJob:"提交作业",networkIO:"网络吞吐",used:"已用",remaining:"剩余",clusterCPU:"CPU",core:"核",clusterMemory:"内存",G:"G",clusterStorage:"存储",running:"运行",queueing:"排队",waiting:"等待",read:"读",write:"写",job:"作业",node:"节点",waiting:"等待",running:"运行",on:"开机",off:"关机"},zh:!0,en:!0}),define("customUI/admin/dashboard/resourceBar/nls/zh/resourceBar",{submitJob:"提交作业",networkIO:"网络吞吐",used:"已用",remaining:"剩余",clusterCPU:"CPU",core:"核",clusterMemory:"内存",G:"G",clusterStorage:"存储",running:"运行",queueing:"排队",waiting:"等待",read:"读",write:"写"}),define("libs/require-css/css!customUI/admin/dashboard/resourceBar/css/resourceBar",[],function(){}),define("customUI/admin/dashboard/resourceBar/resourceBarView",["marionette","resourceDoughnutWidget","resourceBarWidget","text!./templates/resourceBarTmpl.mustache","utils/constants/urlConstants","utils/eventBus","utils/constants/constants","i18n!./nls/resourceBar","css!./css/resourceBar"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({className:"row admin-resourcebar dashboard-shadow",templateHelpers:function(){return{nls:a}},template:i,onShow:function(){var e=this;$.ajax({type:"GET",url:r.clusterOverview,dataType:"json",success:function(t){e.renderResources(t,!0)},error:function(e,t,n){console.log(t+n),console.log(e)}}),s.on(o.refreshAdmin,e.renderResources)},renderResources:function(e,t){var n=e;e.clusterOverview&&(n=e.clusterOverview);var i=n,r={datasets:[{name:a.networkIO,"in":parseFloat(i.throughput.in),out:parseFloat(i.throughput.out)}]},s={datasets:[{name:a.job,"in":Number(i.jobs.waiting),out:Number(i.jobs.running)}]},o={datasets:[{name:a.node,"in":Number(i.nodes.on),out:Number(i.nodes.off)}]},l=[{value:i.processors.used,color:"#A3A3CA",highlight:"#CC99FF",label:a.used},{value:i.processors.total-i.processors.used,color:"#EDEDED",highlight:"#5AD3D1",label:a.remaining}],c=[{value:(i.memory.used/1048576).toFixed(0),color:"#8FE9A5",highlight:"#00FF00",label:a.used},{value:((i.memory.total-i.memory.used)/1048576).toFixed(0),color:"#EDEDED",highlight:"#5AD3D1",label:a.remaining}],d="#89B6DE",u=i.diskspace.used.toFixed(1),h="#EDEDED",p=(i.diskspace.total-i.diskspace.used).toFixed(1);0==i.diskspace.used&&(d="#EDEDED",u=0,h="#EDEDED");var f=[{value:u,color:d,highlight:"#00FFFF",label:a.used},{value:p,color:h,highlight:"#5AD3D1",label:a.remaining}];$("#io-window-container1").plainBarWindow(s,{readLabel:a.waiting,writeLabel:a.running}),$("#io-window-container2").plainBarWindow(o,{readLabel:a.on,writeLabel:a.off}),$("#io-window-container3").ioWindow(r,{readLabel:a.read,writeLabel:a.write}),$("#admin-clusterCPU-holder").doughnut(l,"clusterCPU-area",{nls:a,header:a.clusterCPU,amount:a.core,animation:t}),$("#admin-clusterMemory-holder").doughnut(c,"clusterMemory-area",{nls:a,header:a.clusterMemory,amount:a.G,animation:t}),$("#admin-storage-holder").doughnut(f,"storage-area",{nls:a,header:a.clusterStorage,amount:a.G,animation:t})}})}),define("text!customUI/admin/dashboard/clusterBar/templates/clusterBarTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-12 col-md-12">\r\n	<div id="cluster_name" style="float:left;font-size:20px;font-weight:bold;margin-top:22px;margin-left:10px"></div>\r\n	<div id="status_section">\r\n		<div style="margin-left:150px;float:left;margin-top:25px">{{nls.scheduler}}</div>\r\n		<div id="scheduler_status" style="float:left;margin-left:30px;margin-top:27px;width:15px;height:15px"></div>\r\n		<div style="float:left;margin-left:50px;margin-top:25px">{{nls.fs}}</div>\r\n		<div id="fs_status" style="float:left;margin-left:30px;margin-top:27px;width:15px;height:15px"></div>\r\n	</div>\r\n	<div id="error_notify" style="float:left;margin-left:50px;margin-top:25px;display:none">{{nls.err_msg}}</div>\r\n</div>'}),define("customUI/admin/dashboard/clusterBar/nls/clusterBar",{root:{scheduler:"调度器",fs:"并行文件系统",err_msg:"获取集群状态失败, 请重试"},zh:!0,en:!0}),define("customUI/admin/dashboard/clusterBar/nls/zh/clusterBar",{scheduler:"调度器",fs:"并行文件系统",err_msg:"获取集群状态失败, 请重试"}),define("libs/require-css/css!customUI/admin/dashboard/clusterBar/css/clusterBar",[],function(){}),define("customUI/admin/dashboard/clusterBar/clusterBarView",["marionette","text!./templates/clusterBarTmpl.mustache","utils/constants/urlConstants","utils/eventBus","utils/constants/constants","i18n!./nls/clusterBar","css!./css/clusterBar"],function(e,t,n,i,r,s){return e.ItemView.extend({className:"row admin-clusterbar dashboard-shadow",templateHelpers:function(){return{nls:s}},template:t,refresh:function(e){$("#cluster_name").html(e.clusterOverview.name),1==e.clusterOverview.is_scheduler_workable?$("#scheduler_status").css("background-color","#8FE9A5"):$("#scheduler_status").css("background-color","#D9534F"),1==e.clusterOverview.is_cluster_fs_workable?$("#fs_status").css("background-color","#8FE9A5"):$("#fs_status").css("background-color","#D9534F"),console.log("Cluster View Refreshed")},onRender:function(){var e=this;i.on(r.refreshAdmin,e.refresh),$.ajax({type:"GET",url:n.clusterOverview,dataType:"json",success:function(e){$("#cluster_name").html(e.name),1==e.is_scheduler_workable?$("#scheduler_status").css("background-color","#8FE9A5"):$("#scheduler_status").css("background-color","#D9534F"),1==e.is_cluster_fs_workable?$("#fs_status").css("background-color","#8FE9A5"):$("#fs_status").css("background-color","#D9534F")},error:function(){$("#status_section").css("display","none"),$("#error_notify").css("display","block")}})}})}),function(e){"function"==typeof define&&define.amd?define("chartStackedBar",["chartjs"],e):"object"==typeof exports?module.exports=e(require("chartjs")):e(Chart)}(function(e){var t=e.helpers,n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,relativeBars:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',showTotal:!1,totalColor:"#fff",totalLabel:"Total"};e.Type.extend({name:"StackedBar",defaults:n,initialize:function(n){var i=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(e){return this.calculateX(e)},calculateBarY:function(e,t,n,r){for(var s=0,o=0,a=0;a<e.length;a++)o+=e[a].bars[n].value;for(a=t;a<e.length;a++)a===t&&r?s+=r:s=+s+ +e[a].bars[n].value;return i.relativeBars&&(s=s/o*100),this.calculateY(s)},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBaseHeight:function(){return this.calculateY(1)-this.calculateY(0)},calculateBarWidth:function(){return this.calculateBaseWidth()},calculateBarHeight:function(e,t,n,r){for(var s=0,o=0;o<e.length;o++)s+=e[o].bars[n].value;return r||(r=e[t].bars[n].value),i.relativeBars&&(r=r/s*100),this.calculateY(r)}}),this.datasets=[],this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),t.each(n,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(n)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),t.each(n.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(i),t.each(e.data,function(r,s){t.isNumber(r)&&i.bars.push(new this.BarClass({value:t.isNumber(r)?r:0,label:n.labels[s],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(n.labels),this.eachBars(function(e,n){t.extend(e,{base:this.scale.endPoint,height:0,width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(n),y:this.scale.endPoint}),e.save()},this),this.render()},showTooltip:function(n,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]),t=e.helpers;var r=function(e){var n=!1;return e.length!==this.activeElements.length?n=!0:(t.each(e,function(e,t){e!==this.activeElements[t]&&(n=!0)},this),n)}.call(this,n);if(r||i){if(this.activeElements=n,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),n.length>0)if(this.datasets&&this.datasets.length>1){for(var s,o,a=this.datasets.length-1;a>=0&&(s=this.datasets[a].points||this.datasets[a].bars||this.datasets[a].segments,o=t.indexOf(s,n[0]),-1===o);a--);var l=[],c=[],d=function(){var e,n,i,r,s,a=[],d=[],u=[];t.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[o]&&e[o].hasValue()&&a.push(e[o])});var h={datasetLabel:this.options.totalLabel,value:0,fillColor:this.options.totalColor,strokeColor:this.options.totalColor};return t.each(a,function(e){d.push(e.x),u.push(e.y),h.value+=e.value,l.push(t.template(this.options.multiTooltipTemplate,e)),c.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),this.options.showTotal&&(l.push(t.template(this.options.multiTooltipTemplate,h)),c.push({fill:h.fillColor,stroke:h.strokeColor})),s=t.min(u),i=t.max(u),r=t.min(d),n=t.max(d),{x:r>this.chart.width/2?r:n,y:(s+i)/2}}.call(this,o);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:c,legendColorBackground:this.options.multiTooltipKeyBackground,title:n[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else t.each(n,function(n){var i=n.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:t.template(this.options.tooltipTemplate,n),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},update:function(){this.scale.update(),t.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){t.each(this.datasets,function(n,i){t.each(n.bars,e,this,i)},this)},getBarsAtEvent:function(e){for(var n,i=[],r=t.getRelativePosition(e),s=function(e){i.push(e.bars[n])},o=0;o<this.datasets.length;o++)for(n=0;n<this.datasets[o].bars.length;n++)if(this.datasets[o].bars[n].inRange(r.x,r.y))return t.each(this.datasets,s),i;return i},buildScale:function(e){var n=this,i=function(){var e=[];return t.each(n.datasets,function(i){t.each(i.bars,function(t,i){e[i]||(e[i]=0),e[i]=n.options.relativeBars?100:+e[i]+ +t.value})}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var n=t.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);t.extend(this,n)},xLabels:this.options.xLabels||e,font:t.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&t.extend(r,{calculateYRange:t.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(r)},addData:function(e,n){t.each(e,function(e,i){t.isNumber(e)&&this.datasets[i].bars.push(new this.BarClass({value:t.isNumber(e)?e:0,label:n,x:this.scale.calculateBarX(this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(n),this.update()},removeData:function(){this.scale.removeXLabel(),t.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){t.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=t.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var n=e||1;this.clear();this.chart.ctx;this.scale.draw(n),t.each(this.datasets,function(e,i){t.each(e.bars,function(e,t){var r=this.scale.calculateBarY(this.datasets,i,t,e.value),s=this.scale.calculateBarHeight(this.datasets,i,t,e.value);e.transition({base:this.scale.endPoint-(Math.abs(s)-Math.abs(r)),x:this.scale.calculateBarX(t),y:Math.abs(r),height:Math.abs(s),width:this.scale.calculateBarWidth(this.datasets.length)},n).draw()},this)},this)}})}),define("text!customUI/admin/dashboard/jobNodeBar/templates/jobNodeBarTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="col-lg-7 col-md-12 admin-jobCell">\r\n	<div id="job_chart_admin"></div>\r\n</div>\r\n<div class="col-lg-5 col-md-12 admin-nodeCell">\r\n	<div id="node_chart_admin">\r\n		<div style="font-size:18px;font-weight:bold">{{nls.nodeSituation}} </div>\r\n		\r\n		\r\n		<div style="width: 90%">\r\n			<div class="top-label">\r\n				<div style="background-color: rgb(222, 222, 222)"></div>关机\r\n			</div>\r\n			<div class="top-label">\r\n				<div style="background-color: rgb(143, 233, 165)"></div>空闲\r\n			</div>\r\n			<div class="top-label">\r\n				<div style="background-color: rgb(253, 241, 0)"></div>已占用\r\n			</div>\r\n			<div class="top-label">\r\n				<div style="background-color: rgb(255, 204, 0)"></div>忙碌\r\n			</div>\r\n			<canvas id="nodesOverview" height="300" width="500"></canvas>\r\n		</div>\r\n	\r\n	\r\n	</div>\r\n</div>'}),define("customUI/admin/dashboard/jobNodeBar/nls/jobNodeBar",{root:{nodeSituation:"节点占用情况",offStatus:"关机",busyStatus:"忙碌",workingStatus:"已占用",idleStatus:"空闲",head:"管理节点",login:"登录节点",compute:"计算节点",io:"I/O节点",gpu:"GPU节点"},zh:!0}),define("customUI/admin/dashboard/jobNodeBar/nls/zh/jobNodeBar",{nodeSituation:"节点占用情况",offStatus:"关机",busyStatus:"忙碌",workingStatus:"已占用",idleStatus:"空闲",head:"管理节点",login:"登录节点",compute:"计算节点",io:"I/O节点",gpu:"GPU节点"}),define("libs/require-css/css!customUI/admin/dashboard/jobNodeBar/css/jobNodeBar",[],function(){}),define("customUI/admin/dashboard/jobNodeBar/jobNodeBarView",["marionette","chartStackedBar","text!./templates/jobNodeBarTmpl.mustache","utils/constants/urlConstants","utils/eventBus","utils/constants/constants","customUI/admin/dashboard/jobChart/jobChart","i18n!./nls/jobNodeBar","css!./css/jobNodeBar"],function(e,t,n,i,r,s,o,a){return e.ItemView.extend({className:"row admin-jobNodeBar",templateHelpers:function(){return{nls:a}},template:n,onShow:function(){var e=this,t=new o({el:$("#job_chart_admin")});t.render(),$("#job_submit_start").click(function(){var e=new jobView({el:$("#dialog-region")});e.render()});var e=this;$.ajax({type:"GET",url:i.nodesOverview,dataType:"json",success:function(t){e.renderNodeChart(t,!0)},error:function(e,t,n){console.log(t+n),console.log(e)}}),r.on(s.refreshAdmin,e.renderNodeChart)},renderNodeChart:function(e,t){var n=e;e.nodesOverview&&(n=e.nodesOverview);for(var i=4,r=2,s=0;s<n.types.length;s++)"gpu"==n.types[s]?i=s:"compute"==n.types[s]&&(r=s);n.datasets.off[r]=n.datasets.off[r]+n.datasets.off[i],n.datasets.busy[r]=n.datasets.busy[r]+n.datasets.busy[i],n.datasets.occupied[r]=n.datasets.occupied[r]+n.datasets.occupied[i],n.datasets.idle[r]=n.datasets.idle[r]+n.datasets.idle[i];var o={labels:[a.head,a.login,a.compute,a.io],datasets:[{fillColor:"rgba(222, 222, 222, 1)",strokeColor:"rgba(222, 222, 222,0.8)",highlightFill:"rgba(222, 222, 222,0.75)",highlightStroke:"rgba(222, 222, 222, 0.5)",data:n.datasets.off},{fillColor:"rgba(255, 204, 0, 1)",strokeColor:"rgba(255, 204, 0,0.8)",highlightFill:"rgba(255, 204, 0,0.75)",highlightStroke:"rgba(255, 204, 0, 0.5)",data:n.datasets.busy},{fillColor:"rgba(253, 241, 0, 1)",strokeColor:"rgba(253, 241, 0,0.8)",highlightFill:"rgba(253, 241, 0,0.75)",highlightStroke:"rgba(253, 241, 0 , 0.5)",data:n.datasets.occupied},{fillColor:"rgba(143, 233, 165, 1)",strokeColor:"rgba(143, 233, 165, 0.8)",highlightFill:"rgba(143, 233, 165, 0.75)",highlightStroke:"rgba(143, 233, 165 ,0.5)",data:n.datasets.idle}]},l=document.getElementById("nodesOverview").getContext("2d");window.myBar=new Chart(l).StackedBar(o,{animation:t,responsive:!0,scaleShowGridLines:!1,scaleShowVerticalLines:!1,barValueSpacing:35})}})}),define("libs/require-css/css!customUI/admin/dashboard/overview/css/dashboardView",[],function(){}),define("customUI/admin/dashboard/overview/dashboardView",["marionette","text!./templates/dashboardTmpl.mustache","../resourceBar/resourceBarView","../clusterBar/clusterBarView","../jobNodeBar/jobNodeBarView","css!./css/dashboardView"],function(e,t,n,i,r){return e.LayoutView.extend({template:t,regions:{adminDashboardCluster:"#admin-cluster-wrapper",adminDashboardResource:"#admin-resource-wrapper",adminDashboardJobNode:"#admin-job-node-wrapper"},onShow:function(){this.getRegion("adminDashboardCluster").show(new i),this.getRegion("adminDashboardResource").show(new n),this.getRegion("adminDashboardJobNode").show(new r)}})}),define("text!customUI/admin/userboard/userboard/templates/userboardTmpl.mustache",[],function(){return'<!--\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n-->\r\n<div class="admin-users-nav">\r\n  <div class="inner">\r\n    <ul class="sidenav">\r\n      <li>\r\n          <a href="/#admin/users/groupsManagement" class="admin-users-groups-mgt"><span>{{nls.userGroups}}</span></a>\r\n      </li>\r\n      <li>\r\n          <a href="/#admin/users/usersManagement" class="admin-users-users-mgt"><span>{{nls.users}}</span></a>\r\n      </li>\r\n      <li>\r\n          <a href="/#admin/users/accountingManagement" class="admin-users-accounting-mgt"><span>{{nls.accounting}}</span></a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="admin-users-main" id="admin-users-container">\r\n</div>'}),define("customUI/admin/userboard/userboard/nls/userboard",{root:{users:"用户",userGroups:"用户组",accounting:"计费组"},zh:!0,en:!0}),define("customUI/admin/userboard/userboard/nls/zh/userboard",{users:"用户",userGroups:"用户组",accounting:"计费组"}),define("libs/require-css/css!customUI/admin/userboard/userboard/css/userboardView",[],function(){}),define("customUI/admin/userboard/userboard/userboardView",["marionette","text!./templates/userboardTmpl.mustache","customUI/userManagement/userManagementView","customUI/groupManagement/userGroupView","customUI/accountingManagement/accountingMgtView","i18n!./nls/userboard","css!./css/userboardView"],function(e,t,n,i,r,s){return e.LayoutView.extend({className:"clearfix admin-users",template:t,templateHelpers:function(){return{nls:s}},regions:{adminDashboardCluster:"#admin-cluster-wrapper",adminDashboardResource:"#admin-resource-wrapper",adminDashboardJobNode:"#admin-job-node-wrapper"},initialize:function(e){this.currentView=e.currentView
},onShow:function(){var e=this;"usersManagement"===this.currentView?e.changeView($(".admin-users-users-mgt"),n):"accountingManagement"===this.currentView?e.changeView($(".admin-users-accounting-mgt"),r):e.changeView($(".admin-users-groups-mgt"),i),$(".admin-users").css("background-color","white"),$(".admin-users-nav").css("height",document.body.scrollHeight-60),$(window).resize(function(){$(".admin-users-nav").length>0&&$(".admin-users-nav").css("height",document.body.scrollHeight-60)})},changeView:function(e,t){e.css("background-color","white");var n=new t({el:$("#admin-users-container")});n.render()}})}),define("Controller",["marionette","RegionManager","core/layout/welcome/welcomeView","customUI/nodeList/nodeListView","customUI/user/dashboard/overview/dashboardView","customUI/admin/dashboard/overview/dashboardView","customUI/admin/userboard/userboard/userboardView"],function(e,t,n,i,r,s,o){return e.Controller.extend({index:function(){var e=new r;e.render(),t.showContent(e)},about:function(){t.showContent(new n)},user:function(){t.showContent(new n)},adminNodes:function(){"False"!==$.cookie("is_admin")&&t.showAllNodes()},adminUsers:function(e){"False"!==$.cookie("is_admin")&&t.showContent(new o({currentView:e}))},jobs:function(){t.showJobView()},files:function(){t.showFileManagement()},admin:function(){if("False"!==$.cookie("is_admin")){var e=new s;e.render(),t.showContent(e)}},jobChart:function(){t.showJobChart()}})}),define("Router",["marionette","Controller"],function(e,t){return e.AppRouter.extend({controller:new t,appRoutes:{"":"index","admin/nodes":"adminNodes","admin/users/:view":"adminUsers",files:"files",admin:"admin"}})}),define("App",["marionette","backbone","hogan","Router","RegionManager","utils/utils","utils/constants/urlConstants"],function(e,t,n,i,r,s,o){var a,l=new e.Application({initialize:function(){a=new i}});return l.on("before:start",function(){e.Renderer.render=function(e,t){return n.compile(e).render(t)}}),l.on("start",function(){t.history.start(),$.ajaxSetup({cache:!1});var e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,n){var i=t.toLowerCase();if("post"===i||"put"===i||"delete"===i){var r=this.send;this.send=function(){this.setRequestHeader("X-CSRFToken",$.cookie("csrftoken")),n===o.files&&this.setRequestHeader("Accept","application/json"),r.apply(this,arguments)}}e.apply(this,arguments)};var n=!1;-1!==window.location.hash.indexOf("admin")&&"True"===$.cookie("is_admin")&&(n=!0),r.showHeader({isAdmin:n}),r.showFooter(),s.startRefreshing()}),l.router=a,window.App=l,l}),require.config({baseUrl:"/static/js",waitSeconds:0,config:{i18n:{locale:"zh"}},paths:{jquery:"libs/jquery/dist/jquery",jquery_ui:"libs/jquery-ui/jquery-ui",bootstrap:"libs/bootstrap/dist/js/bootstrap.min",underscore:"libs/lodash/lodash",backbone:"libs/backbone/backbone",marionette:"libs/marionette/lib/backbone.marionette",hogan:"libs/hogan/web/1.0.0/hogan",text:"libs/requirejs-text/text",i18n:"libs/requirejs-i18n/i18n",css:"libs/require-css/css",metisMenu:"libs/metisMenu/dist/metisMenu",datatables:"libs/datatables/media/js/jquery.dataTables",cookie:"libs/jquery.cookie/jquery.cookie",multiselect:"libs/bootstrap-multiselect/dist/js/bootstrap-multiselect",datatables_bootstrap:"libs/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap",dataTables_tableTools:"libs/datatables-tabletools/js/dataTables.tableTools",elfinder:"libs/elfinder/js/elfinder.full",elfinder_i18n:"libs/elfinder/js/i18n/elfinder.zh_CN",chartjs:"libs/chartjs/Chart",chartStackedBar:"libs/chartjs/Chart.StackedBar",bootstrap_notify:"libs/remarkable-bootstrap-notify/bootstrap-notify",resourceDoughnutWidget:"widgets/doughnut/resourceDoughnutWidget",resourceBarWidget:"widgets/barView/resourceBarWidget",jqueryJson:"libs/jquery-json/src/jquery.json",jquery_validation:"libs/jquery.validation/dist/jquery.validate",raphael:"libs/raphael/raphael",morris:"libs/morrisjs/morris"},deps:["text","marionette","i18n"],map:{"*":{css:"libs/require-css/css"}},shim:{backbone:{deps:["jquery","underscore"]},marionette:{deps:["backbone"]},bootstrap:{deps:["jquery"]},hogan:{exports:"Hogan"},metisMenu:{deps:["jquery"]},datatables:{deps:["jquery"]},cookie:{deps:["jquery"]},jquery_validation:{deps:["jquery"]},dataTables_tableTools:{deps:["datatables"]},datatables_bootstrap:{deps:["datatables"]},elfinder:{deps:["jquery_ui","css!libs/elfinder/css/elfinder.full"]},elfinder_i18n:{deps:["elfinder"]},bootstrap_notify:{deps:["jquery"]},resourceDoughnutWidget:{deps:["chartjs"]},morris:{deps:["jquery","raphael"]}}}),requirejs.onError=function(e){console.log(e),console.log(e.requireType),console.log(e.requireModules)},requirejs(["App"],function(e){e.start()}),define("config",function(){}),function(e){var t=document,n="appendChild",i="styleSheet",r=t.createElement("style");r.type="text/css",t.getElementsByTagName("head")[0][n](r),r[i]?r[i].cssText=e:r[n](t.createTextNode(e))}('/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.pwdRow{\r\n  padding-right:0px;\r\n    padding-left: 7px;\r\n}\r\n.pwdDlg{\r\n  width:600px;\r\n}\r\n.btn-base{\r\n  width:20%;\r\n  margin-right:20%;\r\n}\r\n.inputClass{\r\n  padding-right:0px;\r\n}\r\n.userNameSpan{\r\n    display: block;\r\n    width: 100%;\r\n    height: 34px;\r\n    padding-left: 12px;\r\n  font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n}\r\n.showMessage{\r\n    display:block;\r\n}\r\n.hideMessage{\r\n    display:none;\r\n}\r\n\r\n.emptyPwdMsg{\r\n    padding:5px;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.loginRow{\r\n  margin:8px;\r\n}\r\n\r\n.loginLogoArea{\r\n  background-image: url(\'/static/js/core/layout/login/style/images/top_bg.png\');\r\n  height:40%;\r\n  background-color: #C2DBF5;\r\n  background-repeat: repeat-x;\r\n  background-position: 0 125px;\r\n  min-height: 360px;\r\n}\r\n.loginformArea{\r\n  background-image: url(\'/static/js/core/layout/login/style/images/loginform_bg.png\');\r\n  background-color: #66A4E5;\r\n  height:60%;\r\n  min-height: 360px;\r\n  background-repeat: repeat-x;\r\n}\r\n.licoHeader{\r\n  background-image: url(\'/static/js/core/layout/login/style/images/lico_header_01.png\');\r\n  height:45px;\r\n  background-repeat: no-repeat;\r\n  margin-left: 30px;\r\n}\r\n.licoLogo{\r\n  margin-top:100px;\r\n  height:160px;\r\n  /*\r\n  background-image: url(\'/static/js/core/layout/login/style/images/lico.png\');\r\n  */\r\n  background-image: url(\'/static/js/core/layout/login/style/images/lico_cn.png\');\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n\r\n.loginInput{\r\n  background-color: transparent;\r\n}\r\n\r\n.loginFormClass{\r\n  width:50%;\r\n  margin:0 auto;\r\n}\r\n#loginForm>.loginRow>.tooltip>.tooltip-inner{\r\n  background-color: #FFFFFF;\r\n  color: #000000;\r\n  font-size: 16px;\r\n}\r\n.loginHeader{\r\n  text-align:center;\r\n  font-weight: 600;\r\n}\r\n.hpcUserIconClass{\r\n  height:25px;\r\n  width: 46px;\r\n  padding:0px;\r\n  background-image: url(\'/static/js/core/layout/login/style/images/ic_person_white_25x25.png\');\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.hpcPwdIconClass{\r\n  height:25px;\r\n  width: 46px;\r\n  padding:0px;\r\n  background-image: url(\'/static/js/core/layout/login/style/images/ic_lock_white_25x25.png\');\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.loginBtn{\r\n  background:#FFFFFF;\r\n  font-size: 20px;\r\n  color:#22374D;\r\n  height:60px;\r\n}\r\n#userNameArea,#passwordArea{\r\n  border:1px solid #FFFFFF;\r\n  border-radius: 6px;\r\n  height:60px;\r\n}\r\n.input-group-addon{\r\n  border:none;\r\n}\r\n.loginInputArea{\r\n  border:none;\r\n  color:#FFFFFF;\r\n  height:60px !important;\r\n}\r\n.loginBtn:hover,.loginBtn:focus,.loginBtn:active,.loginBtn:visited{\r\n  border: #FFF 2px;\r\n  outline:none;\r\n  font-family: "Microsoft YaHei", "微软雅黑";\r\n  color:#FFFFFF;\r\n  background-color: #3E8DDD;\r\n}\r\n\r\n.login-input-overall{\r\n  width:100%;\r\n}\r\n\r\n.modal-overall{\r\n  margin-top:10%;\r\n}\r\n.modal-content-overall{\r\n  width:600px;\r\n}\r\n.modal-title-overall{\r\n  text-align: center;\r\n}\r\n\r\n.modal-header-overall{\r\n  border-bottom: 1px solid #6DA4D6;\r\n  margin-left: 30px;\r\n  margin-right: 30px;\r\n  height:60px;\r\n}\r\n.modal-body-overall{\r\n  margin-left: 30px;\r\n  margin-right:30px;\r\n}\r\n.inputRow-overall{\r\n  margin-top:20px;\r\n}\r\n.label-modal-overall{\r\n  text-align: right;\r\n  padding-right:0px;\r\n  margin-left: 30px;\r\n}\r\n\r\n.modal-footer-overall{\r\n    margin-bottom: 15px;\r\n    border-top: none;\r\n}\r\n\r\n.login-footer {\r\n  color: white;\r\n  text-align: center;\r\n  margin-top: 60px;\r\n}\r\n\r\n.login-footer-version {\r\n  margin-right:30px;\r\n}\r\n\r\n.login-footer-lenovo a {\r\n  color: white;\r\n}\r\n\r\n.login-footer-license {\r\n  margin-left: 30px;\r\n}\r\n\r\n.login-footer-license a{\r\n  color: white;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n\r\n.popover-content{\r\n  padding:0px;\r\n  border-color:blue;\r\n  border-width: 2px;\r\n}\r\n\r\n.hover-card-content {\r\n  list-style-type: none;\r\n  width: 100%;\r\n  display: block;\r\n  padding: 1em 0 1em;\r\n}\r\n\r\n.groupValueClass{\r\n  padding-left: 10px;\r\n}\r\n.pcHoverCardRow{\r\n  padding-left:20px;\r\n  height:40px;\r\n}\r\n.currentUserNameClass{\r\n  font-weight: bold;\r\n}\r\n.hover-card-content .desc,\r\n.profile-label {\r\n  letter-spacing: 0.05rem;\r\n}\r\n.personalCenterFontClass{\r\n  font-size: 14px;\r\n  font-family: "Microsoft YaHei", "微软雅黑";\r\n}\r\n.hover-card-options-wrapper {\r\n  position: relative;\r\n  display: block;\r\n  width: 250px;\r\n  float: left;\r\n  background: #F2F2F2;\r\n  padding: 0 .5em;\r\n  clear: both;\r\n  height: 50px;\r\n  border-bottom-right-radius: 6px;\r\n  border-bottom-left-radius: 6px;\r\n}\r\n\r\n.btn-hc{\r\n  margin-top:8px;\r\n  margin-bottom:5px;\r\n}\r\n.btn-narrowModal{\r\n  width:50%;\r\n  margin-right:25%;\r\n}\r\n.btn-left{\r\n  float: left;\r\n  margin-left:25px;\r\n}\r\n.btn-right{\r\n  float:right;\r\n  margin-right:25px;\r\n}\r\n#currentUserName{\r\n  font-weight:600;\r\n  font-size:18px;\r\n}\r\n\r\n.popover{\r\n  border:1px solid #1E90FF;\r\n}\r\n\r\n#wrapper .popover.bottom>.arrow {\r\n  border-bottom-color: #1E90FF;\r\n}\r\n\r\n.ui-logo-text {\r\n  font-size: 34px;\r\n  font-weight: bold;\r\n  vertical-align: middle;\r\n  margin-left: 10px;\r\n}\r\n\r\n.logo-img {\r\n  position: relative;\r\n  top: -15px;\r\n}\r\n\r\n.profile-text {\r\n  font-size: 12px;\r\n}\r\n\r\n.navbar-menu {\r\n  display: inline-block;\r\n  line-height: 60px;\r\n  height: 60px;\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  color: white;\r\n}\r\n\r\n.navbar-menu-text {\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n\r\n.navbar-menu-wrapper {\r\n  float: left;\r\n  width: 10%;\r\n  text-align: center;\r\n}\r\n\r\n.navbar-menu-wrapper:hover {\r\n  background-color: #808080;\r\n}\r\n\r\n.linkPopoverContentClass{\r\n  width:220px;\r\n}\r\n.linkDiv{\r\n  padding-left:10px;\r\n  height:60px;\r\n}\r\n.returnToUserLink{\r\n  line-height: 60px;\r\n  vertical-align: middle;\r\n  color:#000000;\r\n}\r\n.returnToUserLink:hover,.viewDetailsLink:hover{\r\n  color:#FFFFFF;\r\n  background-color:#66CCFF;\r\n}\r\n.viewDetailsLink{\r\n  line-height: 30px;\r\n  vertical-align: middle;\r\n  color:#000000;\r\n}\r\n.linkImg{\r\n  background-image: url(\'/static/js/core/layout/header/img/ic_launch_white_36.png\');\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  height: 60px;\r\n  width:60px;\r\n}\r\n.upperLinkArea{\r\n  border-bottom: 1px #DDD solid;\r\n}\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.license-column {\r\n  float: left;\r\n}\r\n\r\n.about-version {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.about-company {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.left-license-column {\r\n  margin-left: 30px;\r\n  margin-bottom: 60px;\r\n}\r\n\r\n.right-license-column {\r\n  margin-left: 40px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.ui-footer {\r\n  background-color: #666460;\r\n  height: 30px;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n\r\n.ui-footer a:link {\r\n  color: white;\r\n}\r\n\r\n.ui-footer a:visited {\r\n  color: white;\r\n}\r\n\r\n.ui-footer a:hover {\r\n  color: white;\r\n}\r\n\r\n.ui-footer a:active {\r\n  color: white;\r\n}\r\n\r\n.footer-info {\r\n  color: white;\r\n  padding-left: 50px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  line-height: 30px;\r\n}\r\n\r\n.footer-about {\r\n  color: white;\r\n  padding-right: 50px;\r\n  line-height: 30px;\r\n}\r\n\r\n.footer-about-text {\r\n  float: right;\r\n}\r\n\r\n#footer .ui-footer {\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n  font-size: 12px;\r\n}\r\n\r\n.footer-about-hpc {\r\n  cursor: pointer;\r\n}\r\n\r\n.footer-about-hpc:hover{\r\n  text-decoration: underline;\r\n}/*!\n * elFinder - file manager for web\n * Version 2.x (Nightly: e7423bf) (2015-05-12)\n * http://elfinder.org\n * \n * Copyright 2009-2015, Studio 42\n * Licensed under a 3 clauses BSD license\n */\n\n/* File: /css/commands.css */\n/******************************************************************/\n/*                          COMMANDS STYLES                       */\n/******************************************************************/\n\n/********************** COMMAND "RESIZE" ****************************/\n.elfinder-dialog-resize  { margin-top:.3em; }\n.elfinder-resize-type    { float:left; margin-bottom: .4em; }\n.elfinder-resize-control { padding-top:3em; }\n.elfinder-resize-control input[type=text] { border:1px solid #aaa; text-align: right; }\n.elfinder-resize-preview {\n	width:400px;\n	height:400px;\n	padding:10px;\n	background:#fff;\n	border:1px solid #aaa;\n	float:right;\n	position:relative;\n	overflow:auto;\n/*	z-index:100;*/\n}\n\n.elfinder-resize-handle { position:relative;}\n\n.elfinder-resize-handle-hline,\n.elfinder-resize-handle-vline {\n	position:absolute;\n	background-image:url("../js/libs/elfinder/img/crop.gif");\n}\n\n.elfinder-resize-handle-hline {\n	width:100%;\n	height:1px !important;\n	background-repeat:repeat-x;\n}\n.elfinder-resize-handle-vline {\n	width:1px !important;\n	height:100%;\n	background-repeat:repeat-y;\n}\n\n.elfinder-resize-handle-hline-top    { top:0; left:0; }\n.elfinder-resize-handle-hline-bottom { bottom:0; left:0; }\n.elfinder-resize-handle-vline-left   { top:0; left:0; }\n.elfinder-resize-handle-vline-right  { top:0; right:0; }\n\n.elfinder-resize-handle-point {\n	position:absolute;\n	width:8px;\n	height:8px;\n	border:1px solid #777;\n	background:transparent;\n}\n\n.elfinder-resize-handle-point-n  {\n	top:0;\n	left:50%;\n	margin-top:-5px;\n	margin-left:-5px;\n}\n.elfinder-resize-handle-point-ne {\n	top:0;\n	right:0;\n	margin-top:-5px;\n	margin-right:-5px;\n}\n.elfinder-resize-handle-point-e  {\n	top:50%;\n	right:0;\n	margin-top:-5px;\n	margin-right:-5px;\n}\n.elfinder-resize-handle-point-se  {\n	bottom:0;\n	right:0;\n	margin-bottom:-5px;\n	margin-right:-5px;\n}\n.elfinder-resize-handle-point-s  {\n	bottom:0;\n	left:50%;\n	margin-bottom:-5px;\n	margin-left:-5px;\n}\n.elfinder-resize-handle-point-sw {\n	bottom:0;\n	left:0;\n	margin-bottom:-5px;\n	margin-left:-5px;\n}\n.elfinder-resize-handle-point-w  {\n	top:50%;\n	left:0;\n	margin-top:-5px;\n	margin-left:-5px;\n}\n.elfinder-resize-handle-point-nw {\n	top:0;\n	left:0;\n	margin-top:-5px;\n	margin-left:-5px;\n}\n\n.elfinder-resize-spinner {\n	position:absolute;\n	width:200px;\n	height:30px;\n	top:50%;\n	margin-top:-25px;\n	left:50%;\n	margin-left:-100px;\n	text-align:center;\n	background:url(../js/libs/elfinder/img/progress.gif) center bottom repeat-x;\n}\n\n.elfinder-resize-row { margin-bottom:7px; position:relative;}\n\n.elfinder-resize-label { float:left; width:80px; padding-top: 3px; }\n\n.elfinder-resize-reset {\n	width:16px;\n	height:16px;\n/*	border:1px solid #111;*/\n	position:absolute;\n	margin-top:-8px;\n}\n\n.elfinder-dialog .elfinder-dialog-resize .ui-resizable-e { height:100%; width:10px; }\n.elfinder-dialog .elfinder-dialog-resize .ui-resizable-s { width:100%; height:10px; }\n.elfinder-dialog .elfinder-dialog-resize .ui-resizable-se { \n	background:transparent; \n	bottom:0; \n	right:0; \n	margin-right:-7px;\n	margin-bottom:-7px;\n}\n\n.elfinder-dialog-resize  .ui-icon-grip-solid-vertical {\n	position:absolute;\n	top:50%;\n	right:0;\n	margin-top:-8px;\n	margin-right:-11px;\n}\n.elfinder-dialog-resize .ui-icon-grip-solid-horizontal {\n	position:absolute;\n	left:50%;\n	bottom:0;\n	margin-left:-8px;\n	margin-bottom:-11px;;\n}\n\n.elfinder-resize-row .elfinder-buttonset { float:right; }\n\n.elfinder-resize-rotate-slider {\n	float: left;\n	width: 195px;\n	margin: 7px 7px 0;\n}\n\n/********************** COMMAND "EDIT" ****************************/\n/* edit text file textarea */\n.elfinder-file-edit {\n	width:99%;\n	height:99%;\n	margin:0;\n	padding:2px;\n	border:1px solid #ccc;\n}\n\n/********************** COMMAND "SORT" ****************************/\n/* for list table header sort triangle icon */\ndiv.elfinder-cwd-wrapper-list tr.ui-state-default td {\n	position: relative;\n}\ndiv.elfinder-cwd-wrapper-list tr.ui-state-default td span.ui-icon {\n	position: absolute;\n	top: -5px;\n	left: 0;\n	right: 0;\n	margin: auto;\n}\n\n\n/********************** COMMAND "HELP" ****************************/\n/* help dialog */\n.elfinder-help { margin-bottom:.5em; }\n\n/* fix tabs */\n.elfinder-help .ui-tabs-panel { padding:.5em; }\n.elfinder-dialog .ui-tabs .ui-tabs-nav li a { padding:.2em 1em;}\n\n.elfinder-help-shortcuts {\n	height:300px;\n	padding:1em;\n	margin:.5em 0;\n	overflow:auto;\n}\n.elfinder-help-shortcut { white-space:nowrap; clear:both;}\n\n.elfinder-help-shortcut-pattern { float:left; width:160px;}\n\n.elfinder-help-logo {\n	width:100px;\n	height:96px;\n	float:left;\n	margin-right:1em;\n	background:url(\'../js/libs/elfinder/img/logo.png\') center center no-repeat;\n}\n\n.elfinder-help h3 { font-size:1.5em; margin:.2em 0 .3em 0; }\n\n.elfinder-help-separator { clear:both; padding:.5em;  }\n\n.elfinder-help-link { padding:2px; }\n\n.elfinder-help .ui-priority-secondary { font-size:.9em;}\n\n.elfinder-help .ui-priority-primary { margin-bottom:7px;}\n\n.elfinder-help-team { \n	clear: both; \n	text-align:right; \n	border-bottom:1px solid #ccc;\n	margin:.5em 0;\n	font-size:.9em;\n}\n\n.elfinder-help-team div { float:left; }\n.elfinder-help-license { font-size:.9em;}\n\n.elfinder-help-disabled {\n	font-weight:bold;\n	text-align:center;\n	margin:90px 0;\n}\n\n.elfinder-help .elfinder-dont-panic {\n	display:block;\n	border:1px solid transparent;\n	width:200px;\n	height:200px;\n	margin:30px auto;\n	text-decoration:none;\n	text-align:center;\n	position:relative;\n	background:#d90004;\n	-moz-box-shadow: 5px 5px 9px #111;\n	-webkit-box-shadow:  5px 5px 9px #111;\n	box-shadow:  5px 5px 9px #111;\n	background: -moz-radial-gradient(80px 80px, circle farthest-corner,  #d90004 35%, #960004 100%);\n	background: -webkit-gradient(radial, 80 80, 60, 80 80, 120, from(#d90004), to(#960004));\n	-moz-border-radius: 100px;\n	-webkit-border-radius: 100px;\n	border-radius: 100px;\n	outline:none;\n}\n\n.elfinder-help .elfinder-dont-panic span {\n	font-size:3em;\n	font-weight:bold;\n	text-align:center;\n	color:#fff;\n	position:absolute;\n	left:0;\n	top:45px;\n}\n\n\n\n\n/* File: /css/common.css */\n/*********************************************/\n/*            COMMON ELFINDER STUFFS         */\n/*********************************************/\n\n/* common container */\n.elfinder { padding:0; position:relative; display:block; }\n\n/* right to left enviroment */\n.elfinder-rtl { text-align:right; direction:rtl; }\n\n/* nav and cwd container */\n.elfinder-workzone {\n	padding: 0;\n	position:relative;\n	overflow:hidden;\n}\n\n/* dir/file permissions and symlink markers */\n.elfinder-perms,\n.elfinder-symlink {\n	position:absolute;\n	width:16px;\n	height:16px;\n	background-image:url(../js/libs/elfinder/img/toolbar.png);\n	background-repeat:no-repeat;\n	background-position:0 -528px;\n}\n\n.elfinder-symlink { }\n\n/* noaccess */\n.elfinder-na .elfinder-perms { background-position:0 -96px; }\n\n/* read only */\n.elfinder-ro .elfinder-perms { background-position:0 -64px;}\n\n/* write only */\n.elfinder-wo .elfinder-perms { background-position:0 -80px;}\n\n/* drag helper */\n.elfinder-drag-helper {\n	width:60px;\n	height:50px;\n	padding:0 0 0 25px;\n	z-index:100000;\n}\n\n/* drag helper "plus" icon */\n.elfinder-drag-helper-icon-plus {\n	position:absolute;\n	width:16px;\n	height:16px;\n	left:43px;\n	top:55px;\n	background:url(\'../js/libs/elfinder/img/toolbar.png\') 0 -544px no-repeat;\n	display:none;\n}\n\n/* show "plus" icon when ctrl/shift pressed */\n.elfinder-drag-helper-plus .elfinder-drag-helper-icon-plus { display:block; }\n\n/* files num in drag helper */\n.elfinder-drag-num {\n	position:absolute;\n	top:0;\n	left:0;\n	width:16px;\n	height:14px;\n	text-align:center;\n	padding-top:2px;\n	\n	font-weight:bold;\n	color:#fff;\n	background-color:red;\n	-moz-border-radius: 8px; \n	-webkit-border-radius: 8px; \n	border-radius: 8px;\n}\n\n/* icon in drag helper */\n.elfinder-drag-helper .elfinder-cwd-icon { margin:0 0 0 -24px; float:left; }\n\n/* transparent overlay >_< */\n.elfinder-overlay { opacity: 0; filter:Alpha(Opacity=0); }\n\n/* panels under/below cwd (for search field etc) */\n.elfinder .elfinder-panel {\n	position:relative;\n	background-image:none;\n	padding:7px 12px;\n}\n\n\n\n\n\n\n/* File: /css/contextmenu.css */\n/* menu and submenu */\n.elfinder-contextmenu,\n.elfinder-contextmenu-sub {\n	display:none;\n	position:absolute;\n	border:1px solid #aaa;\n	background:#fff;\n	color:#555;\n	padding:4px 0;\n}\n\n/* submenu */\n.elfinder-contextmenu-sub { top:5px; }\n/* submenu in rtl/ltr enviroment */\n.elfinder-contextmenu-ltr .elfinder-contextmenu-sub { margin-left:-5px; }\n.elfinder-contextmenu-rtl .elfinder-contextmenu-sub { margin-right:-5px; }\n\n/* menu item */\n.elfinder-contextmenu-item {\n	position:relative;\n	display:block;\n	padding:4px 30px;\n	text-decoration:none;\n	white-space:nowrap;\n	cursor:default;\n}\n.elfinder-contextmenu-item .ui-icon {\n	width:16px;\n	height:16px;\n	position:absolute;\n	left:2px;\n	top:50%;\n	margin-top:-8px;\n	display:none;\n}\n\n/* text in item */\n.elfinder-contextmenu .elfinder-contextmenu-item span { display:block; }\n\n\n\n/* submenu item in rtl/ltr enviroment */\n.elfinder-contextmenu-ltr .elfinder-contextmenu-item { text-align:left; }\n.elfinder-contextmenu-rtl .elfinder-contextmenu-item { text-align:right; }\n.elfinder-contextmenu-ltr .elfinder-contextmenu-sub .elfinder-contextmenu-item { padding-left:12px;  }\n.elfinder-contextmenu-rtl .elfinder-contextmenu-sub .elfinder-contextmenu-item { padding-right:12px; }\n\n/* command/submenu icon */\n.elfinder-contextmenu-arrow,\n.elfinder-contextmenu-icon {\n	position:absolute;\n	top:50%;\n	margin-top:-8px;\n}\n\n/* command icon in rtl/ltr enviroment */\n.elfinder-contextmenu-ltr .elfinder-contextmenu-icon { left:8px; }\n.elfinder-contextmenu-rtl .elfinder-contextmenu-icon { right:8px; }\n\n/* arrow icon */\n.elfinder-contextmenu-arrow {\n	width:16px;\n	height:16px;\n	background:url(\'../js/libs/elfinder/img/arrows-normal.png\') 5px 4px no-repeat;\n}\n\n/* arrow icon in rtl/ltr enviroment */\n.elfinder-contextmenu-ltr .elfinder-contextmenu-arrow { right:5px; }\n.elfinder-contextmenu-rtl .elfinder-contextmenu-arrow { left:5px; background-position: 0 -10px; }\n\n/* disable ui border/bg image on hover */\n.elfinder-contextmenu .ui-state-hover { border:0 solid; background-image:none;}\n\n/* separator */\n.elfinder-contextmenu-separator {\n	height:0px;\n	border-top:1px solid #ccc;\n	margin:0 1px;\n}\n\n/* File: /css/cwd.css */\n/******************************************************************/\n/*                     CURRENT DIRECTORY STYLES                   */\n/******************************************************************/\n/* cwd container to avoid selectable on scrollbar */\n.elfinder-cwd-wrapper {\n	overflow: auto;\n	position:relative;\n	padding:2px;\n	margin:0;\n}\n\n.elfinder-cwd-wrapper-list { padding:0; }\n\n/* container */\n.elfinder-cwd { \n	position:relative;\n	cursor:default;\n	padding:0;\n	margin:0;\n	-ms-touch-action: auto;\n	touch-action: auto;\n	-moz-user-select: -moz-none;\n	-khtml-user-select: none;\n	-webkit-user-select: none;\n	user-select: none;\n	-webkit-tap-highlight-color:rgba(0,0,0,0);\n}\n\n/* container active on dropenter */\n.elfinder .elfinder-cwd-wrapper.elfinder-droppable-active {\n	padding:0;\n	border:2px solid #8cafed;\n}\n\n\n/************************** ICONS VIEW ********************************/\n\n/* file container */\n.elfinder-cwd-view-icons .elfinder-cwd-file {\n	width:120px;\n	height:80px;\n	padding-bottom:2px;\n	cursor:default;\n	border:none;\n/*	overflow:hidden;*/\n/*	position:relative;*/\n}\n\n/* ltr/rtl enviroment */\n.elfinder-ltr .elfinder-cwd-view-icons .elfinder-cwd-file { float:left;  margin:0 3px 12px 0; }\n.elfinder-rtl .elfinder-cwd-view-icons .elfinder-cwd-file { float:right; margin:0 0 5px 3px; }\n\n/* remove ui hover class border */\n.elfinder-cwd-view-icons .elfinder-cwd-file .ui-state-hover { border:0 solid; }\n\n/* icon wrapper to create selected highlight around icon */\n.elfinder-cwd-view-icons .elfinder-cwd-file-wrapper {\n	width:52px;\n	height:52px;\n	margin:1px auto 1px auto;\n	padding:2px;\n	position:relative;\n}\n\n/* file name place */\n.elfinder-cwd-view-icons .elfinder-cwd-filename {\n	text-align:center;\n	white-space:pre;\n	overflow:hidden;\n	text-overflow:ellipsis;\n    -o-text-overflow:ellipsis;\n	margin:3px 1px 0 1px;\n	padding:1px;\n	-moz-border-radius: 8px; \n	-webkit-border-radius: 8px; \n	border-radius: 8px;\n}\n\n/* permissions/symlink markers */\n.elfinder-cwd-view-icons .elfinder-perms { bottom:4px; right:2px; }\n.elfinder-cwd-view-icons .elfinder-symlink { bottom:6px; left:0px; }\n\n/* icon/thumbnail */\n.elfinder-cwd-icon {\n	display:block;\n	width:48px;\n	height:48px;\n	margin:0 auto;\n	background: url(\'../js/libs/elfinder/img/icons-big.png\') 0 0 no-repeat;\n	-moz-background-clip: padding; \n	-webkit-background-clip: padding-box; \n	background-clip: padding-box;\n}\n\n/* "opened folder" icon on dragover */\n.elfinder-cwd .elfinder-droppable-active .elfinder-cwd-icon { background-position: 0 -100px; }\n\n/* mimetypes icons */\n.elfinder-cwd-icon-directory         { background-position:0 -50px; }\n.elfinder-cwd-icon-application       { background-position:0 -150px; }\n.elfinder-cwd-icon-x-empty, \n.elfinder-cwd-icon-text              { background-position:0  -200px; }\n.elfinder-cwd-icon-image, \n.elfinder-cwd-icon-vnd-adobe-photoshop, \n.elfinder-cwd-icon-postscript        { background-position:0 -250px;  }\n.elfinder-cwd-icon-audio             { background-position:0 -300px; }\n.elfinder-cwd-icon-video,\n.elfinder-cwd-icon-flash-video       { background-position:0 -350px; }\n.elfinder-cwd-icon-rtf, \n.elfinder-cwd-icon-rtfd              { background-position: 0 -401px; }\n.elfinder-cwd-icon-pdf               { background-position: 0 -450px; }\n.elfinder-cwd-icon-ms-excel,\n.elfinder-cwd-icon-msword,\n.elfinder-cwd-icon-vnd-ms-excel,\n.elfinder-cwd-icon-vnd-ms-excel-addin-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-excel-sheet-binary-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-excel-sheet-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-excel-template-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-office,\n.elfinder-cwd-icon-vnd-ms-powerpoint,\n.elfinder-cwd-icon-vnd-ms-powerpoint-addin-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-powerpoint-presentation-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-powerpoint-slide-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-powerpoint-slideshow-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-powerpoint-template-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-word,\n.elfinder-cwd-icon-vnd-ms-word-document-macroEnabled-12,\n.elfinder-cwd-icon-vnd-ms-word-template-macroEnabled-12,\n.elfinder-cwd-icon-vnd-oasis-opendocument-chart,\n.elfinder-cwd-icon-vnd-oasis-opendocument-database,\n.elfinder-cwd-icon-vnd-oasis-opendocument-formula,\n.elfinder-cwd-icon-vnd-oasis-opendocument-graphics,\n.elfinder-cwd-icon-vnd-oasis-opendocument-graphics-template,\n.elfinder-cwd-icon-vnd-oasis-opendocument-image,\n.elfinder-cwd-icon-vnd-oasis-opendocument-presentation,\n.elfinder-cwd-icon-vnd-oasis-opendocument-presentation-template,\n.elfinder-cwd-icon-vnd-oasis-opendocument-spreadsheet,\n.elfinder-cwd-icon-vnd-oasis-opendocument-spreadsheet-template,\n.elfinder-cwd-icon-vnd-oasis-opendocument-text,\n.elfinder-cwd-icon-vnd-oasis-opendocument-text-master,\n.elfinder-cwd-icon-vnd-oasis-opendocument-text-template,\n.elfinder-cwd-icon-vnd-oasis-opendocument-text-web,\n.elfinder-cwd-icon-vnd-openofficeorg-extension,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-presentationml-presentation,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-presentationml-slide,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-presentationml-slideshow,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-presentationml-template,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-spreadsheetml-sheet,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-spreadsheetml-template,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-wordprocessingml-document,\n.elfinder-cwd-icon-vnd-openxmlformats-officedocument-wordprocessingml-template { background-position: 0 -500px; }\n.elfinder-cwd-icon-html              { background-position: 0 -550px; }\n.elfinder-cwd-icon-css               { background-position: 0 -600px; }\n.elfinder-cwd-icon-javascript, \n.elfinder-cwd-icon-x-javascript      { background-position: 0 -650px; }\n.elfinder-cwd-icon-x-perl            { background-position: 0 -700px; }\n.elfinder-cwd-icon-x-python          { background-position: 0 -750px; }\n.elfinder-cwd-icon-x-ruby            { background-position: 0 -800px; }\n.elfinder-cwd-icon-x-sh, \n.elfinder-cwd-icon-x-shellscript     { background-position: 0 -850px; }\n.elfinder-cwd-icon-x-c,\n.elfinder-cwd-icon-x-csrc,\n.elfinder-cwd-icon-x-chdr,\n.elfinder-cwd-icon-x-c--, \n.elfinder-cwd-icon-x-c--src,\n.elfinder-cwd-icon-x-c--hdr, \n.elfinder-cwd-icon-x-java, \n.elfinder-cwd-icon-x-java-source     { background-position: 0 -900px; }\n.elfinder-cwd-icon-x-php             { background-position: 0 -950px; }\n.elfinder-cwd-icon-xml               { background-position: 0 -1000px; }\n.elfinder-cwd-icon-zip, \n.elfinder-cwd-icon-x-zip, \n.elfinder-cwd-icon-x-xz, \n.elfinder-cwd-icon-x-7z-compressed   { background-position: 0 -1050px; }\n.elfinder-cwd-icon-x-gzip,  \n.elfinder-cwd-icon-x-tar             { background-position: 0 -1100px; }\n.elfinder-cwd-icon-x-bzip, \n.elfinder-cwd-icon-x-bzip2           { background-position: 0 -1150px; }\n.elfinder-cwd-icon-x-rar, \n.elfinder-cwd-icon-x-rar-compressed  { background-position: 0 -1200px; }\n.elfinder-cwd-icon-x-shockwave-flash { background-position: 0 -1250px; }\n.elfinder-cwd-icon-group             { background-position:0 -1300px;}\n\n/* textfield inside icon */\n.elfinder-cwd input { width:100%; border:0px solid; margin:0; padding:0; }\n.elfinder-cwd-view-icons input {text-align:center; }\n\n.elfinder-cwd-view-icons { text-align:center; }\n\n\n/************************************  LIST VIEW ************************************/\n\n/*.elfinder-cwd-view-list { padding:0 0 4px 0; }*/\n\n.elfinder-cwd table { \n	width: 100%;\n	border-collapse: separate;\n	border: 0 solid;\n	margin: 0 0 10px 0;\n	border-spacing: 0;\n}\n.elfinder .elfinder-cwd table thead tr { border-left:0 solid; border-top:0 solid; border-right:0 solid; }\n\n.elfinder .elfinder-cwd table td { \n	padding:4px 12px;\n	white-space:pre;\n	overflow:hidden;\n	text-align:right;\n	cursor:default;\n	border:0 solid;\n	\n}\n\n.elfinder-ltr .elfinder-cwd table td { text-align:right; }\n.elfinder-ltr .elfinder-cwd table td:first-child { text-align:left; }\n.elfinder-rtl .elfinder-cwd table td { text-align:left; }\n.elfinder-rtl .elfinder-cwd table td:first-child { text-align:right; }\n\n.elfinder-odd-row { background:#eee; }\n\n/* filename container */\n.elfinder-cwd-view-list .elfinder-cwd-file-wrapper { width:97%; position:relative; }\n/* filename container in ltr/rtl enviroment */\n.elfinder-ltr .elfinder-cwd-view-list .elfinder-cwd-file-wrapper { padding-left:23px;  }\n.elfinder-rtl .elfinder-cwd-view-list .elfinder-cwd-file-wrapper { padding-right:23px; }\n\n/* premissions/symlink marker */\n.elfinder-cwd-view-list .elfinder-perms, \n.elfinder-cwd-view-list .elfinder-symlink { top:50%; margin-top:-6px; }\n/* markers in ltr/rtl enviroment */\n.elfinder-ltr .elfinder-cwd-view-list .elfinder-perms   { left:7px;  }\n.elfinder-ltr .elfinder-cwd-view-list .elfinder-symlink { left:-7px; }\n\n/* file icon */\n.elfinder-cwd-view-list td .elfinder-cwd-icon {\n	width:16px;\n	height:16px;\n	position:absolute;\n	top:50%;\n	margin-top:-8px;\n	background-image:url(../js/libs/elfinder/img/icons-small.png);\n}\n/* icon in ltr/rtl enviroment */\n.elfinder-ltr .elfinder-cwd-view-list .elfinder-cwd-icon { left:0;  }\n.elfinder-rtl .elfinder-cwd-view-list .elfinder-cwd-icon { right:0; }\n\n\n\n/* File: /css/dialog.css */\n/*********************************************/\n/*                DIALOGS STYLES             */\n/*********************************************/\n\n/* common dialogs class */\n.std42-dialog {\n	padding:0;\n	position:absolute;\n	left:auto;\n	right:auto;\n}\n\n/* titlebar */\n.std42-dialog .ui-dialog-titlebar {\n	border-left:0 solid transparent;\n	border-top:0 solid transparent;\n	border-right:0 solid transparent;\n	-moz-border-radius-bottomleft: 0; \n	-webkit-border-bottom-left-radius: 0; \n	border-bottom-left-radius: 0; \n	-moz-border-radius-bottomright: 0; \n	-webkit-border-bottom-right-radius: 0; \n	border-bottom-right-radius: 0;\n	font-weight:normal;\n	padding:.2em 1em;\n}\n\n.std42-dialog .ui-dialog-titlebar-close,\n.std42-dialog .ui-dialog-titlebar-close:hover { padding:1px; }\n\n.elfinder-rtl .elfinder-dialog .ui-dialog-titlebar { text-align:right; }\n.elfinder-rtl .elfinder-dialog .ui-dialog-titlebar .ui-dialog-titlebar-close { right:auto; left:.3em; }\n\n/* content */\n.std42-dialog .ui-dialog-content {\n	padding:.3em .5em;\n}\n\n/* buttons */\n.std42-dialog .ui-dialog-buttonpane {\n	border:0 solid;\n	margin:0;\n	padding:.5em .7em;\n}\n\n.std42-dialog .ui-dialog-buttonpane button { margin:0 0 0 .4em;	padding:0; outline:0px solid; }\n.std42-dialog .ui-dialog-buttonpane button span { padding:2px 9px; }\n\n.elfinder-dialog .ui-resizable-e, \n.elfinder-dialog .ui-resizable-s { width:0; height:0;}\n\n.std42-dialog .ui-button input { cursor: pointer;}\n\n/* error/notify/confirm dialogs icon */\n.elfinder-dialog-icon {\n	position:absolute;\n	width:32px;\n	height:32px;\n	left:12px;\n	top:50%;\n	margin-top:-15px;\n	background:url("../js/libs/elfinder/img/dialogs.png") 0 0 no-repeat;\n}\n\n.elfinder-rtl .elfinder-dialog-icon { left:auto; right:12px;}\n\n\n\n/*********************** ERROR DIALOG **************************/\n\n.elfinder-dialog-error .ui-dialog-content,\n.elfinder-dialog-confirm .ui-dialog-content { padding-left: 56px; min-height:35px; }\n\n.elfinder-rtl .elfinder-dialog-error .ui-dialog-content,\n.elfinder-rtl .elfinder-dialog-confirm .ui-dialog-content { padding-left:0; padding-right: 56px; }\n\n/*********************** NOTIFY DIALOG **************************/\n\n.elfinder-dialog-notify .ui-dialog-titlebar-close { display:none; }\n.elfinder-dialog-notify .ui-dialog-content { padding:0; }\n\n/* one notification container */\n.elfinder-notify {\n	border-bottom:1px solid #ccc;\n	position:relative;\n	padding:.5em;\n	\n	text-align:center;\n	overflow:hidden;\n}\n\n.elfinder-ltr .elfinder-notify { padding-left:30px; }\n.elfinder-rtl .elfinder-notify { padding-right:30px; }\n\n.elfinder-notify:last-child { border:0 solid; }\n\n/* progressbar */\n.elfinder-notify-progressbar {\n	width:180px;\n	height:8px;\n	border:1px solid #aaa;\n	background:#f5f5f5;\n	margin:5px auto;\n	overflow:hidden;\n}\n\n.elfinder-notify-progress {\n	width:100%;\n	height:8px;\n	background:url(../js/libs/elfinder/img/progress.gif) center center repeat-x;\n}\n\n.elfinder-notify-progressbar, .elfinder-notify-progress {\n	-moz-border-radius: 2px; \n	-webkit-border-radius: 2px; \n	border-radius: 2px;\n}\n\n/* icons */\n.elfinder-dialog-icon-open, \n.elfinder-dialog-icon-file        { background-position: 0 -225px; }\n.elfinder-dialog-icon-reload      { background-position: 0 -225px; }\n.elfinder-dialog-icon-mkdir       { background-position: 0 -64px; }\n.elfinder-dialog-icon-mkfile      { background-position: 0 -96px; }\n.elfinder-dialog-icon-copy,\n.elfinder-dialog-icon-prepare,\n.elfinder-dialog-icon-move        { background-position: 0 -128px;}\n.elfinder-dialog-icon-upload      { background-position: 0 -160px; }\n.elfinder-dialog-icon-rm          { background-position: 0 -192px; }\n.elfinder-dialog-icon-download    { background-position: 0 -260px; }\n.elfinder-dialog-icon-save        { background-position: 0 -295px; }\n.elfinder-dialog-icon-rename      { background-position: 0 -330px; }\n.elfinder-dialog-icon-archive,\n.elfinder-dialog-icon-extract     { background-position: 0 -365px; }\n.elfinder-dialog-icon-search      { background-position: 0 -402px; }\n.elfinder-dialog-icon-resize,\n.elfinder-dialog-icon-loadimg,\n.elfinder-dialog-icon-netmount,\n.elfinder-dialog-icon-netunmount,\n.elfinder-dialog-icon-dim         { background-position: 0 -434px; }\n\n/*********************** CONFIRM DIALOG **************************/\n\n.elfinder-dialog-confirm-applyall {	padding-top:3px; }\n\n.elfinder-dialog-confirm .elfinder-dialog-icon { background-position:0 -32px; }\n\n\n\n/*********************** FILE INFO DIALOG **************************/\n\n\n.elfinder-info-title .elfinder-cwd-icon {\n	float:left;\n	width:48px;\n	height:48px;\n	margin-right:1em;\n}\n\n.elfinder-info-title strong { display:block; padding:.3em 0 .5em 0; }\n\n.elfinder-info-tb {\n	min-width:200px;\n	border:0 solid;\n	margin:1em .2em 1em .2em;\n}\n\n.elfinder-info-tb td { white-space:nowrap; padding:2px; }\n\n.elfinder-info-tb tr td:first-child { text-align:right;  }\n\n.elfinder-info-tb span { float:left;}\n.elfinder-info-tb a { outline: none; text-decoration:underline; }\n.elfinder-info-tb a:hover { text-decoration:none; }\n.elfinder-info-spinner { \n	width:14px;\n	height:14px;\n	float:left;\n	background: url("../js/libs/elfinder/img/spinner-mini.gif") center center no-repeat;\n	margin:0 5px; \n}\n\n.elfinder-netmount-tb { margin:0 auto; }\n.elfinder-netmount-tb input { border:1px solid #ccc; }\n/*********************** UPLOAD DIALOG **************************/\n\n.elfinder-upload-dropbox {\n	text-align:center;\n	padding:2em 0;\n	border:3px dashed #aaa;\n}\n\n.elfinder-upload-dropbox.ui-state-hover {\n	background:#dfdfdf;\n	border:3px dashed #555;\n}\n\n.elfinder-upload-dialog-or {\n	margin:.3em 0;\n	text-align:center;\n}\n\n.elfinder-upload-dialog-wrapper { text-align:center; }\n\n.elfinder-upload-dialog-wrapper .ui-button { position:relative;	overflow:hidden; }\n\n.elfinder-upload-dialog-wrapper .ui-button form {\n	position:absolute;\n	right:0;\n	top:0;\n	opacity: 0; filter:Alpha(Opacity=0);\n}\n\n.elfinder-upload-dialog-wrapper .ui-button form input {\n	padding:0 20px;\n	font-size:3em;\n\n}\n\n\n/* dialog for elFinder itself */\n.dialogelfinder .dialogelfinder-drag {\n	border-left:0 solid;\n	border-top:0 solid;\n	border-right:0 solid;\n	font-weight:normal;\n	padding:2px 12px;\n	cursor:move;\n	position:relative;\n	text-align:left;\n}\n\n.elfinder-rtl .dialogelfinder-drag { text-align:right;}\n\n.dialogelfinder-drag-close {\n	position: absolute;\n	top:50%;\n	margin-top:-8px;\n}\n\n.elfinder-ltr .dialogelfinder-drag-close { right:12px; }\n.elfinder-rtl .dialogelfinder-drag-close { left:12px; }\n\n\n\n/* File: /css/fonts.css */\n.elfinder-contextmenu .elfinder-contextmenu-item span { font-size:.76em; }\n\n.elfinder-cwd-view-icons .elfinder-cwd-filename { font-size:.7em; }\n.elfinder-cwd-view-list td { font-size:.7em; }\n\n.std42-dialog .ui-dialog-titlebar { font-size:.82em; }\n.std42-dialog .ui-dialog-content { font-size:.72em; }\n.std42-dialog .ui-dialog-buttonpane { font-size:.76em; }\n.elfinder-info-tb { font-size:.9em; }\n.elfinder-upload-dropbox { font-size:1.2em; }\n.elfinder-upload-dialog-or { font-size:1.2em; }\n.dialogelfinder .dialogelfinder-drag { font-size:.9em; }\n.elfinder .elfinder-navbar { font-size:.72em; }\n.elfinder-place-drag .elfinder-navbar-dir { font-size:.9em;}\n.elfinder-quicklook-title { font-size:.7em; }\n.elfinder-quicklook-info-data { font-size:.72em; }\n.elfinder-quicklook-preview-text-wrapper { font-size:.9em; }\n.elfinder-button-menu-item { font-size:.72em; }\n.elfinder-button-search input { font-size:.8em; }\n.elfinder-statusbar div { font-size:.7em; }\n.elfinder-drag-num { font-size:12px; }\n\n\n/* File: /css/navbar.css */\n/*********************************************/\n/*              NAVIGATION PANEL             */\n/*********************************************/\n\n/* container */\n.elfinder .elfinder-navbar {\n	width:230px;\n	padding:3px 5px;\n	background-image:none;\n	border-top:0 solid;\n	border-bottom:0 solid;\n	overflow:auto;\n	display:none;\n	position:relative;\n	-moz-user-select: none;\n	-khtml-user-select: none;\n	-webkit-user-select: none;\n	user-select: none;\n	-webkit-tap-highlight-color:rgba(0,0,0,0);\n/*	border:1px solid #111;*/\n}\n\n\n/* ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar { float:left;  border-left:0 solid; }\n.elfinder-rtl .elfinder-navbar { float:right; border-right:0 solid; }\n.elfinder-ltr .ui-resizable-e { margin-left:10px; }\n\n/* folders tree container */\n.elfinder-tree {\n	display:table; width:100%; margin: 0 0 .5em 0;\n	-webkit-tap-highlight-color:rgba(0,0,0,0);\n}\n\n/* one folder wrapper */\n.elfinder-navbar-wrapper, .elfinder-place-wrapper { }\n\n/* folder */\n.elfinder-navbar-dir { \n	position:relative; \n	display:block; \n	white-space:nowrap;\n	padding:3px 12px;\n	margin: 0;\n	outline:0px solid;\n	border:1px solid transparent;\n	cursor:default;\n	\n}\n\n/* ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar-dir { padding-left:35px; }\n.elfinder-rtl .elfinder-navbar-dir { padding-right:35px; }\n\n/* arrow before icon */\n.elfinder-navbar-arrow {\n	width:12px;\n	height:14px;\n	position:absolute;\n	display:none;\n	top:50%;\n	margin-top:-8px;\n	background-image:url("../js/libs/elfinder/img/arrows-normal.png");\n	background-repeat:no-repeat;\n/*	border:1px solid #111;*/\n}\n\n.ui-state-active .elfinder-navbar-arrow { background-image:url("../js/libs/elfinder/img/arrows-active.png"); }\n\n/* collapsed/expanded arrow view */\n.elfinder-navbar-collapsed .elfinder-navbar-arrow { display:block; }\n\n/* arrow ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar-collapsed .elfinder-navbar-arrow { background-position: 0 4px; left:0; }\n.elfinder-rtl .elfinder-navbar-collapsed .elfinder-navbar-arrow { background-position: 0 -10px; right:0;  }\n.elfinder-ltr .elfinder-navbar-expanded  .elfinder-navbar-arrow,\n.elfinder-rtl .elfinder-navbar-expanded  .elfinder-navbar-arrow { background-position:0 -21px; }\n\n\n/* folder icon */\n.elfinder-navbar-icon {\n	width:16px;\n	height:16px;\n	position:absolute;\n	top:50%;\n	margin-top:-8px;\n	background-image:url("../js/libs/elfinder/img/toolbar.png");\n	background-repeat:no-repeat;\n	background-position:0 -16px;\n}\n\n/* ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar-icon { left:14px; }\n.elfinder-rtl .elfinder-navbar-icon { right:14px; }\n\n/* root folder */\n.elfinder-tree   .elfinder-navbar-root .elfinder-navbar-icon { background-position:0 0; }\n.elfinder-places .elfinder-navbar-root .elfinder-navbar-icon { background-position:0 -48px; }\n\n/* icon in active/hove/dropactive state */\n.ui-state-active           .elfinder-navbar-icon, \n.elfinder-droppable-active .elfinder-navbar-icon, \n.ui-state-hover            .elfinder-navbar-icon { background-position:0 -32px; }\n\n/* subdirs tree */\n.elfinder-navbar-subtree { display:none; }\n\n/* ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar-subtree { margin-left:12px; }\n.elfinder-rtl .elfinder-navbar-subtree { margin-right:12px; }\n\n\n/* spinner */\n.elfinder-navbar-spinner { \n	width:14px;\n	height:14px;\n	position:absolute;\n	display:block;\n	top:50%;\n	margin-top:-7px;\n	background: url("../js/libs/elfinder/img/spinner-mini.gif") center center no-repeat;\n}\n/* spinner ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar-spinner { left:0;  margin-left:-2px; }\n.elfinder-rtl .elfinder-navbar-spinner { right:0; margin-right:-2px; }\n\n/* permissions marker */\n.elfinder-navbar .elfinder-perms { top:50%; margin-top:-8px; }\n\n/* permissions/symlink markers ltr/rtl enviroment */\n.elfinder-ltr .elfinder-navbar .elfinder-perms   { left:  18px; }\n.elfinder-rtl .elfinder-navbar .elfinder-perms   { right: 18px; }\n.elfinder-ltr .elfinder-navbar .elfinder-symlink { left:  8px; }\n.elfinder-rtl .elfinder-navbar .elfinder-symlink { right: 8px; }\n\n/* resizable */\n.elfinder-navbar .ui-resizable-handle { width:12px; background:transparent url(\'../js/libs/elfinder/img/resize.png\') center center no-repeat; left:0; }\n.elfinder-nav-handle-icon {\n	position:absolute;\n	top:50%;\n	margin:-8px 2px 0 2px;\n	opacity: .5; filter:Alpha(Opacity=50);\n}\n\n.elfinder-places {\n	border: none;\n	margin: 0;\n	padding: 0;\n}\n.elfinder-places.elfinder-droppable-active {\n	/*border:1px solid #8cafed;*/\n}\n\n\n\n\n\n\n\n/* File: /css/places.css */\n\n/* File: /css/quicklook.css */\n/* quicklook window */\n.elfinder-quicklook {\n	position:absolute;\n	background:url("../js/libs/elfinder/img/quicklook-bg.png");\n	display:none;\n	overflow:hidden;\n	border-radius:7px;\n	-moz-border-radius:7px;\n	-webkit-border-radius:7px;\n	padding:20px 0 40px 0;\n}\n\n.elfinder-quicklook .ui-resizable-se { \n	width:14px;\n	height:14px;\n	right:5px;\n	bottom:3px;\n	background:url("../js/libs/elfinder/img/toolbar.png") 0 -496px no-repeat;}\n\n/* quicklook fullscreen window */\n.elfinder-quicklook-fullscreen {\n	border-radius:0;\n	-moz-border-radius:0;\n	-webkit-border-radius:0;\n	-webkit-background-clip: padding-box;\n/*	background-clip:padding-box;*/\n	padding:0;\n	background:#000;\n	z-index:90000;\n	display:block;\n}\n/* hide titlebar in fullscreen mode */\n.elfinder-quicklook-fullscreen .elfinder-quicklook-titlebar { display:none; }\n\n/* hide preview border in fullscreen mode */\n.elfinder-quicklook-fullscreen .elfinder-quicklook-preview { border:0 solid ;}\n\n/* quicklook titlebar */\n.elfinder-quicklook-titlebar {\n	text-align:center;\n	background:#777;\n	position:absolute;\n	left:0;\n	top:0;\n	width:100%;\n	height:20px;\n	-moz-border-radius-topleft: 7px; \n	-webkit-border-top-left-radius: 7px; \n	border-top-left-radius: 7px;\n	-moz-border-radius-topright: 7px; \n	-webkit-border-top-right-radius: 7px; \n	border-top-right-radius: 7px;\n	cursor:move;\n}\n\n/* window title */\n.elfinder-quicklook-title { \n	color:#fff; \n	white-space:nowrap; \n	overflow:hidden;\n	padding:2px 0;\n}\n\n/* icon "close" in titlebar */\n.elfinder-quicklook-titlebar .ui-icon { \n	position:absolute;\n	left : 4px;\n	top:50%;\n	margin-top:-8px;\n	width:16px;\n	height:16px;\n	cursor:default;\n}\n\n/* main part of quicklook window */\n.elfinder-quicklook-preview {\n	overflow:hidden;\n	position:relative;\n	border:0 solid;\n	border-left:1px solid transparent;\n	border-right:1px solid transparent;\n	height:100%;\n}\n\n/* wrapper for file info/icon */\n.elfinder-quicklook-info-wrapper {\n	position:absolute;\n	width:100%;\n	left:0;\n	top:50%;\n	margin-top:-50px;\n}\n\n/* file info */\n.elfinder-quicklook-info {\n	padding: 0 12px 0 112px;\n}\n\n/* file name in info */\n.elfinder-quicklook-info .elfinder-quicklook-info-data:first-child { \n	color:#fff; \n	font-weight:bold; \n	padding-bottom:.5em; \n}\n\n/* other data in info */\n.elfinder-quicklook-info-data {\n	padding-bottom:.2em;\n	color:#fff;\n}\n\n\n/* file icon */\n.elfinder-quicklook .elfinder-cwd-icon {\n	position:absolute;\n	left:32px;\n	top:50%;\n	margin-top:-20px;\n}\n\n/* image in preview */\n.elfinder-quicklook-preview img {\n	display:block;\n	margin:0 auto;\n}\n\n/* navigation bar on quicklook window bottom */\n.elfinder-quicklook-navbar {\n	position:absolute;\n	left:50%;\n	bottom:4px;\n	width:140px;\n	height:32px;\n	padding:0px;\n	margin-left:-70px;\n	border:1px solid transparent;\n	border-radius:19px;\n	-moz-border-radius:19px;\n	-webkit-border-radius:19px;\n}\n\n/* navigation bar in fullscreen mode */\n.elfinder-quicklook-fullscreen .elfinder-quicklook-navbar {\n	width:188px;\n	margin-left:-94px;\n	padding:5px;\n	border:1px solid #eee;\n	background:#000;\n}\n\n/* show close icon in fullscreen mode */\n.elfinder-quicklook-fullscreen .elfinder-quicklook-navbar-icon-close,\n.elfinder-quicklook-fullscreen .elfinder-quicklook-navbar-separator {\n	display:inline;\n}\n\n/* icons in navbar */\n.elfinder-quicklook-navbar-icon {\n	width:32px;\n	height:32px;\n	margin:0 7px;\n	float:left;\n	background:url("../js/libs/elfinder/img/quicklook-icons.png") 0 0 no-repeat;\n	\n}\n\n/* fullscreen icon */\n.elfinder-quicklook-navbar-icon-fullscreen {\n	background-position:0 -64px;\n}\n\n/* exit fullscreen icon */\n.elfinder-quicklook-navbar-icon-fullscreen-off {\n	background-position:0 -96px;\n}\n\n/* prev file icon */\n.elfinder-quicklook-navbar-icon-prev {\n	background-position:0 0;\n}\n\n/* next file icon */\n.elfinder-quicklook-navbar-icon-next {\n	background-position:0 -32px;\n}\n\n/* close icon */\n.elfinder-quicklook-navbar-icon-close {\n	background-position:0 -128px;\n	display:none;\n}\n\n/* icons separator */\n.elfinder-quicklook-navbar-separator {\n	width:1px;\n	height:32px;\n	float:left;\n	border-left:1px solid #fff;\n	display:none;\n}\n\n/* text files preview wrapper */\n.elfinder-quicklook-preview-text-wrapper {\n	width: 100%;\n	height:100%;\n	background:#fff;\n	color:#222;\n	overflow:auto;\n}\n\n/* text preview */\npre.elfinder-quicklook-preview-text {\n	margin:0;\n	padding:3px 9px;\n}\n\n/* html/pdf preview */\n.elfinder-quicklook-preview-html,\n.elfinder-quicklook-preview-pdf {\n	width:100%;\n	height:100%;\n	background:#fff;\n	border:0 solid;\n	margin:0;\n}\n\n/* swf preview container */\n.elfinder-quicklook-preview-flash {\n	width:100%;\n	height:100%;\n}\n\n/* audio preview container */\n.elfinder-quicklook-preview-audio {\n	width:100%;\n	position:absolute;\n	bottom:0;\n	left:0;\n}\n\n/* audio preview using embed */\nembed.elfinder-quicklook-preview-audio {\n	height:30px;\n	background:transparent;\n}\n\n/* video preview container */\n.elfinder-quicklook-preview-video {\n	width:100%;\n	height:100%;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* File: /css/statusbar.css */\n/******************************************************************/\n/*                           STATUSBAR STYLES                     */\n/******************************************************************/\n\n\n/* statusbar container */\n.elfinder-statusbar { \n	text-align:center; \n	font-weight:normal;\n	padding:.2em .5em;\n	\n	border-right:0 solid transparent;\n	border-bottom:0 solid transparent;\n	border-left:0 solid transparent;\n}\n\n.elfinder-statusbar a { text-decoration:none; }\n\n\n\n/* path in statusbar */\n.elfinder-path {\n	max-width:30%;\n	white-space:nowrap;\n	overflow:hidden;\n	text-overflow:ellipsis;\n    -o-text-overflow:ellipsis;\n}\n.elfinder-ltr .elfinder-path { float:left;  }\n.elfinder-rtl .elfinder-path { float:right; }\n\n/* total/selected size in statusbar */\n.elfinder-stat-size { white-space:nowrap; }\n.elfinder-ltr .elfinder-stat-size { float:right; }\n.elfinder-rtl .elfinder-stat-size { float:left; }\n\n.elfinder-stat-selected { white-space:nowrap; overflow:hidden; }\n\n/* File: /css/toolbar.css */\n/*********************************************/\n/*               TOOLBAR STYLES              */\n/*********************************************/\n/* toolbar container */\n.elfinder-toolbar { \n	padding:4px 0 3px 0; \n	border-left:0 solid transparent;\n	border-top:0 solid transparent;\n	border-right:0 solid transparent;\n}\n\n/* container for button\'s group */\n.elfinder-buttonset {\n	margin: 1px 4px;\n	float:left;\n	background:transparent;\n	padding:0;\n	-moz-border-radius: 4px;\n	-webkit-border-radius: 4px;\n	border-radius: 4px;\n}\n\n/*.elfinder-buttonset:first-child { margin:0; }*/\n\n/* button */\n.elfinder .elfinder-button {\n	width:16px;\n	height:16px;\n	margin:0;\n	padding:4px;\n	float:left;\n	overflow:hidden;\n	position:relative;\n	border:0 solid;\n	-webkit-box-sizing: content-box;\n	-moz-box-sizing: content-box;\n	box-sizing: content-box;\n}\n\n.elfinder .ui-icon-search { cursor:pointer;}\n\n.elfinder-button:first-child {\n	-moz-border-radius-topleft: 4px; \n	-webkit-border-top-left-radius: 4px; \n	border-top-left-radius: 4px;\n	-moz-border-radius-bottomleft: 4px; \n	-webkit-border-bottom-left-radius: 4px; \n	border-bottom-left-radius: 4px;\n}\n\n.elfinder-button:last-child {\n	-moz-border-radius-topright: 4px; \n	-webkit-border-top-right-radius: 4px; \n	border-top-right-radius: 4px;\n	-moz-border-radius-bottomright: 4px; \n	-webkit-border-bottom-right-radius: 4px; \n	border-bottom-right-radius: 4px;\n}\n\n/* separator between buttons, required for berder between button with ui color */\n.elfinder-toolbar-button-separator {\n	float:left;\n	padding:0;\n	height:24px;\n	border-top:0 solid;\n	border-right:0 solid;\n	border-bottom:0 solid;\n	width:0;\n}\n\n/* change icon opacity^ not button */\n.elfinder .elfinder-button.ui-state-disabled { opacity:1; filter:Alpha(Opacity=100);}\n.elfinder .elfinder-button.ui-state-disabled .elfinder-button-icon { opacity:.4; filter:Alpha(Opacity=40);}\n\n/* rtl enviroment */\n.elfinder-rtl .elfinder-buttonset { float:right; }\n\n/* icon inside button */\n.elfinder-button-icon {\n	width:16px;\n	height:16px;\n	display:block;\n	background:url(\'../js/libs/elfinder/img/toolbar.png\')  no-repeat;\n}\n\n/* buttons icons */\n.elfinder-button-icon-home      { background-position: 0 0;  }\n.elfinder-button-icon-back      { background-position: 0 -112px; }\n.elfinder-button-icon-forward   { background-position: 0 -128px; }\n.elfinder-button-icon-up        { background-position: 0 -144px; }\n.elfinder-button-icon-reload    { background-position: 0 -160px; }\n.elfinder-button-icon-open      { background-position: 0 -176px; } \n.elfinder-button-icon-mkdir     { background-position: 0 -192px; }\n.elfinder-button-icon-mkfile    { background-position: 0 -208px; }\n.elfinder-button-icon-rm        { background-position: 0 -224px; }\n.elfinder-button-icon-copy      { background-position: 0 -240px; }\n.elfinder-button-icon-cut       { background-position: 0 -256px; }\n.elfinder-button-icon-paste     { background-position: 0 -272px; }\n.elfinder-button-icon-getfile   { background-position: 0 -288px; }\n.elfinder-button-icon-duplicate { background-position: 0 -304px; }\n.elfinder-button-icon-rename    { background-position: 0 -320px; }\n.elfinder-button-icon-edit      { background-position: 0 -336px; }\n.elfinder-button-icon-quicklook { background-position: 0 -352px; }\n.elfinder-button-icon-upload    { background-position: 0 -368px; }\n.elfinder-button-icon-download  { background-position: 0 -384px; }\n.elfinder-button-icon-info      { background-position: 0 -400px; }\n.elfinder-button-icon-extract   { background-position: 0 -416px; }\n.elfinder-button-icon-archive   { background-position: 0 -432px; }\n.elfinder-button-icon-view      { background-position: 0 -448px; }\n.elfinder-button-icon-view-list { background-position: 0 -464px; }\n.elfinder-button-icon-help      { background-position: 0 -480px; }\n.elfinder-button-icon-resize    { background-position: 0 -512px; }\n.elfinder-button-icon-search    { background-position: 0 -561px; }\n.elfinder-button-icon-sort      { background-position: 0 -577px; }\n.elfinder-button-icon-rotate-r  { background-position: 0 -625px; }\n.elfinder-button-icon-rotate-l  { background-position: 0 -641px; }\n\n/* button with dropdown menu*/\n.elfinder .elfinder-menubutton { overflow:visible; }\n\n\n\n/* menu */\n.elfinder-button-menu {\n	position:absolute;\n	left:0;\n	top:25px;\n	padding:3px 0;\n}\n\n/* menu item */\n.elfinder-button-menu-item {\n	white-space:nowrap;\n	cursor:default;\n	padding:5px 19px;\n	position:relative;\n}\n\n/* fix hover ui class */\n.elfinder-button-menu .ui-state-hover { border:0 solid; }\n\n.elfinder-button-menu-item-separated { border-top:1px solid #ccc; }\n\n.elfinder-button-menu-item .ui-icon {\n	width:16px;\n	height:16px;\n	position:absolute;\n	left:2px;\n	top:50%;\n	margin-top:-8px;\n	display:none;\n}\n\n.elfinder-button-menu-item-selected .ui-icon { display:block; }\n.elfinder-button-menu-item-selected-asc .ui-icon-arrowthick-1-n { display:none; }\n.elfinder-button-menu-item-selected-desc .ui-icon-arrowthick-1-s { display:none; }\n\n/* hack for upload button */\n.elfinder-button form {\n	position:absolute;\n	top:0;\n	right:0;\n	opacity: 0; filter:Alpha(Opacity=0);\n	cursor: pointer;\n}\n\n.elfinder .elfinder-button form input { background:transparent; cursor: default;}\n\n/* search "button" */\n.elfinder .elfinder-button-search {\n	border:0 solid;\n	background:transparent;\n	padding:0;\n	margin: 1px 4px;\n	height: auto;\n	min-height: 26px;\n	float:right;\n	width:202px;\n}\n\n/* ltr/rte enviroment */\n.elfinder-ltr .elfinder-button-search { float:right; margin-right:10px; }\n.elfinder-rtl .elfinder-button-search { float:left; margin-left:10px; }\n\n/* search text field */\n.elfinder-button-search input {\n	width:160px;\n	height:22px;\n	padding:0 20px;\n	line-height: 22px;\n	border:0 solid;\n	border:1px solid #aaa;\n	-moz-border-radius: 12px;\n	-webkit-border-radius: 12px;\n	border-radius: 12px;\n	outline:0px solid;\n}\n\n.elfinder-rtl .elfinder-button-search input { direction:rtl; }\n\n/* icons */\n.elfinder-button-search .ui-icon {\n	position:absolute;\n	height:18px;\n	top: 50%;\n	margin:-9px 4px 0 4px;\n	opacity: .6; \n	filter:Alpha(Opacity=60);\n}\n\n/* search/close icons */\n.elfinder-ltr .elfinder-button-search .ui-icon-search { left:0;}\n.elfinder-rtl .elfinder-button-search .ui-icon-search { right:0;}\n.elfinder-ltr .elfinder-button-search .ui-icon-close { right:0;}\n.elfinder-rtl .elfinder-button-search .ui-icon-close { left:0;}\n\n\n\n\n\n\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.running_working_dir, .waiting_working_dir, .finish_working_dir {\r\n  cursor: pointer;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n#wrapper .elfinder-button-icon-choosefolder {\r\n  background-position: 0 -288px;\r\n}\r\n\r\n.elfinder-contextmenu-item .elfinder-button-icon-choosefolder {\r\n  background-position: 0 -288px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n#wrapper .elfinder-button-icon-choosefile {\r\n  background-position: 0 -288px;\r\n}\r\n\r\n.elfinder-contextmenu-item .elfinder-button-icon-choosefile {\r\n  background-position: 0 -288px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.job-font-bold {\r\n	font-weight: bold;\r\n}\r\n\r\n.job-pattern {\r\n	font-size: 14px;\r\n	font-weight: normal;\r\n	margin-left: 20px;\r\n}\r\n\r\n.job-submit-launch-btn {\r\n	margin-top: 50px;\r\n}\r\n\r\n.job-name {\r\n	width: 85px;\r\n	margin-left: 20px;\r\n	position: fixed;\r\n}\r\n\r\n.job-submit-dialog {\r\n	width: auto;\r\n	display: block;\r\n}\r\n\r\n.job-name-input {\r\n	border-radius: 4px;\r\n	border: 1px solid #ccc;\r\n	position: static;\r\n	margin-left: 108px;\r\n}\r\n\r\n.job-input {\r\n	margin-left: 108px;\r\n	position: fixed;\r\n}\r\n\r\n.job-create {\r\n	margin-left: 450px;\r\n}\r\n\r\n.job-heading {\r\n	background-color: #f5f5f5;\r\n}\r\n\r\n.job-font-weight-normal {\r\n	font-weight: normal;\r\n}\r\n\r\n.job-form-group-margin-left {\r\n	margin-left: 20px;\r\n}\r\n\r\n.comment_font_color {\r\n	color: #999999;\r\n}\r\n\r\n.form-control-invalid {\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #FF80C0;\r\n    border-radius: 4px;\r\n    box-shadow: 0 1px 1px rgba(255, 128, 192, 0.075) inset;\r\n    color: #555;\r\n    display: block;\r\n    font-size: 14px;\r\n    height: 34px;\r\n    line-height: 1.42857;\r\n    padding: 6px 12px;\r\n    transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;\r\n    width: 100%;\r\n}\r\n\r\n.form-control-invalid:focus {\r\n    border-color: #FF80C0;\r\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset, 0 0 8px rgba(255, 128, 192, 0.6);\r\n    outline: 0 none;\r\n}\r\n\r\n.form-control-invalid[disabled], .form-control-invalid[readonly] {\r\n    background-color: #eee;\r\n    cursor: not-allowed;\r\n    opacity: 1;\r\n}\r\n\r\n.elfinder-dlg {\r\n  z-index: 999999;\r\n}\r\n\r\n.elfinder-dlg .modal-dialog {\r\n  width: 850px;\r\n}\r\n\r\n.elfinder-dlg .modal-content {\r\n  width: 850px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n\r\n.overall-padding{\r\n	padding-top:20px;\r\n}\r\n.userModalInput{\r\n	padding-right: 0px;\r\n\r\n  display: inline-block;\r\n  padding-left:7px;\r\n  width:180px;\r\n}\r\n.btn-narrowModal{\r\n  width:50%;\r\n  margin-right:25%;\r\n}\r\n#userGrid  tr td:first-child {\r\n    text-align: center;\r\n}\r\n\r\n#userGrid  tr td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/default.png\');\r\n    /*content:"\\f10c";*//* fa-circle-o */\r\n    /*content: "\\f096";*/ /* fa-square-o */\r\n    /*font-family: FontAwesome;*/\r\n}\r\n\r\n#userGrid  tr.selected td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/check.png\') !important;\r\n    /*content:"\\f05d";*//* fa-check-circle-o */\r\n    /*content: "\\f046";*/ /* fa-check-square-o */\r\n}\r\n\r\n#userGrid  tr:hover td:first-child:before{\r\n  content:url(\'/static/js/customUI/admin/userboard/userboard/img/hover.png\');\r\n}\r\n\r\n.dt-center{\r\n  text-align: center;\r\n}\r\n\r\n.multiselect.btn.btn-default{\r\n	overflow: inherit !important;\r\n}\r\n\r\n.left-style{\r\n	padding-left:30px;\r\n  padding-right:0px;\r\n}\r\n\r\n.right-style{\r\n	padding-right:30px;\r\n  padding-left:0px;\r\n}\r\n.tips-header{\r\n  font-weight: 600;\r\n}\r\n.tips-content{\r\n  padding-left: 20px;\r\n}\r\n.deletingStatusIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/deleting.gif\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.creatingStatusIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/adding.gif\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.invalidStatusIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/invalid.png\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.errorStatusIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/invalid.png\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.updatingStatusIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/updating.gif\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.warningIcon{\r\n  height: 25px;\r\n  width: 25px;\r\n  display: inline-block;\r\n  background-image: url(\'/static/js/customUI/userManagement/style/images/warning.png\') ;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  vertical-align: middle;\r\n}\r\n\r\n.modal-footer-overall{\r\n    margin-bottom: 15px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n\r\n.block-header{\r\n	font-weight:bold;\r\n	font-size:18px;\r\n}\r\n.block-content{\r\n	margin-left:10px;\r\n}\r\n\r\n.overall-padding{\r\n	padding-top:20px;\r\n}\r\n.groupInput{\r\n	width:300px;\r\n	margin-left: 7px;\r\n	display: inline-block;\r\n}\r\n#groupTable tr td:first-child {\r\n    text-align: center;\r\n}\r\n\r\n#groupTable  tr td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/default.png\');\r\n    /*content:"\\f10c";*//* fa-circle-o */\r\n    /*content: "\\f096";*/ /* fa-square-o */\r\n    /*font-family: FontAwesome;*/\r\n}\r\n\r\n#groupTable  tr.selected td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/check.png\') !important;\r\n    /*content:"\\f05d";*//* fa-check-circle-o */\r\n    /*content: "\\f046";*/ /* fa-check-square-o */\r\n}\r\n\r\n#groupTable  tr:hover td:first-child:before{\r\n  content:url(\'/static/js/customUI/admin/userboard/userboard/img/hover.png\');\r\n}\r\n\r\n.dt-center{\r\n	text-align: center;\r\n}\r\n\r\n.modal-footer-overall{\r\n    margin-bottom: 15px;\r\n    border-top: none;\r\n}\r\n\r\n.overall-heading{\r\n	line-height: 60px;\r\n  	vertical-align: middle;\r\n  	height: 60px;\r\n  	margin-top: 0px;\r\n  	margin-bottom: 0px;\r\n}\r\n\r\n.userViewArea{\r\n	padding-left:0px;\r\n}\r\n\r\n.multiselect-container.dropdown-menu>.active>a {\r\n  background-color: white;\r\n  color: #333;\r\n}\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n\r\n#accountingGrid tr td:first-child {\r\n    text-align: center;\r\n}\r\n\r\n#accountingGrid  tr td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/default.png\');\r\n    /*content:"\\f10c";*//* fa-circle-o */\r\n    /*content: "\\f096";*/ /* fa-square-o */\r\n    /*font-family: FontAwesome;*/\r\n}\r\n\r\n#accountingGrid  tr.selected td:first-child:before {\r\n  content: url(\'/static/js/customUI/admin/userboard/userboard/img/check.png\') !important;\r\n    /*content:"\\f05d";*//* fa-check-circle-o */\r\n    /*content: "\\f046";*/ /* fa-check-square-o */\r\n}\r\n\r\n#accountingGrid  tr:hover td:first-child:before{\r\n  content:url(\'/static/js/customUI/admin/userboard/userboard/img/hover.png\');\r\n}\r\n\r\n.dt-center{\r\n	text-align: center;\r\n}\r\n\r\n.overall-padding{\r\n	padding-top:20px;\r\n}\r\n\r\n.msgIconClass{\r\n    position:fixed;\r\n    margin-top:-9px;\r\n}\r\n\r\n.inputwithUnitClass{\r\n    width:200px;\r\n    display: inline-block;\r\n}\r\n\r\n.billGroupInput{\r\n    width:300px;\r\n    margin-left: 7px;\r\n    display: inline-block;\r\n}\r\n.modal-footer-overall{\r\n    margin-bottom: 15px;\r\n    border-top:none;\r\n}\r\n\r\n\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.nodeSelectClass{\r\n\r\n}\r\n\r\n.nodesArea{\r\n	padding-left: 20px;\r\n}\r\n\r\n.nodesViewArea{\r\n	padding-left: 20px;\r\n	padding-right: 20px;\r\n}\r\n\r\n#allNodesTable_wrapper label{\r\n	\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n#wrapper .user-files {\r\n  margin-left: 50px;\r\n  margin-right: 50px;\r\n  margin-top: 20px;\r\n}\r\n\r\n#wrapper .elfinder-ltr .elfinder-button-search .ui-icon-close {\r\n  right: 45px;\r\n}\r\n\r\n#wrapper .elfinder-ltr .elfinder-button-search {\r\n  margin-right: -35px;\r\n}\r\n\r\n#wrapper .user-files-return {\r\n  margin-left: 50px;\r\n  margin-right: 50px;\r\n  margin-top: 20px;\r\n}\r\n\r\n#wrapper .user-files-return a {\r\n  color: #0066FF;\r\n}\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.io-window-container {\r\n    //width:138px; /* Total width of visible columns + border widths (90+2)*2 */\r\n    height:190px;\r\n    //border:solid 1px #000;\r\n    //background-color:#eee;\r\n    overflow:hidden;\r\n	display: inline-block;\r\n	//margin-left: 50px;\r\n}\r\n\r\n.sliding-window-container {\r\n    width:180px; /* Total width of visible columns + border widths (90+0+0)*2 */\r\n    height:190px;\r\n    //border:solid 1px #000;\r\n    //background-color:#eee;\r\n    overflow:hidden;\r\n	display: inline-block;\r\n	//margin-left: 10px;\r\n}\r\n\r\n.io-window {\r\n    //width:138px; /* Total width of all columns in sliding-window + border widths */\r\n    height:190px;\r\n    overflow:hidden;\r\n}\r\n\r\n.sliding-window {\r\n    //width:574px; /* Total width of all columns in sliding-window + border widths */\r\n    height:190px;\r\n    overflow:hidden;\r\n}\r\n\r\n.io-window > table,\r\n.sliding-window > table {\r\n    table-layout: fixed;\r\n    float:left;\r\n    //width:90px;\r\n    height:190px;\r\n    //background-color:#aaa;\r\n    //border:solid 1px #999;\r\n}\r\n\r\n.io-table,\r\n.sliding-table {\r\n	height: 190px;\r\n	//border:solid 1px #000;\r\n}\r\n\r\n.sliding-table-header {\r\n	height: 20px;\r\n}\r\n\r\n.sliding-table-data {\r\n	height: 135px;\r\n}\r\n\r\n\r\n.io-table th {\r\n	text-align: center;\r\n	height: 20px;\r\n	font-size:18px;\r\n	font-weight: normal;\r\n}\r\n\r\n.sliding-table th {\r\n	text-align: center;\r\n	width:90px;\r\n	height: 20px;\r\n	font-size:18px;\r\n	font-weight: normal;\r\n}\r\n\r\n.sliding-table th > div {\r\n	width: 90px;\r\n	overflow: hidden;\r\n    white-space: nowrap;\r\n	text-overflow: ellipsis;\r\n}\r\n\r\n.io-table td {\r\n	text-align: center;\r\n	vertical-align: bottom;\r\n	height: 135px;\r\n}\r\n.sliding-table td {\r\n	text-align: center;\r\n	vertical-align: bottom;\r\n	width:90px;\r\n	height: 135px;\r\n	//border:solid 1px #999;\r\n}\r\n\r\n.sliding-table-data > td > div{\r\n	padding-left: 3px;\r\n	padding-right: 3px;\r\n}\r\n\r\n.io-table td > div,\r\n.sliding-table td > div{\r\n	display:inline-block;\r\n	//text-align: center;\r\n}\r\n\r\n.io-table-data td > div {\r\n	margin-left: 8px;\r\n	margin-right: 8px;\r\n}\r\n\r\n\r\n/*\r\n.banner-slider div{\r\n    display: inline-block;\r\n}\r\n.banner-slider a{\r\n    display: inline-block;\r\n}\r\n\r\n*/\r\n.banner-slider {\r\n	margin-top: 18px;\r\n	margin-bottom: auto;\r\n	height:200px;\r\n	margin-left:auto;\r\n	margin-right:auto;\r\n	text-align: center;\r\n}\r\n.banner-slider .sliding-window-next, .banner-slider .sliding-window-prev {\r\n	background:url(\'/static/js/customUI/user/dashboard/resourceBar/images/sprite.png\');\r\n	background-position: -12px -5928px; //0 -5920px;\r\n	cursor: pointer;\r\n	display: inline-block;\r\n	height: 18px;\r\n	//margin: -20px 0 0;\r\n	//opacity: 0.6;\r\n	//position: absolute;\r\n	//text-indent: -9999px;\r\n	top: 50%;\r\n	width: 14px;\r\n	z-index: 9999;\r\n	margin-bottom: 166px;\r\n}\r\n.banner-slider .sliding-window-prev {\r\n	left: 0;\r\n}\r\n.banner-slider .sliding-window-next {\r\n	background-position:-11px -5972px;\r\n	right: 0;\r\n}\r\n.banner-slider .sliding-window-next:hover, .banner-slider .sliding-window-prev:hover {\r\n	opacity: 0.9;\r\n}\r\n.banner-slider >div {\r\n	display: inline-block;\r\n}\r\n/*\r\n.col svg, .col rect {\r\n	width: 15px;\r\n}\r\n*//*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n\r\n<!--\r\n/*\r\n#cpu-holder { position:relative; width:800px; height:600px }\r\n#cpu-holder canvas { position:absolute; top:0; left:0; z-index:0 }\r\n\r\n\r\n\r\n.donut-inner\r\n{\r\nmargin-top: -100px;\r\nmargin-bottom: 100px;\r\n}\r\n.donut-inner h5\r\n{\r\nmargin-bottom: 5px;\r\nmargin-top: 0;\r\n}\r\n.donut-inner span {font-size: 12px;}\r\n*/-->\r\n\r\n.resource-holder{\r\n	display:inline-block;\r\n	margin-top: 18px;\r\n	margin-bottom: 18px;\r\n	//height:200px;\r\n	margin-left: 30px;\r\n	margin-right: 30px;\r\n}\r\n\r\n.resource-header {\r\n	text-align: center;\r\n	font-size: 20px;\r\n	margin-bottom: 10px;\r\n	font-size: 18px;\r\n}\r\n.resource-usage {\r\n	margin-top: 10px;\r\n	text-align: center;\r\n}\r\n.resource-container {\r\n	text-align: center;\r\n}\r\n\r\n<!--/*\r\n#clusterCPU-holder,\r\n#clusterMemory-holder,\r\n#storage-holder{\r\n	width:30%;\r\n}*/\r\n-->/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.ui-submitjob-wrapper {\r\n  border-right: 1px solid #e9e9e9;\r\n  border-bottom: 1px solid #e9e9e9;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.user-dashboard-footer {\r\n  margin-top: 10px;\r\n  text-align: right;\r\n  font-size: 16px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.user-notice-wrapper {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.notice-icon {\r\n  color: #428BCA;\r\n}\r\n\r\n.notice-text {\r\n  margin-left: 10px;\r\n  font-size: 16px;\r\n}\r\n\r\n.users-balance-text {\r\n  margin-left: 10px;\r\n  font-size: 16px;\r\n}\r\n\r\n.users-balance-number {\r\n  margin-left: 25px;\r\n  font-size: 16px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.job-container {\r\n	height:80%;\r\n	width:80%;\r\n	margin-left:auto;\r\n	margin-right:auto;\r\n	margin-top:30px;\r\n}\r\n\r\n.job-header  {\r\n	font-size: 20px;\r\n	font-weight: bold;\r\n	text-align: left;\r\n	margin-top: 25px;\r\n	margin-left: 15px;\r\n	margin-bottom: 20px;\r\n}\r\n.job-data {\r\n	height:75%;\r\n	width:75%;\r\n	margin-left:auto;\r\n	margin-right:auto;\r\n}\r\n.job-data canvas {\r\n	margin-left: auto;\r\n	margin-right: auto;\r\n	display: block;\r\n}\r\n.job-footer  {\r\n	text-align: center;\r\n	margin-bottom: 40px;\r\n}\r\n.job-footer > div {\r\n	margin-top: 35px;\r\n	display: inline-block;\r\n}\r\n.job-footer > div > div {\r\n	margin-top: 5px;\r\n	font-size: 13px;\r\n}\r\n/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.admin-resourcebar {\r\n  background-color: white;\r\n}\r\n\r\n.admin-resource-cell {\r\n  border: 1px solid #E1DFDA;\r\n  height: 220px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.admin-clusterbar {\r\n  background-color: white;\r\n  height: 80px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.admin-jobNodeBar {\r\n  background-color:white;\r\n}\r\n\r\n.admin-jobCell {\r\n  height: 440px;\r\n  border-top: 1px solid #e9e9e9;\r\n  border-left: 1px solid #e9e9e9;\r\n  border-bottom: 1px solid #e9e9e9;\r\n  border-right: 1px solid #e9e9e9;\r\n  -webkit-box-shadow: 0 0 2px #e9e9e9;\r\n  -moz-box-shadow: 0 0 2px #e9e9e9;\r\n  box-shadow: 0 0 2px #e9e9e9;\r\n}\r\n\r\n.admin-nodeCell {\r\n  height: 440px;\r\n  border-top: 1px solid #e9e9e9;\r\n  border-right: 1px solid #e9e9e9;\r\n  border-bottom: 1px solid #e9e9e9;\r\n  border-left: 1px solid #e9e9e9;\r\n  -webkit-box-shadow: 0 0 2px #e9e9e9;\r\n  -moz-box-shadow: 0 0 2px #e9e9e9;\r\n  box-shadow: 0 0 2px #e9e9e9;\r\n}\r\n\r\n.top-label{\r\n	float: right;\r\n	margin: 15px;\r\n	//margin-right: 15px;\r\n	//margin-left: 15px;\r\n}\r\n.top-label > div{\r\n	float: left;\r\n	margin-right: 10px;\r\n	width:15px;\r\n	height:15px;\r\n	//border:1px solid #000;\r\n}\r\n\r\n#node_chart_admin {\r\n	margin-top: 10px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.admin-dashboard {\r\n  margin-top: 20px;\r\n  margin-left: 35px;\r\n  margin-right: 35px;\r\n}/*\r\n * © Copyright Lenovo 2015.\r\n *\r\n * LIMITED AND RESTRICTED RIGHTS NOTICE:\r\n *\r\n * If data or software is delivered pursuant a General Services Administration\r\n * "GSA" contract, use, reproduction, or disclosure is subject to\r\n * restrictions set forth in Contract No. GS-35F-05925.\r\n*/\r\n.admin-users-nav {\r\n  float: left;\r\n  width: 140px;\r\n  background: #F2F2F2;\r\n}\r\n\r\n.admin-users-main {\r\n  margin-left: 140px;\r\n  background: white;\r\n  padding-left: 20px;\r\n}\r\n\r\nul.sidenav {\r\n  font-size: 16px;\r\n  float: left;\r\n  width: 140px;\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n}\r\n\r\nul.sidenav li {\r\n  height: 60px;\r\n}\r\n\r\nul.sidenav li a{\r\n  display: block;\r\n  color: #757575;\r\n  text-decoration: none;\r\n  width: 140px;\r\n  line-height: 60px;\r\n  padding: 0px 10px 0px 45px;\r\n}\r\n\r\n.admin-users-groups-mgt {\r\n  background: url(\'/static/js/customUI/admin/userboard/userboard/img/ic_supervisor_account_grey600_36x36.png\') no-repeat 5px center;\r\n}\r\n.admin-users-groups-mgt:hover {\r\n  background: white url(\'/static/js/customUI/admin/userboard/userboard/img/ic_supervisor_account_grey600_36x36.png\') no-repeat 5px center;\r\n}\r\n.admin-users-users-mgt {\r\n  background: url(\'/static/js/customUI/admin/userboard/userboard/img/ic_account_box_grey600_36x36.png\') no-repeat 5px center;\r\n}\r\n.admin-users-users-mgt:hover {\r\n  background: white url(\'/static/js/customUI/admin/userboard/userboard/img/ic_account_box_grey600_36x36.png\') no-repeat 5px center;\r\n}\r\n.admin-users-accounting-mgt {\r\n  background: url(\'/static/js/customUI/admin/userboard/userboard/img/ic_account_balance_wallet_grey600_36x36.png\') no-repeat 5px center;\r\n}\r\n.admin-users-accounting-mgt:hover {\r\n  background: white url(\'/static/js/customUI/admin/userboard/userboard/img/ic_account_balance_wallet_grey600_36x36.png\') no-repeat 5px center;\r\n}');
